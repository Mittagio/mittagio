# Mittagio - Cursor Rules

## Projekt-√úbersicht

**Mittagio** ist eine digitale Vermittlungs- & Entdeckungsplattform f√ºr strukturierte Mittagstische.

- **Typ:** Single-Page-Application (SPA) in `app/index.html`
- **Deployment:** GitHub Pages (`/mittagio/app/`)
- **Base-Path:** `<base href="/mittagio/app/">`
- **Service Worker:** aktuell deaktiviert (`sw.js.disabled`)

## Wichtigste Projektprinzipien

### Grundprinzip
- **Vermittlungs- & Entdeckungsplattform** (KEIN Marktplatz, KEIN Checkout, KEIN Abo)
- Vertr√§ge entstehen **ausschlie√ülich zwischen Anbieter und Endkunde vor Ort**
- **Keine Mindestlaufzeit, kein Vertrag mit Endkunden**

### Klare Trennung der Bereiche

**Endkundenbereich:**
- √ñffentlich, ohne Login, ohne Profil, ohne Registrierung
- Routen: `/`, `/entdecken`, `/datenschutz`, `/impressum`, `/agb`

**Anbieterbereich:**
- Eigener App-Bereich unter `/anbieter/*`
- Eigene Layout-Shell (Header + Anbieter-BottomNav)
- Routen: `/anbieter/dashboard`, `/anbieter/profil`, `/anbieter/profil/bearbeiten`, `/anbieter/recht/*`, `/anbieter/hilfe`
- `/anbieter` ‚Üí Redirect auf `/anbieter/dashboard`

**‚ùå KEINE Vermischung von Endkunden- & Anbieter-Logik**

## Routing-Regeln

### Logo-Regel
- Klick auf Mittagio-Logo im Anbieterbereich ‚Üí **immer `/anbieter/dashboard`**

### Back-Regel
- ‚ùå **KEIN** Browser-Back (`history.back()`)
- ‚úÖ **Immer explizite In-App-Navigation**
- Fallback immer: `/anbieter/dashboard`

### Dead-Click-Regel (SEHR WICHTIG)
- **Jeder klickbare Button MUSS reagieren**
- Erlaubt: Navigation, Toast/Hinweis
- ‚ùå Verboten: Klick ohne Reaktion

## UI-Texte (VERBINDLICH)

**WICHTIG:** Diese Texte M√úSSEN exakt so verwendet werden. Keine eigenen Erfindungen!

### Endkunden-Dashboard ("Mein Mittagio")
- **Titel:** Dein Mittag in der N√§he
- **Willkommenskarte:**
  - √úberschrift: Willkommen bei Mittagio üëã
  - Text: Finde frische Mittagsangebote in deiner N√§he.
  - Button: Angebote entdecken
- **K√ºrzlich angesehen:** Titel + Button "Angebote ansehen"
- **Anbieter-CTA:**
  - Titel: Als Anbieter starten
  - Text: Mittagtische einfach online anbieten
  - Button: Zum Anbieterbereich

### ‚ùå Verbotene Begriffe (Endkunden)
- Profil anlegen
- Meine Bestellungen
- Zur Mittagsbox
- Bestellen
- Abholcodes (f√ºr Endkunden)

### Anbieter-Dashboard
- **Erlaubt:** Inserate, Abholung, Kochbuch, Button "Inserat erstellen"
- **Optional (graue Stepper-Tags):** ‚ûú Inserat erstellen, ‚ûú Gericht w√§hlen, ‚ûú Abholcode (optional)
- **‚ùå Entfernen:** "Willkommen bei Mittagio", "Starte mit deinem ersten Gericht", "Adresse hinzuf√ºgen"

### Rechtstexte
- ‚úÖ Exakt so: AGB, Impressum, Datenschutz
- ‚ùå Nie: AGB-Kurzfassung, Hinweise wie "√∂ffnet dein E-Mail-Programm"

**Vollst√§ndige UI-Texte:** Siehe `CURSOR_UI_TEXTE.md`

## Datenschutz & Endkunden

### Endkunden-Datenschutz
- Gilt f√ºr **Besucher & Endkunden**
- Route: `/datenschutz`
- Keine Registrierung, keine Bestellungen, keine Zahlungen, kein Nutzerkonto
- Kein Marketing-Tracking, keine Werbung
- DSGVO-konform (MVP-Level)

### Erlaubte Endkunden-Daten
- Technisch notwendige Daten
- Standort max. **Stadt / Region**
- Session-basierte Anzeige (z. B. zuletzt angesehen)

### Nicht erlaubt
- Profil anlegen
- "Meine Bestellungen"
- Warenkorb / Box / Checkout
- Abholcodes f√ºr Endkunden
- Personalisierte Nutzerprofile

## Code-Qualit√§t & Standards

### Technische Regeln
- Alle DOM-Zugriffe mit **Null-Checks** absichern
- **Keine `history.back()`** verwenden
- **Immer explizite Navigation**
- Jeder Button muss reagieren (Dead-Click-Regel)
- **Toast statt Alert**: Immer `showToast('Nachricht')` verwenden, nie `alert()`
- **Arbeitsverzeichnis**: Immer in `C:\Projekte\mittagio` arbeiten (NICHT OneDrive)

### Design-System (Farben & Haptik)
- **Mittagio-Gelb**: `#FFD700` (Sattes, warmes Gelb ‚Äì wie eine frische Kruste)
- **K√ºchen-Anthrazit**: `#121826` (Dunkel, edel, hoher Kontrast)
- **Schatten f√ºr gelbe Buttons**: `box-shadow: 0 25px 50px -12px rgba(255, 215, 0, 0.25)` (Schwebe-Effekt)
- **CSS-Variablen**: `var(--brand)` = `#FFD700`, `var(--border)` f√ºr Rahmen
- **Micro-Interactions**: Buttons mit `transform: scale(0.98)` bei `:active` (0.1s)

### Design-Standards
- **Premium Card-Design**: Horizontales Layout (`.dish-card`, 140px H√∂he)
- **Lucide Icons**: Immer `<i data-lucide="icon-name"></i>` verwenden
- **Nach Rendering**: `lucide.createIcons()` aufrufen
- **Buttons**: Mindesth√∂he 44px (Fat-Finger-Safe), runde Icon-Buttons 34px
- **CTA-Buttons**: `h-16` (64px), `rounded-3xl`, `bg-[#FFD700]`, `text-black`, `font-weight: 900`

### Implementierte Features
- **Tinder-Swipe**: View-Toggle Liste/Swipe, Touch-Gesten, Haptic Feedback, Match Modal
- **Mittagspausen-Timer**: Gehzeit-Berechnung (5 km/h), "Noch X Min zu Fu√ü" Badge
- **Social-Proof**: "Heute schon Xx bestellt" Badge (gelb, users-Icon)
- **Invite-Feature**: "Ich hole mir heute [Gericht] bei [Metzger] ‚Äì kommst du mit?"
- **Skeleton-Screens**: Loading-Placeholder mit pulse-Animation
- **Foto-KI**: Mock GPT-4o Vision API, Auto-Tagging von Allergenen (ohne Mengensch√§tzungen)
- **Ein-Hand-Check-in (USP)**: Gro√üe Abholnummern-Kacheln (72px), Tap-to-Complete, Gr√ºner Flash, Sortierung nach Abholzeit
- **No-Limits Inseratsflow**: Keine Mengenangaben, prominenter "Ausverkauft"/"Noch da" Toggle, active=false Gerichte verschwinden aus Feed

### Projektstruktur
```
mittagio/
‚îú‚îÄ‚îÄ app/                    # Hauptcode (SPA)
‚îÇ   ‚îú‚îÄ‚îÄ index.html         # Single-Page-Application
‚îÇ   ‚îú‚îÄ‚îÄ manifest.json      # PWA Manifest
‚îÇ   ‚îú‚îÄ‚îÄ assets/            # Bilder, Icons
‚îÇ   ‚îî‚îÄ‚îÄ sw.js.disabled     # Service Worker (deaktiviert)
‚îú‚îÄ‚îÄ docs/                  # Produkt- & UX-Konzept
‚îú‚îÄ‚îÄ tickets/               # Feature-Tickets
‚îî‚îÄ‚îÄ .cursorrules           # Diese Datei
```

### Wichtige Dateien f√ºr Kontext
- `CURSOR_CONTEXT_MITTAGIO.md` - Vollst√§ndige Projektzusammenfassung
- `CURSOR_UI_TEXTE.md` - Verbindliche UI-Texte
- `CURSOR_CONTEXT_MITTAGIO_KURZ.md` - Kurzfassung
- `PROMPTS.md` - Wiederverwendbare Master-Prompts (Prompt-Library)

## Golden Rules (f√ºr Cursor)

> Wenn sich etwas **wie ein Shop oder Account** anf√ºhlt ‚Üí **falsch**
> Wenn ein Klick **nichts tut** ‚Üí **nicht done**
> Wenn Endkunde & Anbieter vermischt sind ‚Üí **Bug**

## Empfohlener Cursor-Prompt

**Immer davor schreiben:**
> "Bitte strikt nach der Cursor-Gesamtzusammenfassung Mittagio (Stand 24.01.2026) arbeiten und ausschlie√ülich die verbindlichen UI-Texte verwenden."

## Git & Synchronisation

- Alle √Ñnderungen m√ºssen committed und gepusht werden
- Schnell-Sync: `sync-to-github.bat` (Windows) oder `sync-to-github.sh` (Mac/Linux)
- Siehe `SYNC_CHECKLIST.md` f√ºr Details

---

**Stand:** 26.01.2026  
**Letzte Aktualisierung:** 24.01.2026 (Kontext-Dateien)
