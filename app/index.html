  <!doctype html>
<html lang="de">
<head>
  <base href="/mittagio/app/">
  <meta charset="utf-8" />
  <!-- Mobile-Optimierung: viewport für App-like Darstellung (viewport-fit=cover für Notch/Safe-Area) -->
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover,maximum-scale=5,user-scalable=yes" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>Mittagio</title>
  <meta name="theme-color" content="#FFD700" />
  <!-- Init-Gate: kein Flackern beim Hard-Reload – Body erst nach View-Switch sichtbar -->
  <style>body{visibility:hidden;}</style>
  <!-- WhatsApp/Link-Vorschau: Standard-OG (provider-spezifisch ggf. per Server) -->
  <meta property="og:title" content="Mittagio – Wochenplan" />
  <meta property="og:description" content="Unser Wochenplan ist online! Entdecke Gerichte und bestelle mit Abholnummer." />
  <meta property="og:image" content="https://images.unsplash.com/photo-1546069901-eacef0df6022?auto=format&amp;fit=crop&amp;w=1200&amp;q=80" />
  <meta property="og:type" content="website" />
  <!-- Build: 2026-02-04 -->
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="assets/icons/icon-192.png" />
  <link rel="apple-touch-icon" href="assets/icons/icon-192.png" />
  <!-- gastro-bg.png nur in Provider-Modus genutzt; kein Preload, um Warnung zu vermeiden wenn Seite als Kunde startet -->
  <script>if(typeof history!=='undefined'&&history.scrollRestoration)history.scrollRestoration='manual';</script>
  <script src="https://unpkg.com/lucide@0.460.0/dist/umd/lucide.min.js" onload="if(typeof lucide !== 'undefined') try { lucide.createIcons(); } catch(e) { console.warn('Lucide init:', e); }"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&family=Montserrat:wght@400;600;700;900&family=Kalam:wght@400;700&family=Permanent+Marker&family=Nunito:wght@600;700;800&family=Quicksand:wght@500;600;700&display=swap');
    :root{
      /* Mittagio High-End Farbpalette */
      --bg:#F7F6F0; /* Standard-Hintergrund */
      --bg-polaroid:#E8E0D6; /* Gebleichte Eiche (Polaroid-Discovery Hintergrund) */
      --card:#FFFFFF;
      --text:#334155;   /* Slate Grey - edler als reines Schwarz */
      --muted:#6b6b6b;
      --border:#e7e1d5;
      --shadow:0 10px 24px rgba(0,0,0,.08);
      --shadow2:0 16px 40px rgba(0,0,0,.14);
      --radius:24px;     /* rounded-3xl for messenger vibe */
      --brand:#FFD700;   /* Mittagio Gold - Primär (Korb, Abholnummer-Buttons) */
      --brand2:#2ECC71;  /* Erfolgs-Grün - Profit (Netto-Umsatz) */
      --brand3:#27AE60;  /* Mehrweg-Grün - Dezent (Blatt-Icon) */
      --sticker-green:#27AE60; /* Preis-Sticker & Mehrweg-Badge (Polaroid-Card) */
      --danger:#E34D4D;
      --font-polaroid-marker:'Permanent Marker', 'Kalam', cursive;
      
      /* Design Tokens - PWA Light */
      /* Radius */
      --r-sm: 10px;
      --r-md: 14px;
      --r-lg: 18px;
      --r-xl: 24px;
      --r-full: 999px;
      
      /* Spacing */
      --s-1: 4px;
      --s-2: 8px;
      --s-3: 12px;
      --s-4: 16px;
      --s-5: 20px;
      --s-6: 24px;
      --s-8: 32px;
      
      /* Typography */
      --font-title: 18px;
      --font-title-lg: 20px;
      --font-body: 14px;
      --font-body-lg: 16px;
      --font-meta: 12px;
      --font-meta-sm: 13px;
      --font-weight-semibold: 600;
      --font-weight-bold: 700;
      
      /* Colors (Light) */
      --color-bg: #FFFFFF;
      --color-surface: #FFFFFF;
      --color-border: #EAEAEA;
      --color-text: #1A1A1A;
      --color-text-secondary: #6B6B6B;
      --color-brand-yellow: #FFD700;  /* Mittagio Gold */
      --color-emerald: #10b981;       /* High-Tech-Gastro Akzent (Inseratsflow, Pills) */
      --color-success-green: #2ECC71;  /* Erfolgs-Grün - Profit */
      --color-eco-green: #27AE60;      /* Mehrweg-Grün - Dezent */
      --color-slate-text: #334155;     /* Slate Grey - Texte */
      --color-soft-yellow-bg: rgba(255, 204, 0, 0.15);
      --color-soft-green-bg: rgba(31, 157, 85, 0.12);
      --color-soft-grey-bg: rgba(0, 0, 0, 0.06);
      
      /* Icon Sizes */
      --icon-inline: 16px;
      --icon-inline-lg: 18px;
      --icon-header: 20px;
      --icon-header-lg: 22px;
      --icon-nav: 22px;
      --icon-nav-lg: 24px;
      
      /* Button Heights */
      --btn-height-min: 44px;
      --btn-height-md: 48px;
      
      /* Badge */
      --badge-height: 24px;
      --badge-px: 10px;
      --badge-px-lg: 12px;
    }
    *{box-sizing:border-box}

    /* ========== TRENNUNG KUNDE / ANBIETER (PFLICHT) ==========
     * Jede layout-kritische Regel (height, overflow, scroll) MUSS einen der beiden Scopes haben:
     * - NUR ANBIETER: body.provider-mode ... oder [id^="v-provider-"] ...
     * - NUR KUNDE:    body:not(.provider-mode) ...
     * Keine gemeinsamen Regeln für #app/main/body mit height/overflow – sonst bricht eine Seite die andere.
     * ========== */

    /* VIEW-SWITCH: nur aktive View sichtbar (gemeinsam) */
    #app .view:not(.active){ display:none !important; min-height:0 !important; visibility:hidden !important; }
    #app .view.active{ display:block !important; }
    body.provider-mode #app .view.active{ min-height:100dvh; min-height:100vh; }
    #app .view.active#v-pickup-code{ display:flex !important; }
    #app .view.active[id^="v-provider-"]{ display:block !important; }
    #app .view.active#v-provider-week{ display:flex !important; }
    .backdrop:not(.active){ display:none !important; opacity:0 !important; }
    .sheet:not(.active){ visibility:hidden !important; pointer-events:none !important; }

    html,body{height:100%; margin:0; padding:0; overflow-x:hidden}
    body{
      margin:0; padding:0;
      font-family:'Inter', 'Montserrat', system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      font-size:16px; line-height:1.5;
      background:var(--bg); color:var(--text);
      -webkit-tap-highlight-color: transparent; -webkit-touch-callout: none;
      touch-action: pan-y pinch-zoom; overscroll-behavior-y: none;
    }
    body.provider-mode{ overflow-y:hidden; }

    body:not(.provider-mode) #providerStatusIndicator,
    body:not(.provider-mode) #statusIndicatorDot { display: none !important; }
    a{color:inherit}

    /* App shell: NUR unkritische Gemeinsamkeiten (kein height/overflow für beide) */
    .app,#app{ display:flex; flex-direction:column; box-sizing:border-box; overflow-x:hidden; }
    .app main,#app main{ display:block; }
    .app{ padding-bottom:calc(78px + env(safe-area-inset-bottom, 0px)); }

    /* ========== NUR ANBIETER (body.provider-mode) – keine Regel hier darf Kunde betreffen ========== */
    body.provider-mode .app, body.provider-mode #app{ min-height:100dvh; height:100dvh; max-height:100dvh; overflow:hidden; }
    body.provider-mode .app main, body.provider-mode #app main{ flex:1; min-height:0; overflow-y:auto; -webkit-overflow-scrolling:touch; }

    /* ========== NUR KUNDE (body:not(.provider-mode)) – keine Regel hier darf Anbieter betreffen ========== */
    body:not(.provider-mode) .app, body:not(.provider-mode) #app{ min-height:100%; min-height:100dvh; }
    body:not(.provider-mode) .app main, body:not(.provider-mode) #app main{ min-height:auto; overflow-y:visible; -webkit-overflow-scrolling:touch; }
    .topbar{
      position:sticky; top:0; z-index:10;
      background:rgba(247,246,240,.92);
      backdrop-filter:saturate(160%) blur(8px);
      -webkit-backdrop-filter:saturate(160%) blur(8px);
      border-bottom:1px solid var(--border);
      padding-top:env(safe-area-inset-top, 0px);
      padding-left:env(safe-area-inset-left, 0);
      padding-right:env(safe-area-inset-right, 0);
    }
    .topbar-inner{max-width:980px; margin:0 auto; padding:12px 16px; display:flex; align-items:center; gap:10px;}
    .header-basket-btn{
      position:relative;
      background:none;
      border:none;
      cursor:pointer;
      padding:8px;
      transition:transform 0.2s ease, filter 0.3s ease;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .header-basket-btn:hover{
      transform:scale(1.1);
    }
    .header-basket-btn:active{
      transform:scale(0.95);
    }
    .header-basket-btn.bounce{
      animation:basketBounce 0.5s ease;
    }
    .header-basket-btn.glow{
      filter:drop-shadow(0 0 12px rgba(255,215,0,0.8));
    }
    @keyframes basketBounce{
      0%, 100%{transform:scale(1);}
      50%{transform:scale(1.2);}
    }
    .header-basket-badge{
      position:absolute;
      top:4px;
      right:4px;
      width:18px;
      height:18px;
      background:#FFD700;
      color:#2D3436;
      border-radius:50%;
      font-size:11px;
      font-weight:900;
      display:flex;
      align-items:center;
      justify-content:center;
      border:2px solid #fff;
      box-shadow:0 2px 8px rgba(0,0,0,0.15);
    }
    .brand{
      display:flex; align-items:center; gap:10px; min-width:0;
      cursor:pointer;
      transition:opacity 0.2s ease;
    }
    .brand:hover{
      opacity:0.8;
    }
    .brand:active{
      opacity:0.6;
    }
    .brand-badge{
      width:38px; height:38px; border-radius:12px;
      background:linear-gradient(135deg,var(--brand),var(--brand2));
      box-shadow:0 8px 18px rgba(0,0,0,.16);
      display:flex; align-items:center; justify-content:center;
      overflow:hidden;
      flex:0 0 auto;
    }
    .brand-badge img{width:100%; height:100%; object-fit:cover; display:block}
    .brand-name{font-weight:900; letter-spacing:.06em; font-size:20px; white-space:nowrap}
    .spacer{flex:1}

    .chiprow{
      max-width:980px; margin:0 auto; padding:6px 14px 8px;
      display:flex; gap:8px; overflow:auto; -webkit-overflow-scrolling:touch;
    }
    
    /* Verzehrart-Buttons: Active-State mit gelber Hintergrundfarbe */
    .verzehrmodus-checkout-btn.active,
    .verzehrmodus-cart-btn.active{
      background:#FFD700 !important;
      border-color:#FFD700 !important;
      color:#2D3436 !important;
      font-weight:900 !important;
    }
    .verzehrmodus-checkout-btn:not(.active),
    .verzehrmodus-cart-btn:not(.active){
      background:#fff !important;
      border-color:#e7e1d5 !important;
      color:#666 !important;
      font-weight:600 !important;
    }
    .verzehrmodus-checkout-btn:hover:not(.active),
    .verzehrmodus-cart-btn:hover:not(.active){
      border-color:#FFD700 !important;
      background:#fffbf0 !important;
    }
    
    /* Pickup Card Styles (Anbieter: helles Layout) */
    .pickup-card {
      background: #fff;
      border: 1px solid rgba(0,0,0,0.06);
      border-radius: 16px;
      padding: 16px;
      position: relative;
      overflow: hidden;
      transition: all 0.2s;
      cursor: pointer;
      box-shadow: 0 2px 12px rgba(0,0,0,0.06);
    }
    .pickup-card:active {
      transform: scale(0.98);
    }
    .pickup-card.status-done {
      opacity: 0.6;
      background: #f8f7f2;
    }
    .pickup-card.status-paid {
      border-color: rgba(34, 197, 94, 0.3);
    }
    .pickup-card.just-done {
      animation: pickupDoneAnim 0.4s ease forwards;
    }
    @keyframes pickupDoneAnim {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.05); opacity: 1; background: #2ecc71; }
      100% { transform: scale(0.95); opacity: 0; }
    }
    
    .chip{
      flex:0 0 auto;
      border:1px solid var(--border);
      background:#f8f7f3;
      padding:10px 16px;
      border-radius:999px;
      font-size:14px;
      font-weight:800;
      color:#222;
      cursor:pointer;
      white-space:nowrap;
      box-shadow:0 6px 14px rgba(0,0,0,.06);
      display:inline-flex;
      align-items:center;
      gap:6px;
    }
    .chip.active{
      border-color:rgba(31,157,85,.45);
      background:rgba(31,157,85,.12);
      box-shadow:0 10px 22px rgba(31,157,85,.12)
    }

    .pickup-group{
      border:1px solid var(--border);
      background:#fff;
      border-radius:14px;
      padding:10px;
      box-shadow:0 6px 14px rgba(0,0,0,.06);
    }
    .pickup-group + .pickup-group{margin-top:10px}
    .pickup-head{display:flex; align-items:center; justify-content:space-between; gap:8px; font-weight:900}
    .pickup-sub{font-size:12px; color:var(--muted)}
    .code-chip{
      display:inline-flex; align-items:center; justify-content:center;
      padding:6px 10px; border-radius:999px; border:1px solid var(--border);
      background:#fff; font-size:12px; font-weight:900;
      margin:4px 6px 0 0; box-shadow:0 6px 14px rgba(0,0,0,.06);
    }
    .code-chip.done{background:rgba(31,157,85,.12); border-color:rgba(31,157,85,.4); color:#1f9d55; text-decoration:line-through}

    /* Abholnummer Card Animation (Pulse/Shimmer) */
    /* Match-Screen Animationen */
    @keyframes scaleIn {
      0% { transform: scale(0); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }
    @keyframes slideUp {
      0% { transform: translateY(20px); opacity: 0; }
      100% { transform: translateY(0); opacity: 1; }
    }
    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    
    @keyframes abholnummerPulse {
      0%, 100% {
        transform: scale(1);
        box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);
      }
      50% {
        transform: scale(1.01);
        box-shadow: 0 25px 30px -5px rgba(255,204,0,0.15), 0 15px 15px -5px rgba(255,204,0,0.08);
      }
    }
    @keyframes abholnummerShimmer {
      0% {
        background-position: -200% 0;
      }
      100% {
        background-position: 200% 0;
      }
    }
    .ticket-card-pulse {
      animation: abholnummerPulse 2s ease-in-out infinite;
    }
    .ticket-card-pulse::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      animation: abholnummerShimmer 3s ease-in-out infinite;
    }

    .dayrow{
      max-width:980px; margin:0 auto; padding:0 14px 12px;
      display:flex; gap:8px; overflow:auto; -webkit-overflow-scrolling:touch;
    }
    .day{
      flex:0 0 auto;
      border:none;
      background:#fff;
      padding:12px 16px;
      border-radius:999px;
      font-size:14px;
      font-weight:900;
      cursor:pointer;
      box-shadow:0 6px 14px rgba(0,0,0,.06);
      border:1px solid var(--border);
    }
    .day.active{background:rgba(242,183,5,.14); border-color:rgba(242,183,5,.55)}

    body:not(.provider-mode) main{ max-width:980px; margin:0 auto; padding:16px; }
    .grid{display:grid; grid-template-columns:1fr; gap:12px}
    @media (min-width:820px){ .grid{grid-template-columns:1fr 1fr} }

    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:20px;
      overflow:hidden;
      box-shadow:0 4px 16px rgba(0,0,0,.08);
      cursor:pointer;
      position:relative;
      margin-bottom:16px;
    }
    /* Polaroid-Discovery: Weißer Rand – schmaler an den Seiten, breiter unter dem Text */
    .card.polaroid{
      background:#FFFFFF;
      border:none;
      border-radius:12px;
      box-shadow:0 2px 8px rgba(0,0,0,0.08);
      padding:0 6px 20px 6px; /* schmaler seitlich, breiter unten */
      display:flex;
      flex-direction:column;
      align-items:stretch;
      width:100%;
      max-width:100%;
      margin:0 auto;
      overflow:hidden;
      background:linear-gradient(135deg, #f5f1eb 0%, #ede8e0 100%);
      box-sizing:border-box;
    }
    @media (max-width: 480px) {
      .card.polaroid {
        padding:0 5px 16px 5px;
      }
    }
    .card.playful{
      border-color:rgba(242,183,5,.38);
      box-shadow:0 12px 26px rgba(242,183,5,.18);
    }
    .card.playful .body{
      background:linear-gradient(180deg,#fff, #fff4e6);
    }
    .card.playful .price{color:#b26b00}
    .card.playful .tag{background:rgba(242,183,5,.25)}
    .img{aspect-ratio:16/9; height:auto; min-height:120px; max-height:140px; background:#eee; position:relative; overflow:hidden; border-radius:20px 20px 0 0}
    .img img{width:100%; height:100%; object-fit:cover; display:block}
    /* Polaroid: Foto nimmt exakt 50% der Kachelhöhe ein */
    .card.polaroid .img{
      width:100%;
      height:50%; /* Exakt 50% der Kartenhöhe */
      min-height:140px;
      max-height:140px;
      border-radius:0;
      position:relative;
      overflow:hidden;
      flex-shrink:0;
    }
    
    /* Badge-Overlay oben links auf dem Bild */
    .badge-overlay {
      position: absolute;
      top: 8px;
      left: 8px;
      display: flex;
      gap: 6px;
      z-index: 10;
    }
    
    /* Der einzelne kreisrunde Badge-Button */
    .badge-icon {
      width: 28px;
      height: 28px;
      background: rgba(255, 255, 255, 0.75);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }
    
    /* Bild innerhalb des Badges */
    .badge-icon img {
      width: 18px;
      height: 18px;
      object-fit: contain;
    }
    
    /* 3 Säulen: Modern Badges (Icon + Text) */
    .pillar-bars {
      display: flex;
      gap: 12px;
      margin-top: 12px;
      padding-top: 12px;
      border-top: 1px solid rgba(0,0,0,0.05);
    }
    .pillar-badge {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      opacity: 0.4;
      filter: grayscale(1);
      transition: all 0.3s ease;
    }
    .pillar-badge.active {
      opacity: 1;
      filter: grayscale(0);
    }
    
    .pillar-icon-circle {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #f0f0f0;
      color: #666;
      font-size: 14px;
      transition: all 0.3s;
    }
    .pillar-badge.active.green .pillar-icon-circle { background: rgba(39, 174, 96, 0.15); color: #27AE60; }
    .pillar-badge.active.yellow .pillar-icon-circle { background: rgba(255, 215, 0, 0.2); color: #1a1a1a; }
    .pillar-badge.active.blue .pillar-icon-circle { background: rgba(52, 152, 219, 0.15); color: #3498db; }
    
    .pillar-label {
      font-size: 10px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: #999;
      text-align: center;
    }
    .pillar-badge.active .pillar-label { color: #333; }
    
    .card.polaroid .img img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .provider-logo{
      display:flex; align-items:center; gap:8px;
      padding:12px 14px 0;
    }
    .plogo{
      width:28px; height:28px; border-radius:8px;
      background:#f2f2f2;
      overflow:hidden;
      border:1px solid var(--border);
      flex:0 0 auto;
    }
    .plogo img{width:100%; height:100%; object-fit:cover; display:block}
    .pname{font-size:14px; font-weight:900; color:#222; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; line-height:1.3}

    .body{padding:16px}
    .title{font-weight:950; font-size:18px; margin:0; line-height:1.3}
    .sub{margin:4px 0 0; color:#444; font-size:14px; line-height:1.4}
    
    /* Refactored Card Styles - weniger Text, mehr Icons */
    .card-heart{
      position:absolute; top:12px; right:12px; z-index:5;
      width:36px; height:36px; border-radius:50%;
      border:none; background:rgba(255,255,255,.9);
      backdrop-filter:blur(8px); display:flex;
      align-items:center; justify-content:center;
      cursor:pointer; transition:all .2s;
      box-shadow:0 2px 8px rgba(0,0,0,.1);
    }
    .card-heart:hover{background:rgba(255,255,255,1); transform:scale(1.05)}
    .card-heart.on{background:rgba(255,204,0,.2)}
    .card-heart i{width:18px; height:18px; color:#999}
    .card-heart.on i{color:#e74c3c; fill:currentColor}
    
    .card-title-row{
      display:flex; align-items:flex-start; justify-content:space-between;
      gap:8px; margin-bottom:6px;
    }
    .card-title{
      font-weight:900; font-size:17px; margin:0;
      line-height:1.3; flex:1; min-width:0;
      display:-webkit-box; -webkit-line-clamp:2; line-clamp:2;
      -webkit-box-orient:vertical; overflow:hidden;
      color:#111;
    }
    .card-provider{
      font-size:13px; color:#666; margin:0 0 8px;
      line-height:1.3; font-weight:500;
      display:flex; align-items:center; gap:6px;
    }
    .card-provider .ico-inline{
      width:16px; height:16px; flex-shrink:0;
      color:var(--muted);
    }
    .card-provider .ico-inline svg{
      width:16px; height:16px;
    }
    .card-price{
      font-size:24px; font-weight:950; color:var(--brand);
      margin:0 0 10px; line-height:1;
    }
    .card-info-badges{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-bottom:10px; align-items:center;
    }
    .card-info-badge{
      display:inline-flex; align-items:center; gap:4px;
      font-size:13px; font-weight:600; color:#666;
      white-space:nowrap;
    }
    .card-info-badge .ico-inline{
      width:16px; height:16px; flex-shrink:0;
      color:var(--muted);
    }
    .card-info-badge .ico-inline svg{
      width:16px; height:16px;
    }
    .card-status-badges{
      display:flex; gap:6px; flex-wrap:wrap;
      margin-bottom:10px;
    }
    .card-status-badge{
      display:inline-flex; align-items:center; gap:4px;
      padding:4px 10px; border-radius:999px;
      font-size:11px; font-weight:600;
      background:rgba(0,0,0,.06); color:#666;
      white-space:nowrap;
    }
    .card-status-badge .ico-inline{
      width:14px; height:14px; flex-shrink:0;
    }
    .card-status-badge .ico-inline svg{
      width:14px; height:14px;
    }
    /* Abholnummer Badge: leicht hervorgehoben (Markenfarbe Gelb) */
    .card-status-badge.code{
      background:rgba(255,204,0,.2); color:#b8860b;
      font-weight:700;
    }
    .card-status-badge.code .ico-inline{color:#b8860b}
    /* Badge-Styles Abholnummer */
    .card-status-badge.dine{
      background:rgba(31,157,85,.12); color:#1f9d55;
    }
    .card-status-badge.dine .ico-inline{color:#1f9d55}
    /* Zum Mitnehmen Badge: neutrale weiche Füllung */
    .card-status-badge.pickup{
      background:rgba(0,0,0,.06); color:#666;
    }
    /* Konzept-Icons: Mehrweg, Essen vor Ort, Abholnummer (einheitliche Größe) */
    .concept-icon{ width:22px; height:22px; object-fit:contain; vertical-align:middle; flex-shrink:0; }
    .concept-icon-lg{ width:28px; height:28px; object-fit:contain; vertical-align:middle; flex-shrink:0; }
    .concept-icon-xl{ width:36px; height:36px; object-fit:contain; vertical-align:middle; flex-shrink:0; }

    .meta{display:flex; justify-content:space-between; align-items:flex-end; gap:12px; margin-top:12px}
    .price{font-weight:950; font-size:18px; color:#0f5c4c}
    .right{ text-align:right; font-size:13px; color:var(--muted); line-height:1.4 }
    .meta-line{display:flex; align-items:center; gap:6px; justify-content:flex-end}
    .tag{display:inline-block; margin-top:6px; padding:4px 8px; border-radius:999px; font-size:12px; font-weight:900; background:rgba(242,183,5,.18)}

    .badge{
      position:absolute; top:12px; left:12px;
      background:rgba(17,17,17,.72);
      color:#fff;
      font-size:12px; font-weight:900;
      padding:6px 10px;
      border-radius:999px;
      box-shadow:0 10px 22px rgba(0,0,0,.18);
      line-height:1.3;
    }
    .badge.code{left:auto; right:12px; background:rgba(31,157,85,.9)}
    .badge.dine{background:rgba(242,183,5,.9); color:#111}
    .badge.inactive{background:rgba(0,0,0,.45)}

    .heart{
      position:absolute; top:12px; right:12px;
      width:36px; height:36px; border-radius:999px;
      border:none; cursor:pointer;
      background:rgba(255,255,255,.92);
      box-shadow:0 10px 22px rgba(0,0,0,.16);
      font-size:16px;
      color:#bbb;
      display:flex; align-items:center; justify-content:center;
    }
    .heart.on{color:var(--danger)}

    /* Bottom nav - Glassmorphism Mittagio-Bar */
    .nav-badge{
      position:absolute; top:4px; right:8px;
      width:18px; height:18px;
      background:#FFD700; color:#2D3436;
      border-radius:50%; font-size:11px; font-weight:900;
      display:flex; align-items:center; justify-content:center;
      border:2px solid #fff; box-shadow:0 2px 8px rgba(0,0,0,0.15);
      z-index:10;
    }
    .navbtn.bounce{
      animation:basketBounce 0.5s ease;
    }
    .navbtn.glow{
      filter:drop-shadow(0 0 12px rgba(255,215,0,0.8));
    }
    @keyframes basketBounce{
      0%, 100%{transform:scale(1);}
      50%{transform:scale(1.15);}
    }
    .bottom{
      position:fixed; left:0; right:0; bottom:0; z-index:20;
      height:calc(60px + env(safe-area-inset-bottom, 20px));
      padding-bottom:env(safe-area-inset-bottom, 20px);
      padding-left:env(safe-area-inset-left, 0);
      padding-right:env(safe-area-inset-right, 0);
      background:rgba(255,255,255,.85);
      backdrop-filter:saturate(180%) blur(20px);
      -webkit-backdrop-filter:saturate(180%) blur(20px);
      border-top:1px solid rgba(231,225,213,.3);
      display:flex;
      box-shadow:0 -4px 20px rgba(0,0,0,.05);
    }
    .navbtn{
      flex:1; border:none; background:none; cursor:pointer;
      display:flex; flex-direction:column; align-items:center; justify-content:center; gap:4px;
      color:#777; font-size:11px; font-weight:600;
      padding:8px 4px; transition:color .2s;
      position:relative;
      -webkit-tap-highlight-color: transparent;
    }
    .navbtn * {
      pointer-events: none;
    }
    .navbtn .ico{font-size:22px; display:inline-flex; align-items:center; justify-content:center}
    .navbtn .ico svg{width:22px; height:22px; stroke-width:2}
    /* Bottom Navigation Icons: 22-24px */
    .navbtn.active{color:var(--brand)}
    .navbtn.active .ico svg{color:var(--brand); stroke:var(--brand)}
    .navbtn.active{color:var(--brand); font-weight:900}
    .navbtn .badge-notification{
      position:absolute; top:8px; right:calc(50% - 20px);
      width:8px; height:8px; border-radius:50%;
      background:var(--brand); border:2px solid rgba(255,255,255,.85);
    }

    /* Views */
    /* Confetti Animation */
  @keyframes confetti-fall {
    0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
  }
  .confetti {
    position: fixed; width: 10px; height: 10px; background: #FFD700;
    top: -20px; z-index: 2000; pointer-events: none;
    animation: confetti-fall 3s linear forwards;
  }

  .success-card-preview {
    background: #fff;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 8px 24px rgba(0,0,0,0.08);
    border: 1px solid rgba(0,0,0,0.04);
    margin: 20px 0;
    text-align: left;
  }
  .success-card-img {
    width: 100%; height: 120px; object-fit: cover;
  }
  .success-card-body {
    padding: 16px;
  }
    .view.active{display:block}
    /* Abholnummer-Ansicht benötigt flex-Layout */
    .view.active#v-pickup-code{display:flex !important}

    /* Kundenseiten: Einheitlicher Style von Seite 1 (Discovery) – Farben & Look */
    .customer-view{
      background:var(--bg-polaroid);
      min-height:100vh;
      padding:0 12px 0;
      padding-bottom:calc(100px + env(safe-area-inset-bottom, 0px));
    }
    .customer-view .panel{
      background:rgba(255,255,255,0.95);
      backdrop-filter:blur(12px);
      -webkit-backdrop-filter:blur(12px);
      border:1px solid rgba(0,0,0,0.06);
      border-radius:20px;
      box-shadow:0 4px 16px rgba(0,0,0,.06);
    }
    .customer-view .section-title{ color:#334155; }
    .customer-view .hint{ color:#64748b; }
    /* Topbar in Kundekontext: gleicher warmer Ton wie Seite 1 */
    .topbar.customer-context{
      background:rgba(232,224,214,0.92);
      border-bottom-color:rgba(0,0,0,0.08);
    }
    /* Provider-FAB und Abholnummer-Overlay in Kundenansicht nie anzeigen (auch beim Runterscrollen) */
    body:not(.provider-mode) #fabProviderAddOffer,
    body:not(.provider-mode) #fabProviderAddOfferLabel { display: none !important; }
    #fabProviderAddOfferLabel { display: none !important; }

    /* Sheets / modals – Safe-Area für moderne Handys (S25, iPhone, Pixel) */
    .backdrop{position:fixed; inset:0; background:rgba(0,0,0,.6); opacity:0; pointer-events:none; transition:opacity .2s; z-index:2000}
    .backdrop.active{opacity:1; pointer-events:auto}
    /* Modals: nur sichtbar wenn .active – verhindert leeren Screen auf allen Anbieter-Seiten */
    #quickPostBd:not(.active),
    #publishFeeBd:not(.active),
    #inseratSuccessBd:not(.active){ display:none !important; opacity:0 !important; pointer-events:none !important; }
    #quickPostSheet:not(.active),
    #publishFeeSheet:not(.active),
    #inseratSuccessSheet:not(.active){ visibility:hidden !important; pointer-events:none !important; }
    .sheet{
      position:fixed; left:0; right:0; bottom:-120%; z-index:2001;
      background:#fff; border-radius:22px 22px 0 0;
      box-shadow:var(--shadow2);
      transition:bottom .28s ease;
      max-height:92vh; overflow:auto;
      padding-left:env(safe-area-inset-left, 0);
      padding-right:env(safe-area-inset-right, 0);
      padding-bottom:env(safe-area-inset-bottom, 0);
    }
    .sheet.active{bottom:0}
    #publishFeeSheet.active{ bottom:0 !important; visibility:visible !important; }
    .handle{width:46px; height:5px; background:#ddd; border-radius:999px; margin:10px auto 6px}
    .sheet-img{height:260px; background:#eee}
    .sheet-img img{width:100%; height:100%; object-fit:cover; display:block}
    .sheet-body{padding:12px 14px 18px}
    .row{display:flex; justify-content:space-between; align-items:center; gap:10px; padding:12px 0; border-top:1px solid #eee; font-size:15px; line-height:1.4}
    .btn{
      width:100%; border:none; cursor:pointer;
      border-radius:999px; padding:16px 20px; font-weight:950; font-size:16px;
      background:var(--brand); color:#111;
      line-height:1.4;
      margin-top:10px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:8px;
    }
    .btn:disabled{opacity:.6; cursor:not-allowed}
    .btn.secondary{background:#fff; border:1px solid var(--border)}
    .btn.ghost{background:#f8f7f3; border:1px solid var(--border)}
    .mini{font-size:13px; color:var(--muted); margin-top:8px; line-height:1.5}
    
    /* Primary CTA (Yellow, Dark Text, 56-64px) */
    .btn-primary{
      width:100%; border:none; cursor:pointer;
      border-radius:999px; padding:16px 20px; font-weight:950; font-size:16px;
      background:#f2b705; color:#111;
      line-height:1.4;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      min-height:56px; max-height:64px;
      transition:all .2s;
    }
    .btn-primary:hover{
      box-shadow:0 10px 28px rgba(242,183,5,0.35);
      transform:translateY(-1px);
    }
    .btn-primary:active{
      background:#e6b800;
      transform:scale(0.98);
    }
    .btn-primary:disabled{
      opacity:.6; cursor:not-allowed; background:#f2b705;
    }
    .btn-primary.loading{
      opacity:.7; cursor:wait;
    }
    .btn-primary.success{
      background:#2e7d32; color:#fff;
    }

    .card-actions{display:flex; gap:8px; margin-top:12px}
    .card-action{
      flex:1; padding:0 16px; min-height:44px;
      border-radius:12px; border:none;
      background:#fff; font-weight:900; font-size:15px;
      cursor:pointer; transition:transform .1s, background .15s;
      display:flex; align-items:center; justify-content:center; gap:6px;
      text-align:center;
    }
    .card-action:active{transform:scale(.97)}
    .card-action.primary{
      background:var(--brand); color:#111;
      border:1px solid var(--brand);
      min-height:44px;
    }
    .card-action.primary:active{background:#e6b800}
    .card-action.ghost{background:#f8f7f3; border:1px solid var(--border)}
    .card-action:disabled{opacity:.5; cursor:not-allowed; background:#f5f5f5}

    /* Profile cards */
    .panel{background:#fff; border:1px solid var(--border); border-radius:18px; box-shadow:0 4px 16px rgba(0,0,0,.08); padding:16px; margin-bottom:16px}
    .panel h3{margin:0 0 10px; font-size:18px; font-weight:900; line-height:1.3}
    .section-title{font-weight:900; font-size:20px; margin:12px 0 8px; line-height:1.3}
    .rowlist{display:flex; flex-direction:column; gap:8px}
    .rowbtn{
      width:100%; border:1px solid var(--border); background:#fff; cursor:pointer;
      border-radius:14px; padding:12px; text-align:left; font-weight:900;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .rowbtn-left{display:flex; align-items:center; gap:10px; min-width:0}
    .rowbtn-ico{
      width:36px; height:36px; border-radius:10px; flex:0 0 auto;
      border:1px solid var(--border); background:#f8f7f3;
      display:flex; align-items:center; justify-content:center;
    }
    .rowbtn-ico svg{width:16px; height:16px}
    .rowbtn-text{min-width:0}
    .rowbtn-text span{display:block; font-weight:600; font-size:13px; color:var(--muted); margin-top:4px; line-height:1.4}
    .rowbtn .chev{font-size:20px; color:var(--muted)}
    .rowgroup-title{font-size:13px; font-weight:900; color:var(--muted); margin-top:8px; line-height:1.4}
    .profile-head{display:flex; align-items:center; gap:12px}
    .profile-head .plogo{width:56px; height:56px; border-radius:50%}
    .profile-meta{display:flex; flex-direction:column; gap:4px}
    .profile-chip{display:inline-flex; align-items:center; gap:6px; border:1px solid var(--border); padding:6px 10px; border-radius:999px; font-size:12px; font-weight:900; background:#fff}
    .profile-actions{margin-top:10px}
    .profile-actions .btn{width:auto; margin-top:0}
    .row-group{margin-top:12px}
    .row-group .rowgroup-title{margin:0 0 8px}
    .row-muted{font-size:12px; color:var(--muted)}

    .tabrow{display:flex; gap:8px; flex-wrap:wrap}
    .tabrow .ans{font-size:12px; padding:8px 10px}
    /*
     * Kochbuch: Minimal – Bild 16:9, Titel, Facts-Zeile. Keine Emojis/Säulen.
     * Haptik & Bewegung (Physik):
     * - Karten-Klick: cubic-bezier(0.2, 0.8, 0.2, 1), Heavy Tap 18ms
     * - Bottom-Bar Slide: Spring ~(400,28) → cubic-bezier(0.33, 0.6, 0.2, 1), 320ms, Light Impact 8ms beim Stopp
     * - Success-Check: Spring ~(500,15) → scale 0.8→1.05→1, Double-Tap Haptik [12,55,12]
     */
    #v-provider-cookbook .cookbook-bestseller-strip{
      display:flex;
      gap:12px;
      overflow-x:auto;
      padding:8px 0 20px;
      margin-bottom:8px;
      -webkit-overflow-scrolling:touch;
      scroll-snap-type:x mandatory;
    }
    #v-provider-cookbook .cookbook-bestseller-strip .cookbook-item{ scroll-snap-align:start; flex:0 0 72%; max-width:280px; }
    #v-provider-cookbook .cookbook-grid{
      display:grid;
      grid-template-columns:repeat(2, 1fr);
      gap:16px;
      margin-bottom:120px;
    }
    #v-provider-cookbook .cookbook-item{
      background:#fff;
      border:none;
      border-radius:24px;
      overflow:hidden;
      box-shadow:0 4px 20px rgba(0,0,0,0.05);
      display:flex;
      flex-direction:column;
      position:relative;
      transition:transform 0.12s cubic-bezier(0.2, 0.8, 0.2, 1), box-shadow 0.2s;
      font-family:system-ui,-apple-system,sans-serif;
    }
    #v-provider-cookbook .cookbook-item:active{ transform:scale(0.97); }
    #v-provider-cookbook .cookbook-item-header{
      position:relative;
      width:100%;
      aspect-ratio:16/9;
      background:#e5e7eb;
    }
    #v-provider-cookbook .cookbook-item-image{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    #v-provider-cookbook .cookbook-item-price-tag,
    #v-provider-cookbook .cookbook-item-menu,
    #v-provider-cookbook .cookbook-item-pillars{ display:none !important; }
    #v-provider-cookbook .cookbook-item-body{ padding:14px; flex:1; display:flex; flex-direction:column; }
    #v-provider-cookbook .cookbook-item-title{ font-weight:600; font-size:18px; color:#1a1a1a; margin:0 0 6px; line-height:1.3; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
    #v-provider-cookbook .cookbook-item-facts{ font-size:13px; color:#64748b; font-weight:500; }
    #v-provider-cookbook .cookbook-item-meta,
    #v-provider-cookbook .cookbook-item-allergens,
    #v-provider-cookbook .cookbook-item-stats{ display:none !important; }
    #v-provider-cookbook .cookbook-item-revenue{ display:none; }
    #v-provider-cookbook .cookbook-item-cta-wrap{ display:none !important; }
    #v-provider-cookbook .cookbook-item.cookbook-item-selected{ box-shadow:0 0 0 2px var(--prov-brand); border-radius:24px; }
    #v-provider-cookbook .cookbook-list-has-selection .cookbook-item:not(.cookbook-item-selected){ opacity:0.55; }
    /* Bottom-Bar: Spring (Stiffness 400, Damping 28) – sattes Einrasten, kein Nachschwingen */
    #v-provider-cookbook .cookbook-action-bar{ max-width:500px; margin:0 auto; box-sizing:border-box; transition:transform 0.32s cubic-bezier(0.33, 0.6, 0.2, 1); }
    #v-provider-cookbook .cookbook-action-bar.cookbook-bar-visible{ transform:translateY(0); }
    #v-provider-cookbook .cookbook-bar-btn{ min-height:52px; border-radius:16px; font-size:14px; font-weight:800; display:inline-flex; align-items:center; justify-content:center; gap:6px; cursor:pointer; border:none; transition:transform 0.12s cubic-bezier(0.2, 0.8, 0.2, 1), background 0.2s; flex:1; min-width:0; }
    #v-provider-cookbook .cookbook-bar-btn:active{ transform:scale(0.97); }
    #v-provider-cookbook .cookbook-bar-secondary{ background:#f1f3f5; color:#475569; border:2px solid #e2e8f0; }
    #v-provider-cookbook .cookbook-bar-primary{ background:var(--prov-brand); color:#1a1a1a; box-shadow:0 4px 16px rgba(255,222,0,0.35); }
    #v-provider-cookbook .cookbook-bar-primary.cookbook-bar-inserieren{ background:var(--prov-brand); color:#1a1a1a; box-shadow:0 4px 16px rgba(255,222,0,0.4); }
    #v-provider-cookbook #cookbookBarSelected{ display:none; transform:translateY(20px); opacity:0; transition:transform 0.32s cubic-bezier(0.33, 0.6, 0.2, 1), opacity 0.28s; }
    #v-provider-cookbook #cookbookBarSelected.cookbook-bar-selected-visible{ display:flex !important; transform:translateY(0); opacity:1; }
    #v-provider-cookbook #cookbookBarDefault.cookbook-bar-default-hidden{ display:none !important; }
    #v-provider-cookbook .cookbook-bar-close{ display:none; }
    #v-provider-cookbook .cookbook-item-abholzusatz{ font-size:11px; color:#64748b; margin-bottom:4px; }
    #v-provider-cookbook .cookbook-item-btn{
      width:100%;
      min-height:48px;
      border-radius:12px;
      font-weight:800;
      font-size:14px;
      background:var(--prov-brand);
      color:#1a1a1a;
      border:none;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:6px;
    }
    #v-provider-cookbook .cookbook-tabs button{ flex:1; min-height:48px; border-radius:10px; font-weight:600; font-size:14px; border:none; background:transparent; color:#64748b; cursor:pointer; transition:all .2s; font-family:system-ui,-apple-system,sans-serif; }
    #v-provider-cookbook .cookbook-tabs button.on{ background:var(--prov-brand); color:#1a1a1a; font-weight:700; }
    
    /* Kochbuch Action-Sheet (Bottom Sheet) */
    #cookbookActionSheetBd{ z-index:999; }
    .cookbook-action-sheet{
      position:fixed;
      bottom:0;
      left:0;
      right:0;
      background:#fff;
      border-radius:20px 20px 0 0;
      padding:16px 20px calc(20px + env(safe-area-inset-bottom, 0));
      box-shadow:0 -4px 24px rgba(0,0,0,.12);
      border-top:1px solid rgba(0,0,0,0.06);
      z-index:1000;
    }
    .cookbook-action-sheet-handle{ width:40px; height:4px; background:rgba(0,0,0,0.15); border-radius:2px; margin:0 auto 16px; }
    .cookbook-action-sheet-title{ font-weight:800; font-size:18px; color:#1a1a1a; margin-bottom:16px; text-align:center; }
    .cookbook-action-sheet-btn{ width:100%; min-height:52px; border-radius:14px; background:#f8f7f2; border:1px solid rgba(0,0,0,0.08); color:#1a1a1a; font-weight:700; font-size:15px; margin-bottom:10px; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:10px; }
    .cookbook-action-sheet-btn-danger{ color:#dc2626; border-color:rgba(220,38,38,0.3); }
    .cookbook-week-sheet.cookbook-week-visible{ transform:translateY(0); }
    #cookbookWeekSheetBd.cookbook-week-bd-visible{ opacity:1; }
    #cookbookWeekSheet .cookbook-week-day-btn{ animation:cookbookWeekStagger 0.35s ease-out backwards; }
    #cookbookWeekSheet .cookbook-week-day-btn:nth-child(1){ animation-delay:0.03s; }
    #cookbookWeekSheet .cookbook-week-day-btn:nth-child(2){ animation-delay:0.06s; }
    #cookbookWeekSheet .cookbook-week-day-btn:nth-child(3){ animation-delay:0.09s; }
    #cookbookWeekSheet .cookbook-week-day-btn:nth-child(4){ animation-delay:0.12s; }
    #cookbookWeekSheet .cookbook-week-day-btn:nth-child(5){ animation-delay:0.15s; }
    #cookbookWeekSheet .cookbook-week-day-btn:nth-child(6){ animation-delay:0.18s; }
    #cookbookWeekSheet .cookbook-week-day-btn:nth-child(7){ animation-delay:0.21s; }
    @keyframes cookbookWeekStagger{ from{ opacity:0; transform:translateY(12px); } to{ opacity:1; transform:translateY(0); } }
    .cookbook-victory-overlay{ position:fixed; inset:0; z-index:1100; display:flex; align-items:center; justify-content:center; background:rgba(255,255,255,0.9); backdrop-filter:blur(8px); animation:cookbookVictoryFade 0.2s ease-out; }
    /* Success-Check: Spring (500, 15) – leichtes Nachfedern */
    .cookbook-victory-overlay .check-wrap{ width:72px; height:72px; border-radius:50%; background:rgba(255,222,0,0.2); border:3px solid var(--prov-brand); display:flex; align-items:center; justify-content:center; animation:cookbookVictoryPop 0.48s cubic-bezier(0.34, 1.4, 0.64, 1) forwards; }
    .cookbook-victory-overlay .check-wrap span{ font-size:40px; color:#1a1a1a; }
    @keyframes cookbookVictoryPop{ 0%{ transform:scale(0.8); opacity:0.9; } 70%{ transform:scale(1.05); } 100%{ transform:scale(1); opacity:1; } }
    @keyframes cookbookVictoryFade{ from{ opacity:0; } to{ opacity:1; } }
    .toast-soft-error{ background:#FF9500 !important; color:#fff !important; }
    .shake-horizontal{ animation:shakeH 0.3s ease-in-out; }
    @keyframes shakeH{ 0%,100%{ transform:translateX(0); } 20%{ transform:translateX(-5px); } 40%{ transform:translateX(5px); } 60%{ transform:translateX(-5px); } 80%{ transform:translateX(5px); } }
    .cookbook-item{ position:relative; }
    .cookbook-actions{ display:none; }
    .cookbook-facts{ font-size:11px; color:#64748b; margin-top:4px; }
    .cart-line{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:10px 0; border-top:1px solid #eee}
    .cart-left{font-weight:700; flex:1; min-width:0}
    .cart-qty{display:flex; align-items:center; gap:6px}
    .qty-btn{border:1px solid var(--border); background:#fff; border-radius:999px; width:28px; height:28px; cursor:pointer; font-weight:900; transition:all .15s}
    .qty-btn:active{transform:scale(.95); background:#f5f5f5}
    .cart-price{font-weight:900; min-width:60px; text-align:right}
    /* Essenszeit Badge */
    .cart-window-badge{
      display:inline-flex; align-items:center; gap:6px;
      padding:6px 12px; border-radius:12px;
      background:rgba(255,204,0,.1); color:#b8860b;
      font-size:13px; font-weight:700; margin:8px 0;
    }
    .cart-window-badge i{width:16px; height:16px}
    /* Quick-Time-Chips */
    .cart-time-chips{
      display:flex; gap:8px; flex-wrap:wrap; margin:8px 0 12px;
    }
    .cart-time-chip{
      padding:8px 14px; border-radius:12px;
      border:1px solid #ddd; background:#fff;
      font-size:13px; font-weight:600; color:#666;
      cursor:pointer; transition:all .15s;
    }
    .cart-time-chip:active{transform:scale(.96); background:#f5f5f5}
    .cart-time-chip.selected{
      background:var(--brand); color:#000; border-color:var(--brand);
    }
    /* Warenkorb leeren Button */
    .cart-clear-btn{
      display:inline-block; margin-top:12px;
      padding:8px 16px; border-radius:10px;
      background:#f5f5f5; color:#666;
      font-size:13px; font-weight:600;
      text-decoration:none; cursor:pointer;
      transition:all .15s;
    }
    .cart-clear-btn:hover{background:#eee}
    .cart-clear-btn:active{transform:scale(.98)}
    .order-item{border:1px solid var(--border); border-radius:14px; padding:10px; background:#fff; box-shadow:0 6px 14px rgba(0,0,0,.06)}
    .order-item.done{opacity:.65}
    .order-item + .order-item{margin-top:10px}
    .order-top{display:flex; justify-content:space-between; align-items:center; gap:10px}
    .order-right{display:flex; flex-direction:column; align-items:flex-end; gap:6px}
    .order-code{
      border:1px solid var(--border); 
      background:#fff; 
      border-radius:10px; 
      padding:6px 10px; 
      font-weight:900; 
      cursor:pointer;
      transition:transform 0.1s ease;
    }
    .order-code:active{
      transform:scale(0.95);
    }
    .status-pill{display:inline-flex; align-items:center; padding:4px 8px; border-radius:999px; font-size:11px; font-weight:900; border:1px solid var(--border)}
    .status-pill.open{background:rgba(242,183,5,.12); color:#b37b00}
    .status-pill.done{background:rgba(31,157,85,.12); color:#1f9d55}
    .code-full{font-size:42px; font-weight:950; text-align:center; margin:10px 0}

    /* Pickup Card (Theken-Ansicht 2.0) */
    .pickup-card{
      background:#fff;
      border-radius:16px;
      box-shadow:0 4px 12px rgba(0,0,0,0.08);
      position:relative;
      overflow:hidden;
      transition:all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
      cursor:pointer;
      border-left:6px solid #e5e7eb; /* Default */
      display:flex;
      flex-direction:column;
      min-height:160px;
    }
    .pickup-card:active{ transform:scale(0.96); }
    .pickup-card.status-open{ border-left-color:#FFD700; }
    .pickup-card.status-paid{ border-left-color:#2ecc71; } /* Bezahlt & Bereit */
    .pickup-card.status-done{ opacity:0.6; filter:grayscale(100%); border-left-color:#999; box-shadow:none; background:#f9f9f9; }
    
    .pickup-card-header{
      padding:16px 16px 0;
      display:flex; justify-content:space-between; align-items:flex-start;
    }
    .pickup-card-code{
      font-size:42px; font-weight:900; line-height:1; color:#1a1a1a; letter-spacing:-0.03em;
    }
    .pickup-card-time{
      font-size:13px; font-weight:700; color:#666; background:#f0f2f5; padding:4px 8px; border-radius:8px;
    }
    .pickup-card-body{
      padding:12px 16px 16px;
      flex:1; display:flex; flex-direction:column; justify-content:flex-end;
    }
    .pickup-card-dish{
      font-size:16px; font-weight:700; line-height:1.3; color:#333; margin-bottom:4px;
      display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
    }
    .pickup-card-customer{
      font-size:13px; color:#888; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .pickup-card-badge{
      position:absolute; top:12px; right:12px;
      background:#2ecc71; color:#fff; font-size:11px; font-weight:800; padding:4px 8px; border-radius:6px;
      box-shadow:0 2px 6px rgba(46,204,113,0.3);
    }
    
    /* Animation für Erledigt */
    @keyframes check-pop {
      0% { transform:scale(0); opacity:0; }
      50% { transform:scale(1.2); opacity:1; }
      100% { transform:scale(1); opacity:1; }
    }
    .check-overlay{
      position:absolute; inset:0; background:rgba(46,204,113,0.9);
      display:flex; align-items:center; justify-content:center;
      opacity:0; pointer-events:none; transition:opacity 0.2s;
    }
    .pickup-card.just-done .check-overlay{ opacity:1; }
    .pickup-card.just-done .check-icon{ animation:check-pop 0.3s ease-out forwards; }
    .quick-ticket{
      position:fixed; inset:0; z-index:31;
      background:linear-gradient(135deg, var(--brand) 0%, #FFD700 100%);
      display:flex; align-items:center; justify-content:center;
      transform:translateY(100%); transition:transform .3s cubic-bezier(.4,0,.2,1);
      padding:20px;
    }
    .quick-ticket.active{transform:translateY(0)}
    .quick-ticket-close{
      position:absolute; top:20px; right:20px;
      width:44px; height:44px; border-radius:50%;
      background:rgba(255,255,255,.2); backdrop-filter:blur(10px);
      border:2px solid rgba(255,255,255,.3);
      color:#fff; cursor:pointer;
      display:flex; align-items:center; justify-content:center;
      transition:background .2s;
    }
    .quick-ticket-close:hover{background:rgba(255,255,255,.3)}
    .quick-ticket-close i{width:24px; height:24px}
    .quick-ticket-content{
      width:100%; max-width:400px; text-align:center;
      color:#111;
    }
    .quick-ticket-header{
      margin-bottom:40px;
    }
    .quick-ticket-logo{
      width:80px; height:80px; border-radius:20px;
      background:#fff; border:4px solid rgba(255,255,255,.5);
      margin:0 auto 16px; overflow:hidden;
      box-shadow:0 8px 24px rgba(0,0,0,.2);
    }
    .quick-ticket-logo img{
      width:100%; height:100%; object-fit:cover;
    }
    .quick-ticket-provider{
      font-size:26px; font-weight:900; margin-bottom:10px; line-height:1.3;
    }
    .quick-ticket-time{
      font-size:15px; opacity:.8; font-weight:600; line-height:1.4;
    }
    .quick-ticket-code{
      background:#fff; border-radius:var(--radius);
      padding:32px 24px; margin-bottom:24px;
      box-shadow:0 12px 32px rgba(0,0,0,.2);
    }
    .quick-ticket-code-label{
      font-size:12px; font-weight:700; text-transform:uppercase;
      letter-spacing:.1em; color:var(--muted); margin-bottom:12px;
    }
    .quick-ticket-code-value{
      font-size:72px; font-weight:950; line-height:1;
      color:#111; font-family:'Inter', monospace;
      letter-spacing:.05em;
    }
    .quick-ticket-details{
      background:rgba(255,255,255,.3); backdrop-filter:blur(10px);
      border-radius:var(--radius); padding:20px;
      margin-bottom:20px;
    }
    .quick-ticket-detail-item{
      margin-bottom:16px;
    }
    .quick-ticket-detail-item:last-child{margin-bottom:0}
    .quick-ticket-detail-label{
      font-size:13px; font-weight:700; opacity:.7; margin-bottom:6px; line-height:1.4;
    }
    .quick-ticket-detail-value{
      font-size:17px; font-weight:900; line-height:1.4;
    }
    .quick-ticket-status{
      font-size:14px; font-weight:700; opacity:.8; line-height:1.4;
      margin-bottom:24px;
    }
    .quick-ticket-actions .btn{
      background:#fff; color:#111; box-shadow:0 8px 24px rgba(0,0,0,.2);
    }

    .print-view{display:none}
    @media print{
      body{background:#fff; color:#000}
      body > *:not(#printView){display:none !important}
      #printView{display:block}
      #printView .print-card{
        border:1px solid #ddd; border-radius:12px; padding:16px; margin-bottom:12px;
      }
      #printView h1{margin:0 0 8px; font-size:20px}
      #printView h2{margin:12px 0 6px; font-size:16px}
      #printView .print-row{display:flex; justify-content:space-between; gap:12px; margin-top:6px}
      #printView .print-muted{color:#555; font-size:12px}
      #printView .print-badge{display:inline-block; padding:4px 8px; border:1px solid #999; border-radius:999px; font-size:11px; font-weight:700}
      #printView .print-grid{display:grid; grid-template-columns:1fr 1fr; gap:10px}
      #printView .pickup-code-display{width:120px; height:120px; border:2px solid var(--brand); border-radius:12px; background:#fff; display:flex; align-items:center; justify-content:center; font-size:11px; font-weight:700; color:#2D3436}
    }
    .two{display:grid; grid-template-columns:1fr 1fr; gap:10px}
    .bigbtn{
      border:none; cursor:pointer;
      border-radius:18px; padding:14px;
      background:linear-gradient(135deg,rgba(242,183,5,.18),rgba(31,157,85,.12));
      border:1px solid var(--border);
      text-align:left;
      font-weight:950;
    }
    .bigbtn span{display:block; font-weight:700; font-size:12px; color:var(--muted); margin-top:6px}

    /* Provider app header */
    .prov-pill{
      display:inline-flex; align-items:center; gap:8px;
      background:#fff; border:1px solid var(--border);
      padding:9px 12px; border-radius:999px;
      font-weight:950; font-size:13px;
      box-shadow:0 6px 14px rgba(0,0,0,.06);
    }
    .prov-pill::after {
      content: '';
      display: none;
    }
    .provider-header{display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap}
    .provider-logo.compact{padding:0}
    .header-actions{display:flex; gap:8px; flex-wrap:wrap}
    .header-actions .btn{width:auto; margin-top:0}

    .snackbar{
      position:fixed; left:50%; bottom:90px; transform:translateX(-50%);
      background:#111; color:#fff; border-radius:999px; padding:10px 14px;
      display:flex; align-items:center; gap:10px; box-shadow:0 10px 24px rgba(0,0,0,.22);
      opacity:0; pointer-events:none; transition:opacity .2s ease;
      z-index:40; font-size:13px; font-weight:900;
    }
    .snackbar.active{opacity:1; pointer-events:auto}
    .snackbar button{
      border:none; background:#fff; color:#111; border-radius:999px; padding:6px 10px;
      font-size:12px; font-weight:900; cursor:pointer;
    }

    /* Wizard */
    .wizard{
      background:#fff; border:1px solid var(--border); border-radius:18px; box-shadow:var(--shadow);
      padding:12px;
    }
    .w-top{display:flex; align-items:center; justify-content:space-between; gap:10px}
    .w-title{font-weight:950}
    .w-step{font-size:12px; color:var(--muted)}
    .w-q{margin:12px 0 10px; font-size:18px; font-weight:950; line-height:1.2}
    .w-help{margin:0 0 10px; color:var(--muted); font-size:13px}
    .answers{display:flex; flex-wrap:wrap; gap:8px}
    .ans{
      border:1px solid var(--border);
      background:#fff;
      padding:10px 12px;
      border-radius:999px;
      font-weight:950;
      cursor:pointer;
      box-shadow:0 6px 14px rgba(0,0,0,.06);
      display:inline-flex;
      align-items:center;
      gap:6px;
    }
    .ans.on{border-color:rgba(31,157,85,.4); background:rgba(31,157,85,.10)}
    .field{width:100%; padding:14px 16px; border-radius:14px; border:1px solid var(--border); font-size:16px; background:#fbfaf7; line-height:1.5}
    .w-actions{display:flex; gap:10px; margin-top:12px}
    .w-actions button{flex:1}

    /* Inseratflow: Über Provider-Bottom-Nav (z-index 999) legen */
    #wbd.active, #createFlowBd.active { z-index: 1000 !important; }
    #wizard.sheet--kitchen.active, #createFlowSheet.sheet--kitchen.active { z-index: 1001 !important; }
    /* Inseratflow: High-End Glassmorphism (Master) – backdrop-blur-2xl, bg-white/70, border-white/40, shadow-2xl */
    #createFlowSheet.sheet--kitchen,
    #wizard.sheet--kitchen{
      background:rgba(255,255,255,0.7) !important;
      backdrop-filter:blur(24px); -webkit-backdrop-filter:blur(24px);
      border-radius:28px 28px 0 0;
      border:1px solid rgba(255,255,255,0.4);
      border-bottom:none;
      box-shadow:0 -12px 40px rgba(0,0,0,0.12), 0 4px 24px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.9);
      max-height:90vh !important;
      height: 90vh !important;
      overflow:hidden;
      display:flex;
      flex-direction:column;
      margin-left:12px; margin-right:12px;
      max-width:calc(100% - 24px);
    }
    #createFlowSheet.sheet--kitchen .handle,
    #wizard.sheet--kitchen .handle{ background:rgba(0,0,0,0.15); width:40px; margin:8px auto 4px; }
    #createFlowSheet.sheet--kitchen .sheet-body{
      padding:20px 20px 28px;
      overflow-y:auto;
      -webkit-overflow-scrolling:touch;
    }
    #createFlowSheet.sheet--kitchen .create-flow-title{
      font-weight:800; font-size:20px; color:#1a1a1a; margin-bottom:8px; line-height:1.3;
    }
    #createFlowSheet.sheet--kitchen .create-flow-hint{
      font-size:13px; font-weight:600; color:#475569; margin-top:10px; margin-left:auto; margin-right:auto; padding:10px 16px; background:#f1f5f9; border-radius:12px; display:inline-flex; align-items:center; justify-content:center; gap:8px; letter-spacing:0.02em;
    }
    #createFlowSheet.sheet--kitchen .create-flow-btns{
      display:flex; flex-direction:column; gap:12px; margin-top:20px;
    }
    /* Express-Start: Emerald (#10b981) – Neues Gericht erstellen */
    #createFlowSheet.sheet--kitchen .btn-create-primary{
      width:100%; min-height:56px; border-radius:16px; font-weight:800; font-size:17px; border:none;
      background:var(--prov-brand); color:#1a1a1a; cursor:pointer; display:flex; align-items:center; justify-content:center;
      padding:0 20px; gap:12px; transition:transform .15s, box-shadow .15s;
      box-shadow:0 4px 16px rgba(255,222,0,0.35);
    }
    #createFlowSheet.sheet--kitchen .btn-create-primary .plus-char{ font-size:22px; font-weight:900; }
    #createFlowSheet.sheet--kitchen .btn-create-primary:active{ transform:scale(0.98); }
    /* Bottom Sheet: Spring-Animation beim Aufgleiten */
    #createFlowSheet.sheet--kitchen{ transition: bottom .35s cubic-bezier(0.34, 1.56, 0.64, 1); }
    /* Skeleton für Kochbuch-Karten (Shimmer beim Laden) */
    .create-flow-skeleton-card{
      background:#fff; border-radius:16px; border:1px solid #f1f3f5; overflow:hidden;
      display:flex; flex-direction:column; min-height:140px;
    }
    .create-flow-skeleton-card .skeleton-img{
      height:80px; width:100%; background:linear-gradient(95deg, #e2e8f0 0%, #f1f5f9 50%, #e2e8f0 100%);
      background-size:200% 100%; animation: wizardShimmer 1.2s ease-in-out infinite;
    }
    .create-flow-skeleton-card .skeleton-text{ padding:10px; }
    .create-flow-skeleton-card .skeleton-line{ height:12px; border-radius:6px; background:#e2e8f0; margin-bottom:8px; }
    .create-flow-skeleton-card .skeleton-line:last-child{ width:60%; margin-bottom:0; }
    .create-flow-cookbook-card-enter{ animation: createFlowCardFade 0.3s ease-out forwards; }
    @keyframes createFlowCardFade{ from{ opacity:0; transform:translateY(4px); } to{ opacity:1; transform:translateY(0); } }
    .create-flow-renner-scroll .renner-card{ flex:0 0 auto; width:160px; scroll-snap-align:start; background:#fff; border-radius:16px; border:1px solid #f1f3f5; overflow:hidden; box-shadow:0 2px 12px rgba(0,0,0,0.06); display:flex; flex-direction:column; cursor:pointer; transition:transform 0.15s, box-shadow 0.15s; }
    .create-flow-renner-scroll .renner-card:active{ transform:scale(0.98); }
    .create-flow-renner-scroll .renner-card-img{ height:100px; width:100%; background:#f1f3f5; object-fit:cover; }
    .create-flow-renner-scroll .renner-card-icons{ display:flex; align-items:center; gap:6px; padding:8px 10px; background:#f8fafc; border-bottom:1px solid #f1f3f5; font-size:14px; }
    .create-flow-renner-scroll .renner-card-body{ padding:10px; flex:1; display:flex; flex-direction:column; gap:6px; }
    .create-flow-renner-scroll .renner-card-name{ font-size:14px; font-weight:900; color:#1a1a1a; line-height:1.2; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
    .create-flow-renner-scroll .renner-card-fact{ font-size:11px; font-weight:600; color:#64748b; line-height:1.3; }
    .create-flow-renner-scroll .renner-card-btn{ width:100%; min-height:40px; border-radius:12px; border:none; background:var(--prov-brand); color:#1a1a1a; font-size:13px; font-weight:800; cursor:pointer; margin-top:4px; }
    #createFlowSheet.sheet--kitchen .btn-create-secondary{
      width:100%; min-height:52px; border-radius:14px; font-weight:700; font-size:15px;
      border:1px solid rgba(0,0,0,0.1); background:#fff; color:#1a1a1a;
      cursor:pointer; display:flex; align-items:center; justify-content:flex-start; padding:0 20px; gap:12px;
      transition:background .15s, border-color .15s; box-shadow:0 2px 8px rgba(0,0,0,.06);
    }
    #createFlowSheet.sheet--kitchen .btn-create-secondary:active{ background:#f8f9fa; }
    /* Wizard: app-like – Inserat-Flow weiter oben, weniger Abstand oben */
    #wizard.sheet--kitchen .sheet-body.wizard-sheet-body{
      padding:8px 20px 0;
      overflow:hidden;
      flex:1;
      min-height:0;
      display:flex;
      flex-direction:column;
      padding-bottom: env(safe-area-inset-bottom, 20px);
    }
    @keyframes wizardContentEnter{ from{ opacity:0; transform:translateY(6px); } to{ opacity:1; transform:translateY(0); } }
    #wizard.sheet--kitchen #wContent > *{
      animation:wizardContentEnter 0.32s cubic-bezier(0.34, 1.2, 0.64, 1) forwards;
      transition: transform 0.25s cubic-bezier(0.34, 1.2, 0.64, 1);
    }
    #wizard.sheet--kitchen .wizard{
      background:rgba(255,255,255,0.7);
      backdrop-filter:blur(24px); -webkit-backdrop-filter:blur(24px);
      border:1px solid rgba(255,255,255,0.4);
      border-radius:24px;
      padding:16px 20px 20px;
      box-shadow:0 12px 40px rgba(0,0,0,0.08), 0 4px 16px rgba(0,0,0,0.04), inset 0 1px 0 rgba(255,255,255,0.95);
      flex:1;
      min-height:0;
      display:flex;
      flex-direction:column;
      overflow:hidden;
      position: relative;
    }
    #wizard.sheet--kitchen .wizard-progress-dots{
      display:flex;
      justify-content:center;
      gap:6px;
      margin-bottom:8px;
      flex-shrink:0;
    }
    #wizard.sheet--kitchen .wizard-dot{
      width:6px;
      height:6px;
      border-radius:50%;
      background:rgba(0,0,0,0.12);
      transition:background .25s ease, transform .25s ease, width .25s ease;
    }
    #wizard.sheet--kitchen .wizard-dot.active{
      background:var(--prov-brand);
      transform:scale(1.15);
      width:16px;
      border-radius:3px;
    }
    #wizard.sheet--kitchen .wizard-scroll{
      flex:1;
      overflow-y:auto;
      -webkit-overflow-scrolling:touch;
      margin:0 -20px;
      padding:0 20px 140px; /* Platz für Zurück/Weiter + Footer, damit Buttons sichtbar bleiben */
    }
    #wizard.sheet--kitchen .w-actions{
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      flex-shrink:0;
      padding:16px 20px calc(16px + env(safe-area-inset-bottom, 20px));
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border-top: 1px solid rgba(0, 0, 0, 0.06);
      box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.03);
      border-radius: 0 0 20px 20px;
      z-index: 10;
      display: flex; gap: 12px;
    }
    #wizard.sheet--kitchen .w-actions button{
      flex:1;
      height:54px; 
      border-radius:16px; 
      font-weight:800; 
      font-size:16px; 
      letter-spacing:0.01em;
      border:none;
      cursor:pointer;
      transition: transform 0.1s, background-color 0.2s;
    }
    #wizard.sheet--kitchen .w-actions button.secondary{ 
      background:rgba(0,0,0,0.05); 
      color:#64748b; 
      font-weight: 700;
    }
    #wizard.sheet--kitchen .w-actions button:not(.secondary){ 
      background:var(--prov-brand); 
      color:#1a1a1a; 
      box-shadow:0 4px 16px rgba(255,222,0,0.4);
      font-weight: 900;
      text-transform: uppercase;
      font-size: 15px;
      letter-spacing: 0.05em;
    }
    #wizard.sheet--kitchen .w-actions button:active{
      transform: scale(0.97);
    }
    /* Glass-Express Step 0: Layout-Feintuning – Raster, Hierarchie, Lesbarkeit */
    #wizard.sheet--kitchen .glass-express-step0{
      padding-bottom:20px;
      --gex-gap:12px;
      --gex-block:20px;
    }
    #wizard.sheet--kitchen .glass-express-step0 .glass-pill{
      -webkit-tap-highlight-color:transparent;
      backdrop-filter:blur(14px); -webkit-backdrop-filter:blur(14px);
      transition: border-color 0.2s, background 0.2s, transform 0.12s ease;
      box-shadow:0 2px 8px rgba(0,0,0,0.04);
    }
    #wizard.sheet--kitchen .glass-express-step0 .glass-pill:active{ transform:scale(0.97); }
    #wizard.sheet--kitchen .glass-express-step0 .glass-express-field{
      border:2px solid rgba(255,255,255,0.65); background:rgba(255,255,255,0.55);
      backdrop-filter:blur(12px); -webkit-backdrop-filter:blur(12px);
      box-shadow:0 2px 8px rgba(0,0,0,0.03);
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    #wizard.sheet--kitchen .glass-express-step0 .glass-express-field:focus{
      outline:none; border-color:var(--prov-brand); box-shadow:0 0 0 3px rgba(255,222,0,0.2);
    }
    #wizard.sheet--kitchen .glass-express-step0 .smart-confirm-bar{
      margin-top:4px;
      padding-top:16px;
      padding-bottom:16px;
      gap:10px;
    }
    #wizard.sheet--kitchen .glass-express-step0 .listing-umsatz-potenzial{
      margin-top:var(--gex-block);
      margin-bottom:4px;
    }
    #wizard.sheet--kitchen .glass-express-step0 .btn-glass-secondary{
      min-height:50px;
      backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px);
    }
    #wizard.sheet--kitchen .w-actions button.listing-express-primary{
      background:var(--prov-brand) !important; color:#1a1a1a !important; font-weight:800 !important;
      box-shadow:0 4px 16px rgba(255,222,0,0.4);
      min-height:54px;
      border-radius:16px;
    }
    #wizard.sheet--kitchen .w-actions button.btn-glass-secondary{ background:rgba(255,255,255,0.4); }
    .listing-success-overlay span{ color:#1a1a1a !important; }
    /* Success-Check: Spring (Stiffness 500, Damping 15) – leichtes, freudiges Nachfedern */
    .listing-success-overlay .success-check-wrap{
      animation: listing-success-pop 0.48s cubic-bezier(0.34, 1.4, 0.64, 1) forwards, listing-success-shimmer 1.2s ease-in-out 2 0.3s;
    }
    @keyframes listing-success-pop{
      0%{ transform:scale(0.8); opacity:0.9; }
      70%{ transform:scale(1.05); }
      100%{ transform:scale(1); opacity:1; }
    }
    @keyframes listing-success-shimmer{
      0%,100%{ box-shadow: 0 0 0 0 rgba(255,222,0,0.35); }
      50%{ box-shadow: 0 0 0 16px rgba(255,222,0,0); }
    }
    .listing-success-overlay.slide-exit{
      transition: transform 0.35s cubic-bezier(0.2, 0.8, 0.2, 1), opacity 0.35s ease-out;
      transform: translateY(-24px);
      opacity: 0;
    }
    /* Inserat Step 0: daumenfreundlich, alle Ziele mind. 48px */
    #wizard.sheet--kitchen #wContent .field{
      min-height: 52px !important;
      padding: 0 18px !important;
      font-size: 18px !important;
      -webkit-tap-highlight-color: transparent;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    #wizard.sheet--kitchen #wContent .field:focus{
      outline: none;
      border-color: var(--prov-brand);
      box-shadow: 0 0 0 3px rgba(255,222,0,0.2);
    }
    #wizard.sheet--kitchen #wContent button[type="button"]{
      -webkit-tap-highlight-color: transparent;
      transition: transform 0.12s ease, background 0.2s, border-color 0.2s;
    }
    #wizard.sheet--kitchen #wContent button[type="button"]:active{
      transform: scale(0.97);
    }
    #wizard.sheet--kitchen .wizard-footer{
      margin-top: 8px;
      text-align:center; 
      font-size:9px; 
      font-weight:700; 
      color:#9ca3af; 
      text-transform:uppercase; 
      letter-spacing:0.03em;
      flex-shrink: 0;
    }
    /* High-End Universal-Flow: Kategorie horizontal, Smart-Tiles, Pricing-Weiche */
    #wizard.sheet--kitchen .inserat-cat-scroll::-webkit-scrollbar{ height:6px; }
    #wizard.sheet--kitchen .inserat-cat-scroll::-webkit-scrollbar-thumb{ background:rgba(0,0,0,0.15); border-radius:3px; }
    #wizard.sheet--kitchen .inserat-cat-tile:active{ transform:scale(0.98); }
    #wizard.sheet--kitchen .inserat-smart-tiles button:active{ transform:scale(0.96); }
    #wizard.sheet--kitchen .inserat-three-pillars button:active{ transform:scale(0.95); }
    #wizard.sheet--kitchen .inserat-photo-tile .inserat-photo-remove:hover{ color:#1a1a1a; }
    #wizard.sheet--kitchen .inserat-pickup-time-trigger:active{ opacity:0.9; }

    /* Onboarding Views: App-like Sticky Layout */
    .onboarding-view {
      background: var(--provider-bg) !important;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    .onboarding-view .panel {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 24px 20px 100px !important; /* Space for sticky footer */
      max-width: 500px;
      margin: 0 auto;
      background: transparent !important;
      border: none !important;
      box-shadow: none !important;
    }
    .onboarding-actions {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 16px 20px calc(16px + env(safe-area-inset-bottom, 20px));
      background: rgba(255, 255, 255, 0.96);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border-top: 1px solid rgba(0, 0, 0, 0.06);
      display: flex;
      gap: 12px;
      z-index: 100;
    }
    .onboarding-actions button {
      flex: 1;
      height: 56px;
      border-radius: 16px;
      font-weight: 800;
      font-size: 16px;
      border: none;
      cursor: pointer;
      transition: transform 0.1s;
    }
    .onboarding-actions button.btn-primary {
      background: var(--brand);
      color: #1a1a1a;
      box-shadow: 0 4px 14px rgba(255, 215, 0, 0.4);
    }
    .onboarding-actions button.secondary {
      background: rgba(0, 0, 0, 0.05);
      color: #64748b;
    }
    .onboarding-actions button:active {
      transform: scale(0.97);
    }
    
    /* Dashboard KPIs & Cards */
    .provider-kpi-card {
      background: #fff;
      padding: 20px;
      border-radius: 24px;
      border: 1px solid rgba(0,0,0,0.04);
      box-shadow: 0 4px 12px rgba(0,0,0,0.02);
      transition: transform 0.1s, box-shadow 0.2s;
    }
    .provider-kpi-card:active {
      transform: scale(0.98);
      box-shadow: 0 2px 8px rgba(0,0,0,0.01);
    }
    .provider-kpi-icon {
      width: 44px;
      height: 44px;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 16px;
    }
    
    /* Modern FAB – über Bottom-Nav (z-index 999), damit auf Dashboard/Kochbuch/Wochenplan sichtbar */
    .fab-provider {
      position: fixed;
      bottom: calc(90px + env(safe-area-inset-bottom, 0px));
      right: 20px;
      height: 60px;
      padding: 0 24px;
      border-radius: 30px;
      background: #1a1a1a;
      color: #fff;
      border: none;
      box-shadow: 0 12px 32px rgba(0,0,0,0.25);
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 800;
      font-size: 16px;
      z-index: 1000;
      transition: transform 0.15s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .fab-provider:active {
      transform: scale(0.92);
    }
    .fab-provider i {
      width: 24px;
      height: 24px;
      stroke-width: 3;
    }
    /* Plus-Button Anbieter: kühles Blau (--prov-brand), weißes Plus */
    .provider-add-plus-btn,
    #fabProviderAddOffer.fab-provider-plus {
      background: var(--prov-brand) !important;
      color: #fff !important;
      border: none !important;
      animation: fab-pulse-prov 2s ease-in-out infinite;
    }
    .provider-add-plus-btn .plus-char,
    #fabProviderAddOffer.fab-provider-plus .plus-char { color: #fff !important; font-weight:900; text-shadow: 0 1px 2px rgba(0,0,0,0.15); }
    #fabProviderAddOffer.fab-provider-plus {
      width: 56px;
      height: 56px;
      min-width: 56px;
      padding: 0;
      border-radius: 50%;
      justify-content: center;
    }
    /* Stolz-Edition: FAB gelb mit weißem Rand, animiert (führt zu Inseratsauswahl) */
    @keyframes fab-plus-float {
      0%, 100% { transform: scale(1); box-shadow: 0 4px 20px rgba(0,0,0,0.2), 0 8px 24px rgba(0,0,0,0.12); }
      50% { transform: scale(1.06); box-shadow: 0 6px 26px rgba(255,222,0,0.4), 0 10px 30px rgba(0,0,0,0.15); }
    }
    #fabProviderAddOffer.fab-provider-plus {
      background: #ffde00 !important;
      border: 4px solid #fff !important;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2), 0 8px 24px rgba(0,0,0,0.12) !important;
      animation: fab-plus-float 2.2s ease-in-out infinite;
    }
    #fabProviderAddOffer.fab-provider-plus .plus-char { color: #1a1a1a !important; text-shadow: none !important; }
    #fabProviderAddOffer.fab-provider-plus:active,
    .provider-add-plus-btn:active { animation: none; transform: scale(0.96); }
    /* REGEL: Gelbes Plus – einheitlich in der ganzen App für „Hinzufügen“ (Anbieter erkennt sofort: hier kann ich was hinzufügen) */
    .prov-add-plus-icon {
      width: 64px; height: 64px; min-width: 64px; min-height: 64px;
      background: #ffde00;
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 32px; font-weight: 300; line-height: 1;
      color: #1a1a1a;
      box-shadow: 0 4px 16px rgba(255,222,0,0.45);
    }
    .prov-add-plus-trigger { display: inline-flex; align-items: center; justify-content: center; cursor: pointer; transition: transform 0.1s; padding: 8px; }
    .prov-add-plus-trigger:active { transform: scale(0.98); }
    @keyframes fab-pulse-prov {
      0%, 100% { box-shadow: 0 4px 20px rgba(14,165,233,0.45), 0 8px 24px rgba(0,0,0,0.15); }
      50% { box-shadow: 0 4px 28px rgba(14,165,233,0.6), 0 8px 32px rgba(0,0,0,0.2); }
    }
    .provider-add-plus-btn {
      display: inline-flex !important;
      align-items: center;
      justify-content: center;
      gap: 10px;
      min-height: 52px;
      padding: 0 20px;
      border-radius: 14px;
      font-weight: 800;
      font-size: 16px;
      cursor: pointer;
      transition: transform 0.15s;
    }

    @media (min-width: 501px) {
      .fab-provider {
        right: calc(20px + env(safe-area-inset-right, 0));
        left: auto;
      }
    }
    #wizard.sheet--kitchen .w-top{ margin-bottom:12px; }
    #wizard.sheet--kitchen .w-title{ font-weight:800; font-size:14px; color:#9ca3af; text-transform:uppercase; letter-spacing:0.05em; }
    #wizard.sheet--kitchen .w-step{ font-size:12px; color:#64748b; font-weight:600; margin-top:2px; }
    #wizard.sheet--kitchen .w-q{
      font-size:22px; font-weight:900; color:#1a1a1a; line-height:1.2; margin:0 0 8px; letter-spacing:-0.02em;
    }
    #wizard.sheet--kitchen .w-help{ font-size:15px; color:#64748b; margin:0 0 24px; line-height:1.5; }
    #wizard.sheet--kitchen #wContent{
      margin-bottom:32px;
      min-height:40px;
      scroll-margin-top:16px;
    }
    #wizard.sheet--kitchen .panel{ scroll-behavior:smooth; }
    #wizard.sheet--kitchen #wContent .answers{
      display:flex; flex-wrap:wrap; gap:8px; margin-top:8px;
    }
    #wizard.sheet--kitchen #wContent .field{
      margin-top:0; margin-bottom:8px;
    }
    #wizard.sheet--kitchen #wContent input[type="checkbox"]{
      accent-color:var(--brand);
    }
    #wizard.sheet--kitchen .hint{ color:#64748b; font-size:13px; }
    #wizard.sheet--kitchen .panel{
      background:#f8f9fa; border:1px solid rgba(0,0,0,0.08); color:#1a1a1a;
      border-radius:12px; padding:14px; margin-top:12px;
    }
    #wizard.sheet--kitchen .panel .hint{ color:#64748b; }
    #wizard.sheet--kitchen .ans{
      background:#fff; border:1px solid rgba(0,0,0,0.12); color:#1a1a1a;
      padding:12px 16px; border-radius:14px; font-weight:700;
      min-height:44px;
      box-sizing:border-box;
      transition:background .15s, border-color .15s;
    }
    #wizard.sheet--kitchen #wContent .ans.ans--thumb{
      min-height:72px; min-width:72px;
    }
    #wizard.sheet--kitchen .ans:hover{ background:#f8f9fa; border-color:rgba(0,0,0,0.18); }
    #wizard.sheet--kitchen .ans.on{
      border-color:var(--brand); background:rgba(255,215,0,0.15); color:#1a1a1a;
    }
    #wizard.sheet--kitchen .field{
      background:#fff; border:1px solid rgba(0,0,0,0.12); color:#1a1a1a;
      border-radius:12px; padding:14px 16px; font-size:16px;
    }
    #wizard.sheet--kitchen .field::placeholder{ color:#94a3b8; }
    #wizard.sheet--kitchen .btn.ghost{
      background:#f8f9fa; border:1px solid rgba(0,0,0,0.1); color:#1a1a1a;
    }
    #wizard.sheet--kitchen .mini{ color:#64748b; font-size:12px; }
    /* Vorschau-Bereich (kein Livebild): kompakt, klar */
    #wizard.sheet--kitchen #listingPreview{
      margin-top:20px; padding-top:16px; border-top:1px solid rgba(0,0,0,0.08);
    }
    #wizard.sheet--kitchen #listingPreview .hint{
      font-size:12px; font-weight:600; color:#64748b; text-transform:uppercase; letter-spacing:0.5px; margin-bottom:10px;
    }
    #wizard.sheet--kitchen #listingPreview .listing-preview-badge{
      background:rgba(46,125,50,0.1); border:1px solid rgba(46,125,50,0.3); border-radius:12px; padding:12px;
    }
    #wizard.sheet--kitchen #listingPreview .listing-preview-badge div{ color:#2e7d32; font-weight:700; }
    #wizard.sheet--kitchen #listingPreview .listing-preview-subline{ color:#64748b; }
    #wizard.sheet--kitchen .listing-reuse-preview{
      background:rgba(31,157,85,0.08) !important; border:1px solid rgba(46,175,80,0.25) !important;
      border-radius:12px; padding:12px;
    }
    #wizard.sheet--kitchen .listing-reuse-preview span{ color:#1a1a1a; }
    #wizard.sheet--kitchen .listing-hint-box{
      background:#f8f9fa !important; border:1px solid rgba(0,0,0,0.08) !important;
      border-radius:12px; padding:12px;
    }
    #wizard.sheet--kitchen .listing-hint-box div{ color:#1a1a1a !important; }
    #wizard.sheet--kitchen .listing-cost-block{
      background:#f8f9fa !important; border:1px solid rgba(0,0,0,0.08); border-radius:12px; padding:14px;
    }
    #wizard.sheet--kitchen .listing-cost-block div{ color:#1a1a1a; }
    #wizard.sheet--kitchen .listing-cost-block .listing-cost-muted{ color:#64748b; }
    #wizard.sheet--kitchen .listing-cost-block.listing-cost-green{
      background:rgba(46,125,50,0.1) !important; border:1px solid rgba(46,125,50,0.3);
    }
    #wizard.sheet--kitchen .listing-cost-block.listing-cost-green div{ color:#2e7d32; }
    #wizard.sheet--kitchen .listing-datum-summary .listing-datum-day{ color:#1a1a1a; font-weight:800; }
    #wizard.sheet--kitchen .listing-datum-summary .hint{ color:#64748b; }

    /* Inseratflow: Sticky Bottom – Glas, Emerald-Button (JETZT INSERIEREN) */
    .listing-sticky-footer{
      position:sticky; bottom:0; left:0; right:0;
      margin:16px -20px 0; padding:14px 20px 20px;
      padding-bottom:calc(20px + env(safe-area-inset-bottom, 0));
      background:linear-gradient(to top, rgba(255,255,255,0.92) 60%, rgba(255,255,255,0.85));
      backdrop-filter:blur(12px); -webkit-backdrop-filter:blur(12px);
      box-shadow:0 -4px 24px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8);
      border-radius:24px 24px 0 0;
      border-top:1px solid rgba(255,255,255,0.5);
    }
    /* Potenzial heute: groß Emerald, 4,99 € daneben klein */
    .revenue-card-enter{
      animation: revenueCardBounce 0.45s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }
    @keyframes revenueCardBounce{
      0%{ opacity:0; transform:translateY(12px); }
      60%{ opacity:1; transform:translateY(-2px); }
      100%{ opacity:1; transform:translateY(0); }
    }
    /* Bild-Platzhalter: Shimmer/Skeleton während Laden */
    .wizard-img-skeleton::after{
      content:''; position:absolute; inset:0;
      background:linear-gradient(95deg, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%);
      background-size:200% 100%; animation:wizardShimmer 1.2s ease-in-out infinite;
    }
    @keyframes wizardShimmer{ 0%{ background-position:200% 0; } 100%{ background-position:-200% 0; } }

    /* Inseratflow: S25, blind-tap, <15s – app-like, große Touch-Ziele, intuitiv */
    #wizard[data-flow="listing"].sheet--kitchen .wizard-scroll{
      padding-bottom:140px;
    }
    #wizard[data-flow="listing"].sheet--kitchen .w-q{
      font-size:16px; margin-bottom:4px;
    }
    #wizard[data-flow="listing"].sheet--kitchen .w-help{
      font-size:12px; margin-bottom:12px; line-height:1.35;
    }
    #wizard[data-flow="listing"].sheet--kitchen #wContent .answers{
      display:grid;
      grid-template-columns:repeat(2, 1fr);
      gap:10px;
      margin-top:8px;
    }
    #wizard[data-flow="listing"].sheet--kitchen #wContent .answers.answers--full{
      grid-template-columns:1fr;
    }
    /* Inseratflow: Support-Layout (Buttons wie Support-Sheet) */
    #wizard[data-flow="listing"].sheet--kitchen #wContent .ans{
      min-height:52px !important;
      padding:var(--support-padding) var(--support-padding-lg) !important;
      font-size:15px !important;
      font-weight:700;
      border-radius:var(--support-border-radius);
      border:2px solid var(--support-border);
      background:#fff;
      -webkit-tap-highlight-color:transparent;
      touch-action:manipulation;
      justify-content:center;
      display:flex;
      align-items:center;
    }
    #wizard[data-flow="listing"].sheet--kitchen #wContent .ans.on{
      border:2px solid var(--brand);
      background:rgba(255,215,0,0.08);
    }
    #wizard[data-flow="listing"].sheet--kitchen #wContent .ans.ans--thumb{
      min-height:80px !important;
      min-width:80px !important;
      border-radius:var(--support-border-radius);
      padding:0;
    }
    #wizard[data-flow="listing"].sheet--kitchen #wContent .field{
      min-height:52px !important;
      padding:12px var(--support-padding) !important;
      font-size:16px !important;
      border-radius:var(--support-border-radius);
      border:1px solid #ddd;
      -webkit-tap-highlight-color:transparent;
    }
    #wizard[data-flow="listing"].sheet--kitchen .hint{
      font-size:12px; margin-bottom:6px;
    }
    /* S25 / schmale Displays: noch größere Tap-Ziele, safe-area */
    @media (max-width:430px){
      #wizard[data-flow="listing"].sheet--kitchen #wContent .ans{
        min-height:54px !important;
      }
    }

    /* Einheitliches Support-Layout: Anbieter + Inseratsflow (Buttons, Panels, Abstände wie Support-Sheet) */
    :root{
      --support-border:#e5e7eb;
      --support-border-radius:12px;
      --support-padding:16px;
      --support-padding-lg:24px;
    }
    /* Provider-App: Systemweite Design-Vorgabe – Warmes Beige, Dein Gelb, Weiß */
    :root{
      --provider-bg: #F8F7F2;
      --provider-surface: #ffffff;
      --provider-surface-alt: #f0f0eb;
      --provider-border: rgba(0,0,0,0.06);
      --provider-text: #1a1a1a;
      --provider-text-muted: #64748b;
      --provider-shadow: 0 4px 20px rgba(0,0,0,0.05);
      --provider-radius: 20px;
      --prov-brand: #FFDE00;
      --prov-success: #FFDE00;
      --prov-danger: #ef4444;
      --premium-anthracite: #1a1a1a;
      --premium-anthracite-soft: #334155;
      --glass-bg: rgba(255,255,255,0.75);
      --glass-border: rgba(255,255,255,0.4);
      --glass-shadow: 0 8px 32px rgba(0,0,0,0.06);
      --glass-inner-glow: inset 0 1px 0 rgba(255,255,255,0.8);
      --card-radius-premium: 24px;
      --card-shadow-soft: 0 4px 20px rgba(0,0,0,0.05);
      --card-shadow-hover: 0 12px 40px rgba(0,0,0,0.08);
    }
    /* Provider: einheitlich Warmes Beige #F8F7F2 – kein Farbsprung zwischen Dashboard/Wochenplan/Inserat */
    body.provider-mode [id^="v-provider-"].view{ position:relative; background: var(--provider-bg) !important; }
    body.provider-mode #v-provider-home,
    body.provider-mode #v-provider-week,
    body.provider-mode #v-provider-cookbook,
    body.provider-mode #v-provider-pickups,
    body.provider-mode #v-provider-profile,
    body.provider-mode #v-provider-billing{ background: var(--provider-bg) !important; }
    body.provider-mode #v-provider-home > *,
    body.provider-mode #v-provider-week > *,
    body.provider-mode [id^="v-provider-"].view.active > *{ position:relative; z-index:1; }
    
    /* Modern App-Like CSS for Provider */
    .prov-header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      padding: 12px 20px 16px;
      border-bottom: 1px solid rgba(0,0,0,0.05);
    }
    
    .prov-title {
      margin: 0;
      font-size: 24px;
      font-weight: 950;
      letter-spacing: -0.03em;
      color: #1a1a1a;
    }
    
    /* Einheitlicher App-Header für Abholungen, Wochenplan, Kochbuch (Glassmorphism) – wie Wochenplan */
    /* Wie Wochenplan: wenig Platz oben */
    body.provider-mode .prov-page-header {
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(255,255,255,0.8) !important;
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(255,255,255,0.2);
      padding: calc(8px + env(safe-area-inset-top, 0)) 20px 12px 20px;
    }
    .prov-page-header .prov-page-header-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }
    .prov-page-header .prov-page-header-left {
      display: flex;
      align-items: center;
      gap: 12px;
      min-width: 0;
    }
    .prov-page-header .prov-page-header-icon {
      width: 44px;
      height: 44px;
      background: var(--prov-brand);
      color: #1a1a1a;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(14, 165, 233, 0.25);
      flex-shrink: 0;
    }
    .prov-page-header .prov-page-header-icon i,
    .prov-page-header .prov-page-header-icon svg {
      width: 24px;
      height: 24px;
      color: #fff;
    }
    .prov-page-header .prov-page-header-title {
      margin: 0;
      font-size: 24px;
      font-weight: 950;
      letter-spacing: -0.03em;
      color: #1a1a1a;
    }
    .prov-page-header .prov-page-header-actions {
      display: flex;
      gap: 8px;
      flex-shrink: 0;
    }
    .prov-page-header .prov-page-header-actions button {
      background: rgba(0,0,0,0.03);
      border: none;
      width: 44px;
      height: 44px;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #64748b;
      cursor: pointer;
    }
    .prov-page-header .prov-page-header-actions button:active {
      transform: scale(0.96);
    }
    
    .prov-card {
      background: var(--glass-bg);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-radius: var(--card-radius-premium, 24px);
      padding: 24px;
      border: 1px solid var(--glass-border);
      box-shadow: var(--card-shadow-soft), var(--glass-inner-glow);
      margin-bottom: 20px;
      transition: transform 0.22s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s ease;
    }
    .prov-card:active {
      transform: scale(0.98);
      box-shadow: 0 2px 12px rgba(0,0,0,0.04), var(--glass-inner-glow);
    }
    
    .prov-stats-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0;
      margin-top: 12px;
    }
    
    .prov-stat-item {
      text-align: center;
      padding: 12px 8px;
      border-right: 1px solid #eee;
    }
    .prov-stat-item:last-child {
      border-right: none;
    }
    .prov-stat-value {
      display: block;
      font-size: 24px;
      font-weight: 950;
      color: #1a1a1a;
      line-height: 1;
    }
    .prov-stat-label {
      font-size: 10px;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: #9ca3af;
      margin-top: 6px;
      display: block;
    }
    
    .prov-badge {
      display: inline-flex;
      align-items: center;
      padding: 6px 12px;
      border-radius: 10px;
      font-size: 12px;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 0.02em;
    }
    .prov-badge-live { background: rgba(255, 222, 0, 0.2); color: #1a1a1a; font-weight: 700; }
    .prov-badge-draft { background: rgba(100, 116, 139, 0.1); color: #64748b; }
    .prov-badge-abholer { background: rgba(255, 222, 0, 0.2); color: #1a1a1a; }
    
    .prov-action-btn {
      background: var(--provider-surface);
      border: 1px solid var(--provider-border);
      padding: 16px;
      border-radius: 20px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .prov-action-btn:active { transform: scale(0.96); }
    .prov-action-icon {
      width: 44px;
      height: 44px;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content:center;
    }
    
    [id^="v-provider-"]{
      background:var(--provider-bg) !important;
      font-family: 'Inter', sans-serif;
    }
    /* Einheitlicher Sticky-Header für Anbieter-Subseiten */
    .provider-header-bar{
      background:#fff !important;
      position:sticky; top:0; z-index:50;
      border-bottom:1px solid rgba(0,0,0,0.06);
      padding:16px 20px;
      margin:-20px -20px 24px -20px;
      display:flex; align-items:center; justify-content:center;
    }
    .provider-header-bar h1{ margin:0; font-size:18px; font-weight:700; color:#1a1a1a !important; }
    .provider-header-bar .btn-back{ position:absolute; left:10px; color:#0A84FF; font-size:16px; padding:8px; display:flex; align-items:center; gap:4px; background:none; border:none; cursor:pointer; }
    /* Legal-Anbieter-Seiten: gleiches helles Layout */
    #v-legal-impressum-provider,
    #v-legal-faq-provider,
    #v-legal-datenschutz-provider{
      background:var(--provider-bg) !important;
    }
    #v-legal-impressum-provider .panel,
    #v-legal-faq-provider .panel,
    #v-legal-datenschutz-provider .panel{
      background:#fff !important;
      color:#1a1a1a !important;
      border:1px solid rgba(0,0,0,0.06) !important;
      box-shadow:0 2px 12px rgba(0,0,0,0.06) !important;
    }
    #v-legal-impressum-provider .panel h1,
    #v-legal-faq-provider .panel h1,
    #v-legal-datenschutz-provider .panel h1{ color:#1a1a1a !important; }
    #v-legal-impressum-provider .panel div,
    #v-legal-impressum-provider .panel p,
    #v-legal-faq-provider .panel div,
    #v-legal-faq-provider .panel p,
    #v-legal-datenschutz-provider .panel div,
    #v-legal-datenschutz-provider .panel p{ color:#334155 !important; }
    #v-legal-impressum-provider .panel a,
    #v-legal-faq-provider .panel a,
    #v-legal-datenschutz-provider .panel a{ color:#0A84FF !important; }
    #v-legal-agb-provider{ background:var(--provider-bg) !important; }
    [id^="v-provider-"] .panel{
      background:var(--provider-surface) !important;
      color:var(--provider-text) !important;
      border:2px solid var(--provider-border) !important;
      box-shadow:none !important;
      border-radius:var(--support-border-radius) !important;
      padding:var(--support-padding) var(--support-padding-lg) !important;
    }
    [id^="v-provider-"] .panel div,
    [id^="v-provider-"] .panel span,
    [id^="v-provider-"] .panel label{
      color:var(--provider-text) !important;
    }
    [id^="v-provider-"] .panel .hint,
    [id^="v-provider-"] .provider-profile-section-title{
      color:var(--provider-text-muted) !important;
    }
    /* Provider-Login-View: „Als Gastronom anmelden“ sehr weit oben */
    #v-provider-login{
      display:flex; flex-direction:column; align-items:stretch;
      padding-top:calc(16px + env(safe-area-inset-top, 0)); padding-left:20px; padding-right:20px; padding-bottom:40px;
      min-height:100vh; box-sizing:border-box;
    }
    #v-provider-login .panel{
      margin-top:0 !important; margin-bottom:0 !important; max-width:400px; align-self:center; width:100%;
    }
    /* Status-Banner: nur dieser bleibt grün mit Weißtext (Support-Layout) */
    #providerStatusBanner{
      background:linear-gradient(135deg, #2e7d32 0%, #1f5f23 100%) !important;
      color:#fff !important;
      border:2px solid #1f5f23 !important;
      box-shadow:none !important;
      border-radius:var(--support-border-radius) !important;
    }
    #providerStatusBanner *{ color:#fff !important; }
    /* Kunden-Nachfrage: heller Hintergrund, dunkle Schrift (lesbar) */
    #providerCustomerDemand{
      background:#fffbf0 !important;
      border:1px solid #e6c200 !important;
      color:var(--provider-text) !important;
      border-radius:6px !important;
    }
    #providerCustomerDemand #providerRequestCount{ color:var(--provider-text) !important; font-weight:800 !important; }
    #providerCustomerDemand .btn-primary{ background:#2e7d32 !important; color:#fff !important; }
    #providerPersonalSpar,
    #providerPersonalSpar *{
      background:var(--provider-surface-alt) !important;
      color:var(--provider-text) !important;
      border-color:var(--provider-border) !important;
    }
    #providerPersonalSpar strong{ color:var(--provider-text) !important; }
    [id^="v-provider-"] h1,[id^="v-provider-"] h2,[id^="v-provider-"] h3{
      color:var(--provider-text) !important;
    }
    #v-provider-home .provider-home-header,
    #v-provider-home .provider-home-header *,
    #v-provider-home h1{
      color:var(--provider-text) !important;
    }
    #v-provider-home .provider-home-header div:first-child{
      color:var(--provider-text-muted) !important;
    }
    [id^="v-provider-"] #provPickupsSubheader,
    [id^="v-provider-"] .hint{
      color:var(--provider-text-muted) !important;
    }
    #providerStatusIndicator{
      background:var(--provider-surface) !important;
      border:2px solid var(--provider-border) !important;
      box-shadow:0 1px 3px rgba(0,0,0,.08) !important;
      border-radius:var(--support-border-radius) !important;
    }
    #statusIndicatorText{ color:var(--provider-text) !important; }
    /* KPI-Karten: dunkle Schrift, lesbar */
    #kpiCardTagesessen,
    #kpiCardAbholungen,
    #kpiCardKochbuch{
      background:var(--provider-surface) !important;
      border:2px solid var(--provider-border) !important;
      border-radius:var(--support-border-radius) !important;
    }
    #kpiCardTagesessen div:first-child,
    #kpiCardAbholungen div:first-child,
    #kpiCardKochbuch div:first-child{
      color:var(--provider-text) !important;
    }
    #kpiCardTagesessen div:last-child,
    #kpiCardAbholungen div:last-child,
    #kpiCardKochbuch div:last-child{
      color:var(--provider-text-muted) !important;
    }
    #providerTimeTracker,
    #providerTimeTracker *{
      color:var(--provider-text) !important;
      background:var(--provider-surface) !important;
      border-color:var(--provider-border) !important;
    }
    #providerTimeTracker div:first-child,
    #providerTimeTracker div:last-child{
      color:var(--provider-text-muted) !important;
    }
    #providerTimeTracker #providerTimeSaved{ color:var(--provider-text) !important; }
    #providerTodayShare,
    #providerTodayShare .btn{ color:var(--provider-text) !important; background:var(--provider-surface) !important; border-color:var(--provider-border) !important; }
    /* Buttons im Provider-Bereich: Support-Layout (wie Support-Sheet) */
    [id^="v-provider-"] .btn,
    [id^="v-provider-"] .btn-primary,
    [id^="v-provider-"] button[class*="btn"]{
      border-radius:var(--support-border-radius) !important;
      min-height:48px !important;
      font-weight:700 !important;
      font-size:15px !important;
      padding:var(--support-padding) var(--support-padding-lg) !important;
      box-shadow:none !important;
      transition:border-color .15s, background .15s !important;
      -webkit-tap-highlight-color:transparent;
    }
    [id^="v-provider-"] .btn:active,
    [id^="v-provider-"] .btn-primary:active,
    [id^="v-provider-"] button[class*="btn"]:active{
      transform:scale(0.98) !important;
    }
    [id^="v-provider-"] .btn.secondary,
    [id^="v-provider-"] .btn.ghost{
      background:#fff !important;
      border:2px solid var(--support-border) !important;
      color:var(--provider-text) !important;
    }
    [id^="v-provider-"] .btn:not(.secondary):not(.ghost),
    [id^="v-provider-"] .btn-primary{
      border:2px solid transparent !important;
    }
    /* Bottom-Nav Provider: hell, modern */
    #providerNav{
      background:rgba(255,255,255,0.98) !important;
      backdrop-filter:blur(12px);
      -webkit-backdrop-filter:blur(12px);
      border-top:1px solid var(--provider-border) !important;
      box-shadow:0 -2px 16px rgba(0,0,0,.06) !important;
    }
    #providerNav .navbtn{ color:var(--provider-text-muted); }
    #providerNav .navbtn.active{ color:var(--prov-brand); }
    #providerNav .navbtn.active .ico svg{ color:var(--prov-brand); stroke:var(--prov-brand); }
    /* Provider Nav Light: Stolz-Edition – Gelb (#ffde00) aktiv, inaktive Tabs 20 % Opacity */
    .provider-nav-light .navbtn{ color:#1a1a1a; font-weight:600; flex:1; min-width:0; display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; }
    .provider-nav-light .navbtn{ border-top:2px solid transparent; }
    .provider-nav-light .navbtn:not(.active){ opacity:0.2; }
    .provider-nav-light .navbtn.active{ color:#ffde00; font-weight:700; border-top-color:#ffde00; opacity:1; }
    .provider-nav-light .navbtn.active .ico svg{ color:#ffde00 !important; stroke:#ffde00 !important; }
    /* Schwebende Bottom-Bar (Pille): dunkler Hintergrund, aktiver Tab = gelbe Box */
    .provider-nav-pill .navbtn{ color:rgba(255,255,255,0.4); border-top:none; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:4px; flex:1; min-width:0; }
    .provider-nav-pill .navbtn .ico{ width:44px; height:44px; border-radius:16px; display:flex; align-items:center; justify-content:center; transition:background 0.2s, box-shadow 0.2s; }
    .provider-nav-pill .navbtn:not(.active) .ico{ background:transparent; }
    .provider-nav-pill .navbtn.active{ color:#ffde00; opacity:1; }
    .provider-nav-pill .navbtn.active .ico{ background:#ffde00; width:48px; height:48px; border-radius:16px; box-shadow:0 4px 16px rgba(255,222,0,0.35); }
    .provider-nav-pill .navbtn.active .ico svg{ color:#1a1a1a !important; stroke:#1a1a1a !important; }
    .provider-nav-pill .navbtn .ico + div{ font-size:10px; font-weight:900; text-transform:uppercase; letter-spacing:0.02em; }
    /* Schwebende Bar: Abstand vom Rand (FloatingAppDashboard bottom-10 left-10 right-10) */
    #providerNavWrap.provider-nav-wrap-pill{ bottom:2.5rem !important; left:2.5rem !important; right:2.5rem !important; max-width:32rem; margin-left:auto; margin-right:auto; z-index:100 !important; }
    #providerNavWrap #providerNav{ min-height:80px; }
    @media (max-width: 420px){
      #providerNavWrap.provider-nav-wrap-pill{ left:1rem !important; right:1rem !important; bottom:1.5rem !important; }
    }
    [id^="v-provider-"] .panel h1,[id^="v-provider-"] .panel h2,[id^="v-provider-"] .panel h3,[id^="v-provider-"] .panel .section-title{ color:var(--provider-text) !important; }
    [id^="v-provider-"] .panel .hint{ color:var(--provider-text-muted) !important; }
    /* Dynamisch eingefügter Inhalt: immer lesbar */
    #providerActiveOffersList,
    #providerActiveOffersList *,
    #providerTodayContent,
    #providerTodayContent *,
    #providerWeekDayContent,
    #providerWeekDayContent *{
      color:var(--provider-text) !important;
    }
    #providerActiveOffersList [style*="color:var(--muted)"],
    #providerTodayContent .hint,
    #providerWeekDayContent .hint{
      color:var(--provider-text-muted) !important;
    }
    /* FAB: Stolz gelb, Schatten */
    #fabProviderAddOffer{
      background:#ffde00 !important;
      border:4px solid #fff !important;
      box-shadow:0 4px 20px rgba(0,0,0,0.2), 0 8px 24px rgba(0,0,0,0.12) !important;
      transition:transform .15s ease, box-shadow .15s ease;
    }
    #fabProviderAddOffer .plus-char{ color:#1a1a1a !important; }
    #fabProviderAddOffer:active{ transform:scale(0.95); }
    /* Provider Dashboard CTA: Hover/Active Scale (App-Style) */
    .provider-dashboard-cta:hover{ transform:scale(0.98); }
    .provider-dashboard-cta:active{ transform:scale(0.95); }

    /* FAB & Status-Indikator: Safe-Area für S25 / moderne Handys */
    #fabProviderAddOffer{
      bottom:calc(90px + env(safe-area-inset-bottom, 20px)) !important;
      right:calc(16px + env(safe-area-inset-right, 0)) !important;
    }
    #fabProviderAddOfferLabel{ right:calc(16px + env(safe-area-inset-right, 0)) !important; }
    #providerStatusIndicator{
      top:calc(16px + env(safe-area-inset-top, 0)) !important;
      right:calc(16px + env(safe-area-inset-right, 0)) !important;
    }

    /* FAQ accordion */
    .faq{margin-top:12px}
    details{background:#fff;border:1px solid var(--border);border-radius:14px;box-shadow:0 6px 14px rgba(0,0,0,.06);padding:14px 16px}
    details+details{margin-top:10px}
    summary{cursor:pointer;font-weight:950;font-size:15px;line-height:1.4}
    summary:focus-visible{outline:2px solid var(--accent,#0A84FF);outline-offset:2px;border-radius:8px}
    summary::-webkit-details-marker{display:none}
    #v-legal-faq details summary::-webkit-details-marker,
    #v-legal-faq-provider details summary::-webkit-details-marker{display:none}
    #v-legal-faq details summary::marker,
    #v-legal-faq-provider details summary::marker{content:''}
    details p{margin:10px 0 0;color:var(--muted);font-size:14px;line-height:1.6}
    .profile-faq-accordion details summary::-webkit-details-marker{display:none}

    /* helper */
    .hint{font-size:12px;color:var(--muted);margin-top:8px;line-height:1.25}

    .loc-row{display:flex; gap:8px; align-items:center}
    .pin-btn{
      border:1px solid var(--border); background:#fff; border-radius:14px;
      width:44px; height:44px; cursor:pointer; font-size:18px;
      display:flex; align-items:center; justify-content:center;
    }
    .ico-inline{display:inline-flex; align-items:center}
    .ico-inline svg{width:14px; height:14px; stroke:currentColor}
    .info-row{display:flex; flex-wrap:wrap; gap:8px; margin-top:10px; font-size:12px; color:var(--muted)}
    .info-item{
      display:inline-flex; align-items:center; gap:6px;
      background:#f8f7f3; border:1px solid var(--border);
      padding:5px 10px; border-radius:999px;
      font-size:13px; line-height:1.4;
    }

    /* Onboarding */
    .onboarding-step{
      max-width:600px; margin:0 auto;
    }
    .onboarding-header{
      display:flex; justify-content:space-between; align-items:flex-start;
    }
    .onboarding-progress{
      font-size:12px; font-weight:900; color:var(--muted);
      text-transform:uppercase; letter-spacing:.05em;
    }
    .onboarding-logo-preview:hover{
      border-color:var(--brand); background:#fff4e6;
    }
    .onboarding-logo-preview img{
      display:block;
    }
    .time-btn.active{
      background:var(--brand); border-color:var(--brand);
    }
    .onboarding-summary-item:last-child{
      margin-bottom:0;
    }

    /* Social Feed - Story-Leiste */
    .stories-container{
      padding:16px 14px 20px;
      max-width:980px; margin:0 auto;
    }
    .stories-scroll{
      display:flex; gap:16px; overflow-x:auto;
      -webkit-overflow-scrolling:touch;
      padding-bottom:4px;
    }
    .story-item{
      flex:0 0 auto; display:flex; flex-direction:column; align-items:center; gap:8px;
      cursor:pointer;
    }
    .story-avatar{
      width:64px; height:64px; border-radius:50%;
      border:3px solid var(--brand);
      padding:2px; background:#fff;
      overflow:hidden; position:relative;
    }
    .story-avatar img{
      width:100%; height:100%; object-fit:cover; border-radius:50%;
    }
    .story-name{
      font-size:12px; font-weight:700; color:var(--text);
      max-width:64px; text-align:center; overflow:hidden; text-overflow:ellipsis;
      line-height:1.3;
    }

    /* Discover Page - App-like UX (PWA, Light Mode) */
    /* Toggle-Switch für Discover-View */
    .discover-view-toggle{
      margin-left:auto; /* Rechts ausrichten in Quick-Filters */
    }
    /* View-Toggle im Topbar */
    .discover-view-toggle-topbar{
      display:none;
    }
    
    /* Floating Action Button (FAB) für Modus-Wechsel */
    .fab-mode-toggle{
      position:fixed; bottom:calc(80px + env(safe-area-inset-bottom, 16px) + 20px); right:16px;
      width:56px; height:56px; border-radius:50%;
      background:rgba(255,255,255,.85);
      backdrop-filter:saturate(180%) blur(20px);
      -webkit-backdrop-filter:saturate(180%) blur(20px);
      border:1px solid rgba(231,225,213,.3);
      box-shadow:0 8px 24px rgba(0,0,0,.12), 0 0 0 1px rgba(0,0,0,.04);
      display:none; align-items:center; justify-content:center;
      cursor:pointer; z-index:25;
      transition:transform .2s ease, box-shadow .2s ease, background .2s ease;
      user-select:none;
    }
    .fab-mode-toggle:hover{
      transform:scale(1.05);
      box-shadow:0 12px 32px rgba(0,0,0,.16), 0 0 0 1px rgba(0,0,0,.06);
      background:rgba(255,255,255,.95);
    }
    .fab-mode-toggle:active{
      transform:scale(.95);
    }
    .fab-mode-toggle.pulsing{
      animation:fabPulse .4s ease-out;
    }
    @keyframes fabPulse{
      0%{transform:scale(1);}
      50%{transform:scale(1.15); box-shadow:0 12px 40px rgba(255,184,0,.3), 0 0 0 1px rgba(255,184,0,.2);}
      100%{transform:scale(1);}
    }
    .fab-mode-toggle i{
      width:24px; height:24px;
      color:#2D3436;
      transition:transform .2s ease;
    }
    .fab-mode-toggle.active i{
      transform:rotate(180deg);
    }
    
    /* Micro-Hint (Sprechblase beim ersten Start) */
    .fab-hint{
      position:absolute; bottom:calc(100% + 12px); right:0;
      background:#2D3436; color:#fff;
      padding:10px 14px; border-radius:12px;
      font-size:13px; font-weight:600; white-space:nowrap;
      box-shadow:0 4px 16px rgba(0,0,0,.2);
      opacity:0; pointer-events:none;
      transform:translateY(8px);
      transition:opacity .3s ease, transform .3s ease;
    }
    .fab-hint.show{
      opacity:1; transform:translateY(0);
    }
    .fab-hint::after{
      content:''; position:absolute; top:100%; right:20px;
      width:0; height:0;
      border-left:6px solid transparent;
      border-right:6px solid transparent;
      border-top:6px solid #2D3436;
    }
    .discover-calendar-wrapper{
      padding:6px 0 4px;
      border-top:1px solid rgba(0,0,0,.04);
      max-width:100%;
      margin:0 auto;
      box-sizing:border-box;
    }
    .discover-calendar-scroll{
      display:flex;
      gap:8px;
      overflow-x:auto;
      -webkit-overflow-scrolling:touch;
      padding:0 14px;
      scrollbar-width:none;
    }
    .discover-calendar-scroll::-webkit-scrollbar{display:none}
    .toggle-switch{
      position:relative;
      width:64px;
      height:32px;
      background:#e0e0e0;
      border-radius:16px;
      border:none;
      cursor:pointer;
      transition:background 0.3s ease;
      display:flex;
      align-items:center;
      padding:4px;
      box-shadow:0 2px 8px rgba(0,0,0,0.1);
    }
    .toggle-switch.active{
      background:var(--brand);
    }
    .toggle-icon{
      position:absolute;
      width:24px;
      height:24px;
      display:flex;
      align-items:center;
      justify-content:center;
      transition:opacity 0.3s ease, transform 0.3s ease;
      z-index:2;
    }
    .toggle-icon-list{
      left:4px;
      opacity:1;
    }
    .toggle-icon-match{
      right:4px;
      opacity:0.5;
    }
    .toggle-switch.active .toggle-icon-list{
      opacity:0.5;
    }
    .toggle-switch.active .toggle-icon-match{
      opacity:1;
    }
    .toggle-icon svg{
      width:18px;
      height:18px;
      stroke-width:2.5;
    }
    .toggle-slider{
      position:absolute;
      width:24px;
      height:24px;
      background:#fff;
      border-radius:50%;
      transition:transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow:0 2px 4px rgba(0,0,0,0.2);
      left:4px;
      z-index:3;
    }
    .toggle-switch.active .toggle-slider{
      transform:translateX(32px);
    }
    /* Status-Ampel Animationen */
    @keyframes pulse-green {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.7; transform: scale(1.1); }
    }
    @keyframes blink-red {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }
    @keyframes pulse-yellow {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.8; transform: scale(1.05); }
    }
    @keyframes pulse-green-dot {
      0%, 100% { 
        opacity: 1; 
        transform: scale(1);
        box-shadow: 0 0 12px rgba(39,174,96,0.8);
      }
      50% { 
        opacity: 0.8; 
        transform: scale(1.2);
        box-shadow: 0 0 20px rgba(39,174,96,1);
      }
    }
    
    /* Status-Ampel: Nur im Provider-Modus sichtbar */
    #providerStatusIndicator {
      display: none;
    }
    body.provider-mode #providerStatusIndicator {
      display: flex !important;
    }
    /* Anbieter-Ansichten: Topbar ausblenden, Inhalt beginnt oben ohne Leerraum */
    body.provider-mode .topbar { display: none !important; }
    body.provider-mode main { padding-top: 0 !important; margin-top: 0 !important; padding-left: 16px; padding-right: 16px; padding-bottom: 0 !important; box-sizing: border-box; }
    body.provider-mode main > [id^="v-provider-"].view.active { margin-top: 0 !important; padding-top: 0 !important; }
    /* Kein leerer Screen beim Nach-oben-Scrollen: Overscroll/Rubber-Band deaktivieren */
    body.provider-mode { overscroll-behavior-y: none; -webkit-overflow-scrolling: touch; overflow-x: hidden; }
    /* Nuclear: Im Provider-Modus nur die aktive Provider-View sichtbar – alle anderen main-Kinder aus dem Layout */
    /* Alle main-Kinder ausblenden außer aktive Provider-View + FAB (FAB bleibt sichtbar) */
    body.provider-mode main > *:not([id^="v-provider-"].view.active):not(#fabProviderAddOffer) { display: none !important; }
    /* Anbieter-Views: kein Extra-Platz oben – Inhalt beginnt sofort (Safe-Area nur im Header) */
    body.provider-mode [id^="v-provider-"] { padding-top: 0 !important; margin-top: 0 !important; }
    body.provider-mode [id^="v-provider-"].view.active { padding-top: 0 !important; }
    
    /* Discover Header - Sticky, immer über Kategorie- und Tage-Leiste (z-index > 90) */
    .discover-header-sticky{
      position:sticky; top:0; z-index:100;
      background:rgba(255,255,255,.98); backdrop-filter:blur(20px);
      border-bottom:1px solid rgba(0,0,0,.06);
      box-shadow:0 2px 8px rgba(0,0,0,.04);
    }
    
    /* Ebene 1: Standortsuche (ganz oben) */
    .discover-location-search-row{
      padding:10px 16px 8px; max-width:100%; margin:0 auto;
      box-sizing:border-box;
    }
    .discover-location-search-input{
      width:100%; padding:12px 16px; border-radius:12px;
      border:1px solid rgba(0,0,0,.1); background:#fff;
      font-size:15px; font-weight:500; color:#333;
      outline:none; box-sizing:border-box;
    }
    .discover-location-search-input::placeholder{
      color:#999; font-weight:400;
    }
    .discover-location-search-input:focus{
      border-color:var(--brand); box-shadow:0 0 0 3px rgba(255,215,0,0.1);
    }
    /* Location-Autofill Suggestions */
    .location-suggestion-item{
      padding:10px 12px;
      cursor:pointer;
      border-bottom:1px solid rgba(0,0,0,0.05);
      transition:background 0.2s ease;
    }
    .location-suggestion-item:hover{
      background:rgba(0,0,0,0.05);
    }
    .location-suggestion-item:active{
      background:rgba(0,0,0,0.1);
    }
    .location-suggestion-item{
      padding:10px 12px;
      cursor:pointer;
      border-bottom:1px solid rgba(0,0,0,0.05);
      transition:background 0.2s ease;
    }
    .location-suggestion-item:hover{
      background:rgba(0,0,0,0.05);
    }
    .location-suggestion-item:active{
      background:rgba(0,0,0,0.1);
    }
    
    /* Ebene 2: Aktueller Standort zentriert (klickbar) */
    .discover-location-row{
      display:flex; justify-content:center; align-items:center;
      padding:6px 10px; max-width:100%; margin:0 auto;
      box-sizing:border-box;
    }
    .discover-location-pill-clickable{
      display:flex; align-items:center; gap:6px;
      padding:8px 14px; border-radius:20px;
      background:rgba(0,0,0,.04); border:1px solid rgba(0,0,0,.08);
      font-size:14px; font-weight:600; color:#333;
      cursor:pointer; transition:all 0.2s ease;
      border:none; background:transparent;
    }
    .discover-location-pill-clickable:hover{
      background:rgba(0,0,0,.06);
    }
    .discover-location-pill-clickable i{
      width:16px; height:16px; color:#666;
    }
    
    /* Ebene 2: Quick-Filter Buttons nebeneinander */
    .discover-quick-filters-row{
      display:flex; align-items:center; justify-content:center; gap:6px;
      padding:0 10px 6px; max-width:100%; margin:0 auto;
      box-sizing:border-box;
    }
    
    .quick-filter-btn{
      display:flex; align-items:center; gap:6px;
      padding:10px 16px; border-radius:24px;
      border:1px solid rgba(0,0,0,.1);
      background:#fff; color:#333;
      font-size:14px; font-weight:600;
      cursor:pointer; transition:all 0.2s ease;
      white-space:nowrap;
      box-shadow:0 2px 4px rgba(0,0,0,.05);
    }
    .quick-filter-btn i{
      width:18px; height:18px; flex-shrink:0;
    }
    .quick-filter-btn:hover{
      background:#f8f8f8;
      transform:translateY(-1px);
      box-shadow:0 4px 8px rgba(0,0,0,.08);
    }
    .quick-filter-btn.active{
      background:var(--brand);
      color:#2D3436; border-color:var(--brand);
      font-weight:700;
      box-shadow:0 4px 12px rgba(255,204,0,0.3);
    }
    
    .discover-header{
      position:relative;
    }
    /* Kompakte Standort-Pill (44-48px) - zentriert */
    .discover-location-pill{
      display:flex; align-items:center; gap:8px;
      padding:10px 14px; border-radius:24px;
      background:rgba(0,0,0,.04); border:1px solid rgba(0,0,0,.08);
      height:44px; box-sizing:border-box;
      max-width:280px; width:100%;
    }
    .discover-location-icon-left{
      width:18px; height:18px; flex-shrink:0; opacity:.7;
      color:#666;
    }
    .discover-location-input{
      flex:1; border:none; background:transparent;
      font-size:15px; font-weight:500; color:#333;
      outline:none; min-width:0;
    }
    .discover-location-input::placeholder{
      color:#999; font-weight:400;
    }
    .discover-location-btn{
      width:32px; height:32px; border-radius:50%;
      border:none; background:transparent;
      display:flex; align-items:center; justify-content:center;
      cursor:pointer; transition:background .2s;
      flex-shrink:0;
    }
    .discover-location-btn:hover{
      background:rgba(0,0,0,.05);
    }
    .discover-location-btn i{
      width:18px; height:18px; color:#666;
    }
    
    /* Filter-Leiste: Kategorien (schmal, dezent, farbige Icons) - Fixiert oben */
    .discover-categories-wrapper{
      padding:6px 0 8px;
      border-top:1px solid rgba(0,0,0,.04);
      max-width:980px; margin:0 auto;
      position:sticky;
      top:0;
      background:#fff;
      z-index:50;
      box-shadow:0 2px 8px rgba(0,0,0,0.02);
    }
    .discover-categories-scroll{
      display:flex; gap:6px; overflow-x:auto;
      -webkit-overflow-scrolling:touch;
      padding:0 10px; scrollbar-width:none;
    }
    .discover-categories-scroll::-webkit-scrollbar{display:none}
    .discover-category-chip{
      flex:0 0 auto; padding:6px 12px;
      height:32px; border-radius:16px; border:1px solid rgba(0,0,0,.08);
      font-size:12px; font-weight:600;
      display:flex; align-items:center; gap:6px;
      background:#f8f8f8; color:#333;
      cursor:pointer; transition:all 0.2s ease;
      background:#f1f5f9; color:#64748b;
      cursor:pointer; transition:all .2s;
      white-space:nowrap;
      display:flex; align-items:center; justify-content:center; gap:3px;
    }
    .discover-category-chip i{
      width:12px; height:12px; flex-shrink:0;
      opacity:0.7;
    }
    .discover-category-chip span{
      font-size:11px;
    }
    .discover-category-chip.active{
      background:var(--brand); color:#000;
      border-color:var(--brand);
      font-weight:900;
      box-shadow:0 2px 6px rgba(255,204,0,.3);
    }
    .discover-category-chip:not(.active){
      border-color:rgba(0,0,0,.08);
      background:#f1f5f9;
    }
    .discover-category-chip:active{
      transform:scale(.96);
    }
    /* S25 / Applike: Thumb-Zone, große Touch-Ziele (min 44–48px) */
    #v-discover .discover-header-pills{
      display:flex; gap:10px; overflow-x:auto; -webkit-overflow-scrolling:touch; scroll-snap-type:x mandatory;
      padding:8px 16px 12px; scrollbar-width:none;
    }
    #v-discover .discover-header-pills::-webkit-scrollbar{ display:none; }
    #v-discover .discover-header-pills .discover-category-chip{
      flex:0 0 auto; scroll-snap-align:center; min-height:44px; min-width:auto;
      background:#e5e7eb; color:#64748b; border:none; padding:10px 18px; border-radius:22px; font-size:14px; font-weight:700;
      cursor:pointer; transition:transform 0.15s, background 0.2s; -webkit-tap-highlight-color:transparent;
    }
    #v-discover .discover-header-pills .discover-category-chip:active{ transform:scale(0.96); }
    #v-discover .discover-header-pills .discover-category-chip.active{
      background:#2563eb; color:#fff; box-shadow:0 2px 12px rgba(37,99,235,0.4);
    }
    #v-discover #discoverDaysBar .cust-chip{ min-height:44px; padding:10px 16px; font-size:14px; border-radius:20px; }
    #v-discover .cust-card{ -webkit-tap-highlight-color:transparent; transition:transform 0.15s, box-shadow 0.2s; }
    #v-discover .cust-card:active{ transform:scale(0.99); box-shadow:0 2px 12px rgba(0,0,0,0.06); }
    .discover-radius-row{ position:relative; }
    .discover-radius-pill{
      display:inline-flex; align-items:center; justify-content:center; min-height:48px; min-width:48px; padding:10px 16px;
      border-radius:24px; border:1px solid #e5e7eb; background:#fff; color:#1a1a1a; font-size:14px; font-weight:700;
      cursor:pointer; -webkit-tap-highlight-color:transparent;
    }
    .discover-radius-opt{
      display:block; width:100%; min-height:48px; padding:14px 18px; border:none; background:none; text-align:left;
      font-size:15px; font-weight:600; color:#1a1a1a; cursor:pointer; border-radius:12px;
    }
    .discover-radius-opt:hover{ background:#f1f3f5; }
    .discover-radius-opt:active{ background:#e5e7eb; }
    /* Switch-Button: Thumb-Zone unten Mitte (S25) */
    .discover-view-switch{
      position:fixed; left:50%; transform:translateX(-50%);
      bottom:calc(76px + env(safe-area-inset-bottom, 24px));
      min-height:56px; padding:14px 24px; display:flex; align-items:center; justify-content:center; gap:10px;
      background:#fff; border:2px solid #e5e7eb; border-radius:28px;
      font-size:16px; font-weight:800; color:#1a1a1a; cursor:pointer;
      box-shadow:0 6px 24px rgba(0,0,0,0.12); z-index:90;
      transition:transform 0.15s, box-shadow 0.2s; -webkit-tap-highlight-color:transparent;
    }
    .discover-view-switch:active{ transform:translateX(-50%) scale(0.97); box-shadow:0 2px 12px rgba(0,0,0,0.1); }
    /* Karte: Pins mit großem Touch-Ziel (S25), mind. 56px */
    .discover-map-canvas .discover-pin{
      position:absolute; display:flex; flex-direction:column; align-items:center; justify-content:center;
      min-width:56px; min-height:56px; padding:12px; box-sizing:border-box; cursor:pointer;
      transform:translate(-50%,-100%); filter:drop-shadow(0 2px 10px rgba(0,0,0,0.2));
      -webkit-tap-highlight-color:transparent;
    }
    .discover-map-canvas .discover-pin-emoji{ font-size:28px; margin-bottom:4px; line-height:1; }
    .discover-map-canvas .discover-pin-price{
      background:#fff; padding:6px 12px; border-radius:14px; font-size:14px; font-weight:800; color:#1a1a1a;
      border:2px solid #2563eb; white-space:nowrap;
    }
    /* Pin-Drawer: Applike Slide-Up + Backdrop (S25) */
    .discover-pin-drawer{
      transition:transform 0.35s cubic-bezier(0.32, 0.72, 0, 1);
      will-change:transform;
    }
    .discover-pin-drawer:not(.open){ transform:translateY(100%); pointer-events:none; }
    .discover-pin-drawer.open{ transform:translateY(0); pointer-events:auto; }
    #discoverPinDrawerBackdrop{
      transition:opacity 0.3s ease, visibility 0.3s;
    }
    #discoverPinDrawerBackdrop.open{ opacity:1; visibility:visible; }
    #discoverPinDrawerBackdrop:not(.open){ opacity:0; visibility:hidden; pointer-events:none; }
    
    /* Kalender (horizontal swipebar, ohne Überschrift, distinct style) */
    .discover-calendar{
      padding:0 0 14px;
      max-width:980px; margin:0 auto;
      border-top:1px solid rgba(0,0,0,.06);
      margin-top:4px;
      padding-top:10px;
    }
    .discover-calendar-scroll{
      display:flex; gap:6px; overflow-x:auto;
      -webkit-overflow-scrolling:touch;
      padding:0 10px; scrollbar-width:none;
    }
    .discover-calendar-scroll::-webkit-scrollbar{display:none}
    .discover-day{
      flex:0 0 auto; padding:8px 14px;
      border-radius:16px; border:1.5px solid rgba(0,0,0,.15);
      font-size:13px; font-weight:600;
      background:#fff; color:#666;
      cursor:pointer; transition:all .2s;
      white-space:nowrap;
      min-width:50px; text-align:center;
    }
    .discover-day.active{
      background:var(--brand); color:#000;
      border-color:var(--brand);
      box-shadow:0 2px 6px rgba(255,204,0,.25);
      font-weight:900;
    }
    .discover-day:active{
      transform:scale(.96);
    }
    
    /* Quick-Filter Pill (große Kapsel) */
    .discover-quick-filter-pill{
      transition:all 0.2s ease;
    }
    .discover-quick-filter-pill.active{
      background:var(--brand) !important;
      border-color:var(--brand) !important;
      color:#1a1a1a !important;
      font-weight:900 !important;
      box-shadow:0 2px 6px rgba(255,204,0,.3);
    }
    .discover-quick-filter-pill:active{
      transform:scale(.96);
    }
    
    /* Navigation: "Zur Liste wechseln" Button (sticky) */
    .discover-list-toggle-row{
      position:sticky; top:0; z-index:50;
      padding:8px 10px; background:rgba(255,255,255,0.95);
      backdrop-filter:blur(8px); -webkit-backdrop-filter:blur(8px);
      border-bottom:1px solid rgba(0,0,0,.06);
      box-shadow:0 2px 8px rgba(0,0,0,.05);
      transition:box-shadow 0.2s ease;
    }
    .discover-list-toggle-row.scrolled{
      box-shadow:0 4px 12px rgba(0,0,0,.1);
    }
    .btn-list-toggle{
      width:100%; padding:12px 20px; border-radius:999px;
      border:1px solid rgba(0,0,0,.1); background:#fff;
      font-size:14px; font-weight:600; color:#333;
      cursor:pointer; transition:all 0.2s ease;
      display:flex; align-items:center; justify-content:center; gap:8px;
      box-shadow:0 2px 6px rgba(0,0,0,.08);
    }
    .btn-list-toggle:hover{
      background:#f8f8f8; transform:translateY(-1px);
      box-shadow:0 4px 12px rgba(0,0,0,.12);
    }
    .btn-list-toggle:active{
      transform:translateY(0);
      box-shadow:0 2px 4px rgba(0,0,0,.1);
    }
    .btn-list-toggle i{
      width:18px; height:18px;
    }
    
    /* Angebots-Liste Container (kompakt, vertikal) */
    .discover-offers{
      max-width:980px; margin:0 auto; padding:12px 10px;
      display:flex; flex-direction:column; gap:6px;
      box-sizing:border-box;
    }
    /* Polaroid-Karten: Zufällige Rotation für natürlichen Look */
    .card.polaroid{
      transform:rotate(0deg);
      transition:transform 0.3s ease, box-shadow 0.3s ease;
    }
    .card.polaroid:nth-child(3n+1){
      transform:rotate(-1deg);
    }
    .card.polaroid:nth-child(3n+2){
      transform:rotate(0.8deg);
    }
    .card.polaroid:nth-child(3n+3){
      transform:rotate(-0.5deg);
    }
    .card.polaroid:hover{
      transform:rotate(0deg) scale(1.03);
      box-shadow:0 6px 20px rgba(0,0,0,0.15), 0 4px 10px rgba(0,0,0,0.1);
      z-index:10;
    }
    /* Kompakte Horizontale Gericht-Karte (Slim-Card) - High Performance */
    /* Entscheidungs-Kacheln (2x2 Grid) */
    .decision-tiles-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      padding: 16px;
    }
    
    @media (min-width: 640px) {
      .decision-tiles-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 16px;
      }
    }
    
    @media (min-width: 1024px) {
      .decision-tiles-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
      }
    }
    
    .dish-card {
      display: flex;
      min-height: 88px;
      max-height: 100px;
      padding: 8px;
      background: #ffffff;
      border-radius: 14px;
      overflow: visible;
      border: 1px solid rgba(0,0,0,0.05);
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
      margin-bottom: 6px; /* Abstand zwischen Karten */
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      position: relative;
      max-width: 100%;
      box-sizing: border-box;
      width: 100%; /* Volle Breite für vertikale Liste */
    }
    .dish-card:active {
      transform: scale(0.98);
    }
    .dish-card:hover {
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    /* Linke Seite: Bild - Kompakt als Thumbnail (max. 100px quadratisch) */
    .dish-image-box {
      width: 100px;
      min-width: 100px;
      height: 100px;
      max-width: 100px;
      max-height: 100px;
      flex-shrink: 0;
      background: #f5f5f5;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      border-radius: 12px;
    }
    .dish-image-box img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
    }
    /* Rechte Seite: Details (kompakt, ohne extra Padding) */
    .dish-details {
      flex: 1;
      padding: 0;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      min-width: 0;
    }
    /* Obere Zeile: Name & Preis */
    .dish-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 10px;
    }
    .dish-name {
      font-size: 20px; /* Erhöht für bessere Lesbarkeit */
      font-weight: 900; /* Kräftiger */
      color: #111;
      line-height: 1.3; /* Verbesserter Zeilenabstand */
      margin: 0;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      line-clamp: 2;
      font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'Montserrat', 'Segoe UI', sans-serif;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    /* Favoriten Grid-Kachel: Basis (Jiggle + relative für X-Button) */
    .fav-grid-card {
      position: relative;
      background: #fff !important;
    }
    
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    
    /* Jiggle-Effekt: Leichtes, dauerhaftes Wackeln (Rotation ±1.2°) */
    @keyframes jiggle {
      0%, 100% {
        transform: rotate(-1.2deg);
      }
      25% {
        transform: rotate(1.2deg);
      }
      50% {
        transform: rotate(-1.2deg);
      }
      75% {
        transform: rotate(1.2deg);
      }
    }
    
    /* Jiggle-Animation nur auf .fav-grid-card anwenden */
    .fav-grid-card {
      animation: fadeIn 0.3s ease-out, jiggle 3s ease-in-out infinite;
    }
    
    /* Exit-Animation: Kachel skaliert auf 0 und verschwindet, andere rücken flüssig nach */
    @keyframes removeCard {
      0% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
      }
      100% {
        opacity: 0;
        transform: scale(0) rotate(0deg);
      }
    }
    
    .fav-grid-card.removing {
      animation: removeCard 0.25s ease-out forwards;
    }
    
    /* Skeleton Loading Animation (Pulse) */
    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }
    .skeleton-pulse {
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
    .skeleton-bg {
      background-color: #e2e8f0; /* slate-200 */
    }
    .skeleton-bg-light {
      background-color: #f1f5f9; /* slate-100 */
    }
    
    /* Favoriten-Icon Bounce */
    @keyframes favBounce {
      0%, 100% { transform: scale(1); }
      25% { transform: scale(1.3); }
      50% { transform: scale(0.9); }
      75% { transform: scale(1.15); }
    }
    .fav-icon-bounce {
      animation: favBounce 0.5s ease-out;
    }
    @keyframes cartIconGlow {
      0%, 100% { filter: brightness(1); transform: scale(1); }
      50% { filter: brightness(1.4); transform: scale(1.15); }
    }
    .cart-icon-glow {
      animation: cartIconGlow 0.5s ease-out;
    }
    /* Flug-Animation: Thumbnail fliegt in die Mittagsbox */
    .fly-thumbnail {
      position: fixed;
      z-index: 10001;
      pointer-events: none;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 24px rgba(0,0,0,0.25);
    }
    .fly-thumbnail img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    
    /* Favoriten-Grid: Radikale Verkleinerung S25/iPhone – 4 Kacheln ohne Scroll */
    #v-fav #favDishes.fav-dishes-grid,
    #v-fav #favDishes {
      display: grid !important;
      grid-template-columns: 1fr 1fr !important;
      gap: 12px !important;
      padding: 0 16px !important;
      max-width: 100%;
    }
    #v-fav .fav-grid-card {
      height: 100%;
      min-height: 220px !important;
      max-height: none;
      max-width: 170px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      border-radius: 16px !important;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
      border: 1px solid rgba(0,0,0,0.06);
      overflow: hidden;
    }
    #v-fav .fav-grid-card .fav-card-img-wrap {
      width: 100%;
      height: 110px !important;
      flex-shrink: 0;
      overflow: hidden;
      background: #f0f0f0;
    }
    #v-fav .fav-grid-card .fav-card-img-wrap img {
      width: 100%;
      height: 110px !important;
      object-fit: cover;
    }
    #v-fav .fav-grid-card .fav-card-body {
      flex: 1;
      min-height: 0;
      display: flex;
      flex-direction: column;
      padding: 6px 8px 8px;
    }
    #v-fav .fav-grid-card .fav-card-title {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      font-size: 12px !important;
    }
    /* Preis-Badge Favoriten: klein & dezent (radikale Verkleinerung) */
    #v-fav .fav-card-price-sticker {
      position: absolute;
      bottom: 5px;
      right: 5px;
      padding: 2px 6px !important;
      border-radius: 4px !important;
      background: rgba(0,0,0,0.6) !important;
      font-weight: 700;
      font-size: 0.75rem !important;
      color: #fff;
      z-index: 10;
    }
    /* Säulen-Mini: nur Emojis, zentriert */
    #v-fav .saeulen-mini {
      display: flex;
      justify-content: center;
      gap: 10px;
      padding: 4px 0;
    }
    #v-fav .saeulen-mini .emoji-icon {
      font-size: 1.1rem;
      opacity: 0.5;
    }
    #v-fav .saeulen-mini .emoji-icon.active {
      opacity: 1;
    }
    #v-fav .abholnummer-highlight {
      background: var(--brand);
      padding: 2px;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 24px;
      height: 24px;
    }
    /* Favoriten-Header: schlank & verspielt – "Deine Favoriten heute ⚡" */
    .fav-header-wrap {
      background: linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(255,250,240,0.96) 100%) !important;
    }
    .fav-header-title {
      font-family: 'Quicksand', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
      font-weight: 700 !important;
      letter-spacing: 0.02em !important;
    }
    /* Share-Button: Icon ohne Rahmen, schwebt rechts neben Text */
    #btnFavShareHeader {
      border: none !important;
      background: transparent !important;
      box-shadow: none !important;
    }
    #v-fav #favContent {
      padding: 8px 8px 20px !important;
    }
    #v-fav .fav-grid-card .btn {
      min-height: 36px !important;
      font-size: 12px !important;
      border-radius: 10px !important;
    }
    /* Meins: letzte Bestellzeile ohne unteren Rand */
    #profileOrderHistoryList .profile-order-item:last-child,
    #profileOrderHistoryMore .profile-order-item:last-child {
      border-bottom: none !important;
    }
    
    /* Responsive Grid für Provider-Favoriten */
    @media (min-width: 768px) {
      #favProviders {
        grid-template-columns: repeat(auto-fill, minmax(256px, 1fr)) !important;
        gap: 20px !important;
        justify-items: center !important;
      }
    }
    @media (max-width: 480px) {
      #favProviders {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 12px !important;
        justify-items: center !important;
      }
    }
    
    /* Responsive Discovery-Liste: Vertikale Liste für alle Bildschirmgrößen (kompakt) */
    @media (max-width: 374px) {
      .discover-offers {
        padding: 10px 8px !important;
        gap: 5px !important;
      }
    }
    /* Provider-Layout: Optimiert für kleine Bildschirme (Samsung S25, ~360-412px) */
    @media (max-width: 420px) {
      [id^="v-provider-"]{ padding:16px 12px !important; }
      [id^="v-provider-"] h1{ font-size:26px !important; }
      [id^="v-provider-"] .panel{ padding:14px !important; border-radius:16px !important; }
      #providerStatusIndicator{ top:12px; right:12px; padding:6px 10px; }
      #providerStatusIndicator span{ font-size:11px; }
      /* KPI Cards 3er-Grid → kleinere Schrift */
      #kpiCardTagesessen, #kpiCardAbholungen, #kpiCardKochbuch{ padding:14px 10px !important; }
      #kpiCardTagesessen div:first-child, #kpiCardAbholungen div:first-child, #kpiCardKochbuch div:first-child{ font-size:26px !important; }
      /* Provider-Nav: kompakter */
      #providerNav .navbtn{ font-size:10px; padding:8px 4px; }
      #providerNav .navbtn .ico svg{ width:20px; height:20px; }
    }
    @media (max-width: 360px) {
      [id^="v-provider-"]{ padding:12px 10px !important; }
      [id^="v-provider-"] h1{ font-size:24px !important; }
      #kpiCardTagesessen div:first-child, #kpiCardAbholungen div:first-child, #kpiCardKochbuch div:first-child{ font-size:22px !important; }
    }
    @media (min-width: 768px) {
      .discover-offers {
        padding: 16px 12px !important;
        gap: 8px !important;
      }
    }
    .dish-price {
      font-size: 16px;
      font-weight: 700;
      color: #111;
      white-space: nowrap;
    }
    /* Mittlere Zeile: Anbieter */
    .dish-provider {
      font-size: 13px;
      color: #666;
      font-weight: 500;
      margin-top: 4px;
    }
    /* Untere Zeile: Meta & Buttons */
    .dish-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 8px;
    }
    .distance-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-size: 12px;
      font-weight: 700;
      color: #444;
      background: #f0f0f0;
      padding: 4px 10px;
      border-radius: 8px;
      white-space: nowrap;
    }
    .action-group {
      display: flex;
      gap: 8px;
    }
    .btn-icon {
      width: 34px;
      height: 34px;
      border-radius: 50%;
      border: 1px solid #f0f0f0;
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #111;
      transition: all 0.2s ease;
      cursor: pointer;
      flex-shrink: 0;
    }
    .btn-icon:hover {
      background: #f9f9f9;
    }
    .btn-icon.heart-btn:hover {
      color: #ff4757;
      border-color: #ffdce0;
    }
    .btn-icon.heart-btn.active {
      color: #ff4757;
      background: #ffdce0;
      border-color: #ff4757;
    }
    .discover-list-badge{
      display:inline-flex; align-items:center; gap:3px;
      padding:4px 8px; border-radius:6px;
      font-size:10px; font-weight:700;
      background:rgba(0,0,0,.05); color:#666;
    }
    .discover-list-badge .ico-inline{
      width:14px; height:14px; flex-shrink:0;
    }
    .discover-list-badge .ico-inline svg{
      width:14px; height:14px;
    }
    .discover-list-badge.code{
      background:rgba(255,204,0,.15); color:#b8860b;
    }
    .discover-list-badge.dine{
      background:rgba(31,157,85,.1); color:#1f9d55;
    }
    .discover-list-badge.pickup{
      background:rgba(0,0,0,.05); color:#666;
    }
    .discover-list-actions{
      margin-top:auto; padding-top:8px;
    }
    .discover-list-btn{
      width:100%; padding:10px 14px; border-radius:10px;
      border:none; font-weight:900; font-size:14px;
      cursor:pointer; transition:transform .1s, background .15s;
      text-align:center; background:var(--brand); color:#111;
      display:flex; align-items:center; justify-content:center; gap:6px;
    }
    .discover-list-btn .ico-inline{
      width:18px; height:18px; flex-shrink:0;
    }
    .discover-list-btn .ico-inline svg{
      width:18px; height:18px;
    }
    .discover-list-btn:active{
      transform:scale(.97);
      background:#e6b800;
    }
    
    /* Anbieterbereich: Fixes Gastroküche-Hintergrundbild + Overlay (Emotion & Professionalität) */
    html, body{ min-height:100vh; min-height:100dvh; }
    body.provider-mode main{
      min-height:100vh; min-height:100dvh; min-height:100svh; display:block; overflow-y:auto; overflow-x:hidden; -webkit-overflow-scrolling:touch; max-width:100%; box-sizing:border-box;
      overflow-anchor:none; /* Verhindert Scroll-Anchoring beim Laden */
      position:relative;
      background-image: url('assets/gastro-bg.png');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      background-repeat: no-repeat;
    }
    /* Dashboard aktiv: main hat feste Höhe, View füllt main, Wrap scrollt (robust, unabhängig von Flex) */
    body.provider-mode main:has(#v-provider-home.view.active){
      overflow:hidden !important;
      height:100vh !important; height:100dvh !important; min-height:0;
    }
    body.provider-mode main:has(#v-provider-home.view.active) > #v-provider-home.view.active{
      height:100% !important; min-height:100% !important;
    }
    body.provider-mode main::before{
      content: '';
      position: absolute;
      inset: 0;
      z-index: 0;
      pointer-events: none;
      background: rgba(0,0,0,0.2);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }
    body.provider-mode main > *{ position: relative; z-index: 1; }
    body.provider-mode [id^="v-provider-"].view.active{ min-height:100vh; min-height:100dvh; display:block !important; visibility:visible !important; opacity:1 !important; scroll-margin-top:0; position:relative; width:100%; max-width:100%; overflow-x:hidden; box-sizing:border-box; }
    /* Erster Viewport sofort gefüllt: Inhalt oben verankern, keine Animation die verschiebt */
    body.provider-mode [id^="v-provider-"].view.active{ animation:none !important; transform:translateY(0) !important; }
    /* Header/Inhalt der Anbieter-Views immer sichtbar; Header = Glassmorphism */
    body.provider-mode [id^="v-provider-"].view.active .prov-header,
    body.provider-mode [id^="v-provider-"].view.active header:first-child{ visibility:visible !important; opacity:1 !important; min-height:60px; background:rgba(255,255,255,0.8) !important; backdrop-filter:blur(12px); -webkit-backdrop-filter:blur(12px); display:block !important; border-bottom:1px solid rgba(255,255,255,0.2) !important; }
    body.provider-mode [id^="v-provider-"].view.active#v-provider-week{ display:flex !important; flex-direction:column !important; }
    /* Meine Küche: View füllt main (height:100%), Wrap = absoluter Scroll-Bereich (immer sichtbar + scrollbar) */
    #v-provider-home.view.active{
      position:relative !important;
      height:100% !important; min-height:0 !important; max-height:100% !important;
      background:#fff;
      display:block !important;
      padding:0 !important; margin:0 !important;
      width:100%; box-sizing:border-box;
      overflow:hidden !important;
    }
    /* Dashboard: absoluter Scroll-Container – füllt die View, Inhalt immer sichtbar und scrollbar */
    #v-provider-home .dashboard-floating-wrap{
      position:absolute !important; top:0 !important; left:0 !important; right:0 !important; bottom:0 !important;
      display:flex; flex-direction:column; gap:20px;
      overflow-y:auto !important; overflow-x:hidden !important;
      -webkit-overflow-scrolling:touch;
      overscroll-behavior-y:contain;
      min-height:0;
      padding:0 16px calc(24px + 72px + env(safe-area-inset-bottom, 0)); padding-left:max(16px, env(safe-area-inset-left, 0)); padding-right:max(16px, env(safe-area-inset-right, 0));
      padding-top:env(safe-area-inset-top, 0);
      width:100%; max-width:100%; margin:0; box-sizing:border-box;
      background:#fff;
      border-radius:0;
      box-shadow:none;
      border:none;
    }
    /* Drei Kästen (KPIs, Angebote, Wochenplan): schwebend. Header kein Kasten – schlanke Leiste. */
    #v-provider-home .dashboard-kasten{
      background:#fff;
      border-radius:24px;
      box-shadow:0 4px 24px rgba(0,0,0,0.08), 0 2px 8px rgba(0,0,0,0.04);
      border:1px solid rgba(0,0,0,0.04);
      overflow:hidden;
    }
    /* Header „Meine Küche“: kein großer Kasten, nur Leiste – oben deckend, kein leerer Screen */
    #v-provider-home .dashboard-kasten-header{
      position:sticky; top:0; z-index:100;
      background:#fff !important;
      backdrop-filter:blur(12px); -webkit-backdrop-filter:blur(12px);
      border-radius:0 !important;
      box-shadow:none !important;
      border:none !important;
      border-bottom:1px solid rgba(0,0,0,0.06) !important;
    }
    #v-provider-home .dashboard-kasten-header .prov-title{ font-size:17px !important; }
    /* KPI-Kasten: Glas-Lesbarkeit (Text-Schatten) + veredelte Zahlen + Trennlinie */
    #v-provider-home .dashboard-kasten-kpis{
      padding:18px max(16px, env(safe-area-inset-left, 0)) 18px max(16px, env(safe-area-inset-right, 0));
      position:relative;
    }
    #v-provider-home .dashboard-kasten-kpis::after{
      content:''; position:absolute; left:16px; right:16px; bottom:0; height:1px;
      background:linear-gradient(to right, transparent, rgba(0,0,0,0.08), transparent);
    }
    #v-provider-home .dashboard-kasten-kpis .kpi-label{
      font-size:10px !important; font-weight:900 !important;
      color:rgba(0,0,0,0.4) !important; text-transform:uppercase;
      letter-spacing:0.12em; margin-bottom:4px !important;
    }
    #v-provider-home .dashboard-kasten-kpis [id^="dashboard"]{
      font-size:24px !important; font-weight:900 !important;
      text-shadow:0 1px 2px rgba(255,255,255,0.8);
      filter:drop-shadow(0 1px 2px rgba(0,0,0,0.06));
      transition:transform 0.15s ease;
    }
    #v-provider-home .dashboard-kasten-kpis [id^="kpi"]:active [id^="dashboard"]{
      transform:scale(1.05);
    }
    #v-provider-home .dashboard-kasten-kpis #dashboardTagesessenCount{ color:#1a1a1a !important; }
    #v-provider-home .dashboard-kasten-kpis #dashboardAbholungenCount{ color:#3b82f6 !important; }
    #v-provider-home .dashboard-kasten-kpis #dashboardUmsatzToday{ color:#16a34a !important; }
    #v-provider-home .dashboard-kasten-angebote{
      padding:14px 16px; padding-left:max(16px, env(safe-area-inset-left, 0)); padding-right:max(16px, env(safe-area-inset-right, 0));
    }
    #v-provider-home .dashboard-kasten-angebote .provider-week-title{ font-size:15px !important; }
    #v-provider-home .dashboard-kasten-wochenplan{
      padding:14px 16px; padding-left:max(16px, env(safe-area-inset-left, 0)); padding-right:max(16px, env(safe-area-inset-right, 0));
      padding-bottom:18px;
    }
    #v-provider-home .dashboard-kasten-wochenplan .provider-week-title{ font-size:15px !important; }
    #v-provider-home.view.active .prov-header,
    #v-provider-home.view.active .dashboard-kasten{
      position:relative; z-index:1; min-height:0; overflow:visible; flex-shrink:0;
    }
    /* Dashboard-Wrap: Block-Layout, main scrollt */
    #v-provider-home #providerActiveListingsSection{ margin-bottom:0; }
    #v-provider-home #providerActiveListingsSection .provider-week-title{ margin-bottom:12px; }
    #v-provider-home .dashboard-kasten-wochenplan .provider-week-title{ margin:0 0 16px; }
    #v-provider-home .provider-week-footer{
      padding-top:20px; padding-bottom:0;
    }
    #v-provider-home .provider-week-footer #btnProviderWeekFooter{ min-height:48px; }
    #v-provider-home .prov-stats-grid{ margin-top:12px; gap:0; }
    #v-provider-home .prov-stat-item{
      padding:12px 4px; border-right:1px solid #eee;
    }
    #v-provider-home .prov-stat-item:last-child{ border-right:none; }
    #v-provider-pickups{ min-height:100vh; min-height:100dvh; background:#f8fafc; width:100%; box-sizing:border-box; }
    #v-provider-pickups.view.active{ display:flex !important; flex-direction:column !important; height:100vh; height:100dvh; max-height:100vh; max-height:100dvh; overflow:hidden; }
    #v-provider-pickups.view.active > header{ position:relative; z-index:1; flex-shrink:0; }
    #v-provider-pickups.view.active > div{ position:relative; z-index:1; min-height:0; flex:1; overflow-y:auto; -webkit-overflow-scrolling:touch; }
    #v-provider-profile{ min-height:100vh; min-height:100dvh; width:100%; box-sizing:border-box; }
    #v-provider-profile.view.active{ display:flex !important; flex-direction:column !important; }
    #v-provider-profile.view.active > header,
    #v-provider-profile.view.active > div{ position:relative; z-index:1; min-height:0; overflow:visible; }
    #v-provider-cookbook{ min-height:100vh; min-height:100dvh; width:100%; box-sizing:border-box; }
    #v-provider-cookbook.view.active{ display:flex !important; flex-direction:column !important; height:100vh; height:100dvh; max-height:100vh; max-height:100dvh; overflow:hidden; }
    #v-provider-cookbook.view.active > header{ position:relative; z-index:1; flex-shrink:0; }
    #v-provider-cookbook.view.active > div{ position:relative; z-index:1; min-height:0; flex:1; overflow-y:auto; -webkit-overflow-scrolling:touch; }

    /* Wochenplan: nur auf der Wochenplan-Seite sichtbar; Layout nur wenn .active */
    #v-provider-week.view{ display:none; }
    #v-provider-week.view.active{
      display:flex !important; flex-direction:column !important; min-height:100vh; min-height:100dvh; height:100vh; height:100dvh;
      padding:0; padding-bottom:calc(80px + env(safe-area-inset-bottom, 0)); background:transparent; box-sizing:border-box;
      overflow:visible; visibility:visible !important; opacity:1 !important; position:relative;
    }
    #v-provider-week .week-header-compact{
      flex-shrink:0; min-height:56px; background:#fff !important; border-bottom:1px solid rgba(0,0,0,0.06);
      padding:12px 20px 16px; padding-top:calc(12px + env(safe-area-inset-top, 0));
      display:flex; flex-direction:column; justify-content:center; align-items:center; gap:2px;
    }
    #v-provider-week .week-header-compact h1{ margin:0; font-size:20px; font-weight:950; color:#1a1a1a; }
    #v-provider-week .week-header-subtitle{ margin:0; font-size:12px; font-weight:600; color:#64748b; }
    #v-provider-week .week-plan-wrap{
      flex:1; min-height:0; display:flex; flex-direction:column; max-width:500px; margin:0 auto; width:100%; padding:0 20px 16px; box-sizing:border-box;
    }
    #v-provider-week .week-list-scroll{ flex:1; min-height:120px; overflow-y:auto; -webkit-overflow-scrolling:touch; padding:8px 0 16px; }
    #v-provider-week .week-dayrow{ display:flex; gap:8px; overflow-x:auto; -webkit-overflow-scrolling:touch; padding:0 0 16px; margin-bottom:16px; border-bottom:1px solid #f1f3f5; }
    #v-provider-week .week-thumb-zone{ flex-shrink:0; padding:16px 20px; padding-bottom:calc(24px + env(safe-area-inset-bottom, 0)); background:#fff; border-top:1px solid #e2e8f0; }

    /* ============================================================
       MODERNE SMARTPHONES (S25, Galaxy S25, iPhone 15/16, Pixel 8)
       Daumenfreundlich: Touch-Ziele mind. 48px, Safe-Area, einhändig
       ============================================================ */
    @media (max-width:430px) and (min-height:700px){
      /* App: Safe-Area unten für Gestenleiste */
      .app{ padding-bottom:calc(78px + env(safe-area-inset-bottom, 20px)) !important; }
      .customer-view{ padding-bottom:calc(78px + env(safe-area-inset-bottom, 20px)) !important; }
      
      /* Bottom Nav: höher für S25-Gesten, Touch mind. 48px */
      .bottom{
        height:calc(64px + env(safe-area-inset-bottom, 20px)) !important;
        padding-bottom:env(safe-area-inset-bottom, 20px) !important;
      }
      .navbtn{
        min-height:48px; padding:10px 8px !important;
        font-size:12px !important; font-weight:600;
      }
      .navbtn .ico svg{ width:24px !important; height:24px !important; }
      
      /* Provider: kein Platz oben – Inhalt beginnt sofort (Safe-Area nur im ersten Header) */
      [id^="v-provider-"]{
        padding-top:0 !important; margin-top:0 !important;
        padding-left:calc(20px + env(safe-area-inset-left, 0)) !important;
        padding-right:calc(20px + env(safe-area-inset-right, 0)) !important;
      }
      #v-provider-home .prov-header,
      #providerProfileHeader,
      #v-provider-cookbook > header,
      #v-provider-pickups > header,
      #v-provider-week .week-header-compact{
        padding-top:calc(12px + env(safe-area-inset-top, 0)) !important;
      }
      #providerProfileHeader{ padding-bottom:10px !important; }
      #v-provider-cookbook > header{ padding-bottom:14px !important; }
      #v-provider-cookbook > header h1{ margin-bottom:12px !important; }
      #v-provider-pickups > header{ padding-bottom:14px !important; padding-left:20px !important; padding-right:20px !important; }
      #v-provider-week .week-header-compact{ background:#fff !important; }
      #v-provider-week .prov-page-header{ padding-top:calc(10px + env(safe-area-inset-top, 0)) !important; }
      #v-provider-home{ padding:0 16px 0 !important; padding-top:0 !important; }
      #v-provider-home h1{ font-size:28px !important; }
      
      /* KPI Cards: 3er Grid, Touch-freundlich */
      #v-provider-home [style*="grid-template-columns:repeat(3"]{ gap:10px !important; }
      #kpiCardTagesessen, #kpiCardAbholungen, #kpiCardKochbuch{
        padding:16px 10px !important; border-radius:16px !important;
        min-height:72px; display:flex; flex-direction:column; justify-content:center;
      }
      #kpiCardTagesessen div[style*="font-size:20px"],
      #kpiCardAbholungen div[style*="font-size:32px"],
      #kpiCardKochbuch div[style*="font-size:32px"]{
        font-size:26px !important;
      }
      
      #providerTimeTracker{ padding:18px !important; }
      #providerTimeTracker div[style*="font-size:36px"]{ font-size:30px !important; }
      #providerPersonalSpar{ padding:16px !important; }
      
      #v-provider-pickups, #v-provider-cookbook, #v-provider-profile{
        padding:0 16px 100px !important;
      }
      #v-provider-profile{
        padding:0 20px calc(90px + env(safe-area-inset-bottom, 0)) !important;
      }
      #v-provider-pickups h3, #v-provider-cookbook h1, #v-provider-profile h1{
        font-size:24px !important;
      }
      /* Wochenplan: nur wenn .active (nicht auf Kochbuch/anderen Seiten) */
      #v-provider-week.view{ display:none !important; }
      #v-provider-week.view.active{
        display:flex !important; flex-direction:column !important; min-height:100vh !important; min-height:100dvh !important;
        padding:0 !important; padding-bottom:calc(80px + env(safe-area-inset-bottom, 0)) !important;
        background:transparent !important;
        overflow:hidden !important; position:relative;
      }
      #v-provider-week .week-header-compact{
        flex-shrink:0; background:#fff; border-bottom:1px solid rgba(0,0,0,0.06); position:sticky; top:0; z-index:50;
        padding-top:calc(10px + env(safe-area-inset-top, 0)); padding-right:20px; padding-bottom:16px; padding-left:20px; min-height:52px; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:2px;
      }
      #v-provider-week .week-header-compact h1{ margin:0; font-size:20px; font-weight:950; letter-spacing:-0.03em; color:#1a1a1a; }
      #v-provider-week .week-header-subtitle{ margin:0; font-size:12px; font-weight:600; color:#64748b; letter-spacing:0.02em; }
      #v-provider-week .week-plan-wrap{
        flex:1; display:flex; flex-direction:column; min-height:0; max-width:500px; margin:0 auto; width:100%;
        padding:0 20px 16px; box-sizing:border-box;
      }
      #v-provider-week .week-list-scroll{ flex:1; min-height:0; overflow-y:auto; -webkit-overflow-scrolling:touch; padding:8px 0 16px; }
      #v-provider-week .week-thumb-zone{
        flex-shrink:0; padding:16px 20px; padding-bottom:calc(24px + env(safe-area-inset-bottom, 0));
        background:#fff; border-top:1px solid #e2e8f0; margin:0 -20px 0; padding-left:20px; padding-right:20px;
      }
      /* Wochenplan (weiteres Layout) */
      #v-provider-week .week-dayrow{ display:flex; gap:8px; overflow-x:auto; -webkit-overflow-scrolling:touch; padding:0 0 16px; margin-bottom:16px; border-bottom:1px solid #f1f3f5; }
/* Wochenplan: Tag-Kacheln alle gleich groß */
#v-provider-week .week-day-pill{ flex:0 0 auto; width:56px; min-width:56px; height:52px; min-height:52px; padding:0 6px; border-radius:14px; border:2px solid transparent; background:#f8f9fa; font-size:12px; font-weight:800; color:#64748b; cursor:pointer; transition:all 0.2s; line-height:1.2; text-align:center; white-space:nowrap; display:inline-flex; align-items:center; justify-content:center; box-sizing:border-box; }
#v-provider-week .week-indicator-dot{ background:transparent; border:none; padding:4px; cursor:pointer; border-radius:50%; }
#v-provider-week .week-indicator-dot:focus{ outline:none; box-shadow:0 0 0 2px var(--prov-brand); }
    #v-provider-week .week-day-pill.active{ background:rgba(14,165,233,0.12); border-color:var(--prov-brand); color:#1a1a1a; }
    #v-provider-week .week-day-pill.week-day-pill-today{ background:#fff; border-color:rgba(14,165,233,0.35); font-weight:900; box-shadow:0 1px 3px rgba(0,0,0,0.06); }
    #v-provider-week .week-day-pill.week-day-pill-today.active{ border-color:var(--prov-brand); background:rgba(14,165,233,0.12); }
      #v-provider-week .week-status-block{ display:flex; justify-content:space-between; align-items:center; padding:12px 16px; min-height:48px; background:#fff; border-radius:14px; margin-bottom:14px; border:1px solid #e2e8f0; box-shadow:0 1px 3px rgba(0,0,0,0.04); flex-wrap:nowrap; }
      #v-provider-week .week-status-online{ display:flex; align-items:center; gap:8px; font-weight:800; font-size:14px; color:#1a1a1a; }
      #v-provider-week .week-status-draft{ display:flex; align-items:center; gap:8px; font-weight:800; font-size:14px; color:#64748b; }
      #v-provider-week .week-status-dot{ width:10px; height:10px; border-radius:50%; }
#v-provider-week .week-meal-card-wrap{
      transition: transform 0.22s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s ease;
      border-radius: var(--card-radius-premium, 24px);
      margin-bottom: 14px;
      background: var(--glass-bg);
      backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
      box-shadow: var(--card-shadow-soft), var(--glass-inner-glow);
      border: 1px solid var(--glass-border);
    }
    #v-provider-week .week-meal-card-wrap:active{ transform: scale(0.98); box-shadow: 0 2px 12px rgba(0,0,0,0.04), var(--glass-inner-glow); }
    /* Success-Shimmer: Tag geplant/online – dezent goldener Streifen */
    #v-provider-week .week-meal-card-wrap.week-card-live::after{
      content:''; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
      background: linear-gradient(105deg, transparent 0%, rgba(255,222,0,0.08) 40%, rgba(212,168,83,0.12) 50%, rgba(255,222,0,0.08) 60%, transparent 100%);
      background-size: 200% 100%; animation: cardSuccessShimmer 2s ease-out 1;
    }
    @keyframes cardSuccessShimmer{
      0%{ background-position: 200% 0; opacity:0; }
      30%{ opacity:1; }
      100%{ background-position: -100% 0; opacity:0; }
    }
    #v-provider-week .week-meal-card{
      display:flex; align-items:center; justify-content:space-between; padding:16px 20px;
      background: transparent; border-radius: inherit; margin-bottom:0;
      color: var(--premium-anthracite, #1a1a1a);
    }
    #v-provider-week .week-meal-name{ font-weight:900; font-size:16px; color: var(--premium-anthracite, #1a1a1a); }
    #v-provider-week .week-meal-badges{ font-size:16px !important; }
    #v-provider-week .week-meal-badges span{ font-size:1.1em; }
      #v-provider-week .week-meal-meta{ font-size:13px; color:#64748b; margin-top:4px; display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
      #v-provider-week .week-meal-online{ display:inline-flex; align-items:center; gap:4px; font-size:12px; font-weight:700; color:#1a1a1a; }
      #v-provider-week .week-meal-actions{ display:flex; align-items:center; gap:6px; }
      #v-provider-week .week-add-more{ width:100%; margin-top:8px; min-height:56px; padding:16px; border-radius:16px; border:none; background:var(--prov-brand); color:#1a1a1a; font-size:16px; font-weight:800; cursor:pointer; transition:all 0.2s; display:flex; align-items:center; justify-content:center; box-shadow:0 4px 12px rgba(255,222,0,0.35); }
      #v-provider-week .week-add-more:hover{ background:#0d9668; }
      #v-provider-week .week-add-more:active{ transform:scale(0.98); }
      #v-provider-week .week-empty-state #btnWeekEmptyAdd.provider-add-plus-btn{ min-height:56px; background:var(--prov-brand); color:#1a1a1a; font-weight:800; border:none; box-shadow:0 4px 12px rgba(255,222,0,0.35); }
      #v-provider-week .week-empty-state #btnWeekEmptyAdd.provider-add-plus-btn .plus-char{ color:#fff; }
      #v-provider-week .week-empty-state{ text-align:center; padding:32px 20px; }
      #v-provider-week .week-empty-state .week-empty-title{ font-size:18px; font-weight:900; color:#1a1a1a; margin-bottom:8px; }
      #v-provider-week .week-empty-state .week-empty-hint{ font-size:14px; color:#64748b; line-height:1.5; margin-bottom:24px; }
      #v-provider-week .week-actions-bar{ display:flex; align-items:center; gap:10px; margin-top:0; padding-top:16px; padding-bottom:4px; border-top:1px solid #e2e8f0; flex-wrap:nowrap; }
    #v-provider-week .week-actions-bar .btn{ min-height:48px; flex:1; min-width:0; display:inline-flex; align-items:center; justify-content:center; gap:8px; font-size:14px; font-weight:700; border-radius:14px; }
    #v-provider-week .week-actions-bar .btn[aria-label="Aktualisieren"]{ flex:0 0 auto; min-width:48px; }
      /* S25 Thumb-Zone: Date-Picker Snap-Carousel */
      #v-provider-week .week-dayrow{ scroll-snap-type:x mandatory; -webkit-overflow-scrolling:touch; }
      #v-provider-week .week-day-pill{ scroll-snap-align:center; scroll-snap-stop:always; width:56px; min-width:56px; }
      /* Wochenplan: Gericht-Kacheln einheitliche Mindesthöhe */
      #v-provider-week .week-meal-card-wrap{ position:relative; overflow:hidden; border-radius: var(--card-radius-premium, 24px); margin-bottom:14px; min-height:72px; }
      /* Swipe-Card: Premium 24px + Glass beibehalten */
      #v-provider-week .week-meal-card-swipe{ display:flex; align-items:stretch; transition:transform 0.2s ease-out; touch-action:pan-y; }
      #v-provider-week .week-meal-card-swipe .week-meal-card{ flex:1; margin-bottom:0; min-width:0; position:relative; z-index:1; background:transparent; border-radius:inherit; }
      /* Swipe-Exit: Karte gleitet sanft aus dem Bild beim Löschen/Kopieren */
      #v-provider-week .week-meal-card-wrap.week-meal-card-exit{ transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.25s ease; pointer-events:none; }
      #v-provider-week .week-meal-card-wrap.week-meal-card-exit.week-meal-card-exit-left .week-meal-card-swipe .week-meal-card{ transform: translateX(-120%); }
      #v-provider-week .week-meal-card-wrap.week-meal-card-exit.week-meal-card-exit-right .week-meal-card-swipe .week-meal-card{ transform: translateX(120%); }
      #v-provider-week .week-meal-card-wrap.week-meal-card-exit .week-meal-card-swipe .week-meal-card{ transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
      #v-provider-week .week-meal-card-wrap.week-meal-card-exit{ opacity:0; }
      #v-provider-week .week-swipe-actions{ display:flex; flex-direction:column; gap:4px; position:absolute; top:0; bottom:0; width:80px; align-items:center; justify-content:center; font-size:11px; font-weight:800; color:#fff; }
      #v-provider-week .week-swipe-actions.left{ left:0; background:#2563eb; }
      #v-provider-week .week-swipe-actions.right{ right:0; background:#ef4444; }
      /* Aktivierung: großer Button – Loading + Success-Checkmark (Premium) */
      #v-provider-week .week-activate-block{ padding:16px 0; margin-top:8px; }
      #v-provider-week .week-activate-btn{
        width:100%; min-height:56px; border-radius:18px; font-size:16px; font-weight:800; border:none;
        background: var(--prov-brand); color:#1a1a1a; cursor:pointer;
        display:flex; align-items:center; justify-content:center; gap:10px;
        box-shadow:0 4px 16px rgba(255,222,0,0.35);
        transition: background 0.3s, transform 0.2s, opacity 0.3s;
      }
      #v-provider-week .week-activate-btn:active{ transform:scale(0.98); }
      #v-provider-week .week-activate-btn.loading{ pointer-events:none; color:transparent; position:relative; }
      #v-provider-week .week-activate-btn.loading::after{
        content:''; position:absolute; width:24px; height:24px; border:3px solid rgba(255,255,255,0.3); border-top-color:#fff; border-radius:50%; animation: weekActivateSpin 0.7s linear infinite;
      }
      #v-provider-week .week-activate-btn.success{ background:#059669; pointer-events:none; }
      #v-provider-week .week-activate-btn.success .week-activate-btn-text{ opacity:0; }
      #v-provider-week .week-activate-btn.success::after{ content:''; position:absolute; width:14px; height:22px; border: solid #fff; border-width: 0 3px 3px 0; transform: rotate(45deg) scale(0); animation: weekActivateCheck 0.35s cubic-bezier(0.34,1.56,0.64,1) 0.1s forwards; margin-top: -4px; }
      @keyframes weekActivateSpin{ to{ transform: rotate(360deg); } }
      @keyframes weekActivateCheck{ to{ transform: rotate(45deg) scale(1); } }
      /* Sortiermodus: Drag-Handle, Reihenfolge ändern */
      #v-provider-week .week-sort-bar{ display:flex; align-items:center; justify-content:space-between; padding:12px 16px; background:rgba(14,165,233,0.1); border-radius:14px; margin-bottom:16px; border:1px solid rgba(14,165,233,0.25); }
      #v-provider-week .week-sort-bar .week-sort-done{ min-height:44px; padding:0 18px; font-size:15px; font-weight:800; border-radius:12px; background:var(--prov-brand); color:#1a1a1a; border:none; cursor:pointer; }
      #v-provider-week .week-meal-card-wrap[draggable="true"]{ cursor:grab; }
      #v-provider-week .week-meal-card-wrap[draggable="true"]:active{ cursor:grabbing; }
      #v-provider-week .week-meal-card-wrap.week-drag-over{ box-shadow:0 0 0 2px var(--prov-brand); border-radius:16px; }
      #v-provider-week .week-meal-card-drag-handle{ width:24px; height:24px; color:#94a3b8; flex-shrink:0; margin-right:10px; }
      #v-provider-week .week-status-block .week-activate-inline{ min-height:44px; padding:0 18px; font-size:14px; font-weight:800; border-radius:12px; background:var(--prov-brand); color:#1a1a1a; border:none; cursor:pointer; box-shadow:0 2px 12px rgba(255,222,0,0.35); }
      #v-provider-week .week-status-block .week-activate-inline:active{ transform:scale(0.98); }
      #v-provider-week .week-status-activate-hint{ font-size:11px; color:#64748b; margin-top:6px; line-height:1.3; }
      /* Applike: Header mit Untertitel, Safe-Area oben; Zeile für Titel + Fertig (Edit-Mode) */
      #v-provider-week .week-header-compact{ padding-top:calc(12px + env(safe-area-inset-top, 0)); padding-right:20px; padding-bottom:16px; padding-left:20px; min-height:56px; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:2px; background:#fff; border-bottom:1px solid rgba(0,0,0,0.05); }
      #v-provider-week .week-header-row{ display:flex; align-items:center; justify-content:space-between; width:100%; max-width:100%; gap:12px; }
      #v-provider-week .week-header-row > div:first-child{ min-width:0; text-align:left; }
      #v-provider-week .week-header-done-btn{ flex-shrink:0; min-height:44px; padding:0 18px; font-size:15px; font-weight:800; border-radius:12px; background:var(--prov-brand); color:#1a1a1a; border:none; cursor:pointer; box-shadow:0 2px 12px rgba(255,222,0,0.35); }
      #v-provider-week .week-header-done-btn:active{ transform:scale(0.98); }
      #v-provider-week .week-header-compact h1{ margin:0; font-size:20px; font-weight:950; }
      /* Übersicht: kompakte Tageskarten (nur Lesen), app-first */
      #v-provider-week .week-overview-scroll{ flex:1; min-height:0; overflow-y:auto; -webkit-overflow-scrolling:touch; padding:12px 20px 20px; }
      /* Wochenplan Übersicht: Tages-Kacheln einheitlich */
      #v-provider-week .week-overview-day{ background: var(--glass-bg); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-radius: var(--card-radius-premium, 24px); border:1px solid rgba(255,255,255,0.6); padding:14px 16px; margin-bottom:12px; min-height:72px; box-shadow: var(--card-shadow-soft), var(--glass-inner-glow); position:relative; overflow:hidden; }
      #v-provider-week .week-overview-day.week-day-online::before{ content:''; position:absolute; inset:0; background: linear-gradient(105deg, transparent 0%, rgba(255,222,0,0.08) 45%, rgba(212,168,83,0.12) 55%, transparent 100%); background-size: 200% 100%; animation: weekSuccessShimmer 1.5s ease-out 1; pointer-events:none; }
      @keyframes weekSuccessShimmer{ 0%{ background-position: 200% 0; } 100%{ background-position: -200% 0; } }
      #v-provider-week .week-overview-day-label{ font-size:13px; font-weight:800; color:#64748b; margin-bottom:8px; display:flex; align-items:center; gap:8px; }
      #v-provider-week .week-overview-day-label .week-overview-badge{ font-size:10px; font-weight:800; padding:2px 8px; border-radius:8px; }
      #v-provider-week .week-overview-day-label .week-overview-badge.online{ background:#dcfce7; color:#166534; }
      #v-provider-week .week-overview-day-label .week-overview-badge.draft{ background:#f1f5f9; color:#64748b; }
      #v-provider-week .week-overview-dishes{ font-size:15px; font-weight:700; color:#1a1a1a; line-height:1.45; }
      #v-provider-week .week-overview-dishes.empty{ color:#94a3b8; font-weight:600; }
      #v-provider-week .week-overview-cta-wrap{ padding:16px 20px calc(24px + env(safe-area-inset-bottom)); background:#fff; border-top:1px solid #e2e8f0; flex-shrink:0; }
      /* Küchentauglich: Emerald, große Touch-Fläche */
      #v-provider-week .week-overview-cta-wrap .week-edit-primary{ width:100%; min-height:56px; border-radius:16px; font-size:17px; font-weight:800; border:none; background:var(--prov-brand); color:#1a1a1a; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:10px; box-shadow:0 4px 16px rgba(255,222,0,0.35); }
      #v-provider-week .week-overview-cta-wrap .week-edit-primary:active{ transform:scale(0.98); }
      /* Wochen-Indikator: Status-Punkte (Grün=aktiv, Gelb=Planung, Grau=leer) */
      #v-provider-week .week-indicator-row{ display:flex; justify-content:center; gap:10px; padding:8px 0 12px; flex-wrap:wrap; }
      #v-provider-week .week-indicator-dot{ width:10px; height:10px; border-radius:50%; flex-shrink:0; border:none; padding:0; cursor:pointer; background:inherit; }
      #v-provider-week .week-indicator-dot.week-dot-active{ background:var(--prov-brand); }
      #v-provider-week .week-indicator-dot.week-dot-draft{ background:#eab308; }
      #v-provider-week .week-indicator-dot.week-dot-empty{ background:#e2e8f0; }
      /* Feiertag: dezent mit Schloss */
      #v-provider-week .week-day-pill.week-day-pill-holiday{ opacity:0.85; }
      #v-provider-week .week-day-pill.week-day-pill-holiday::after{ content:''; display:inline-block; width:12px; height:12px; margin-left:4px; background:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2'%3E%3Crect x='3' y='11' width='18' height='11' rx='2'/%3E%3Cpath d='M7 11V7a5 5 0 0110 0v4'/%3E%3C/svg%3E") no-repeat center; background-size:12px 12px; vertical-align:middle; }
      /* Master-Aktivierung: Sammel-Button */
      #v-provider-week .week-master-activate-bar{ margin-top:12px; padding:14px 16px; background:rgba(255,222,0,0.12); border:1px solid rgba(255,222,0,0.35); border-radius:14px; }
      #v-provider-week .week-master-activate-bar .week-master-btn{ width:100%; min-height:56px; border-radius:14px; font-size:16px; font-weight:800; border:none; background:var(--prov-brand); color:#1a1a1a; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:8px; box-shadow:0 4px 12px rgba(255,222,0,0.35); }
      #v-provider-week .week-master-activate-bar .week-master-btn:active{ transform:scale(0.98); }
      #v-provider-week .week-overview-scroll{ -webkit-overflow-scrolling:touch; }
      #v-provider-week .week-overview-cta-wrap .week-edit-primary{ min-height:56px; }
      /* ========== KW-Board (High-End Wochenplan) ========== */
      #v-provider-week .kw-board-header{ padding:12px 20px 8px; padding-top:calc(12px + env(safe-area-inset-top, 0)); background:#fff; border-bottom:1px solid #f1f3f5; flex-shrink:0; }
      #v-provider-week .kw-carousel{ display:flex; gap:10px; overflow-x:auto; -webkit-overflow-scrolling:touch; scroll-snap-type:x mandatory; padding:8px 0 12px; scrollbar-width:none; }
      #v-provider-week .kw-carousel::-webkit-scrollbar{ display:none; }
      #v-provider-week .kw-pill{ flex:0 0 auto; min-width:72px; scroll-snap-align:center; scroll-snap-stop:always; min-height:48px; padding:10px 14px; border-radius:16px; border:2px solid #e2e8f0; background:#f8fafc; font-size:14px; font-weight:800; color:#64748b; cursor:pointer; transition:all 0.2s; display:flex; align-items:center; justify-content:center; }
      #v-provider-week .kw-pill.active{ background:rgba(14,165,233,0.12); border-color:var(--prov-brand,#0ea5e9); color:#0ea5e9; }
      #v-provider-week .kw-progress-wrap{ padding:0 20px 12px; }
      #v-provider-week .kw-progress{ height:4px; border-radius:999px; background:#e2e8f0; overflow:hidden; }
      #v-provider-week .kw-progress-fill{ height:100%; border-radius:999px; background:var(--prov-brand); transition:width 0.3s ease; }
      #v-provider-week .kw-board-scroll{ flex:1; min-height:0; overflow-y:auto; overflow-x:hidden; -webkit-overflow-scrolling:touch; padding:20px 20px calc(160px + env(safe-area-inset-bottom, 0)); }
      #v-provider-week .kw-grid{ display:grid; grid-template-columns:repeat(7, 1fr); gap:10px; max-width:100%; width:100%; margin:0 auto; box-sizing:border-box; }
      @media (max-width:640px){ #v-provider-week .kw-grid{ grid-template-columns:1fr; } }
      #v-provider-week #kwBoardWrap{ overflow-x:hidden; max-width:100%; }
      #v-provider-week .kw-day-card{ background:var(--glass-bg, rgba(255,255,255,0.98)); backdrop-filter:blur(16px); -webkit-backdrop-filter:blur(16px); border-radius:24px; border:1px solid rgba(0,0,0,0.04); box-shadow:0 8px 32px rgba(0,0,0,0.06), 0 0 0 1px rgba(0,0,0,0.03); padding:12px; min-height:140px; display:flex; flex-direction:column; gap:8px; transition:transform 0.2s ease, box-shadow 0.2s ease; }
      #v-provider-week .kw-day-card:active{ transform:scale(0.98); }
      #v-provider-week .kw-day-card.kw-day-has-live{ box-shadow:0 8px 32px rgba(0,0,0,0.06), 0 0 0 1px rgba(255,222,0,0.35); }
      #v-provider-week .kw-day-label{ font-size:11px; font-weight:800; color:#64748b; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:4px; }
      #v-provider-week .kw-day-date{ font-size:13px; font-weight:700; color:#1a1a1a; }
      #v-provider-week .kw-slots{ display:flex; flex-direction:column; gap:8px; flex:1; min-height:0; }
      #v-provider-week .kw-slot{ border-radius:14px; overflow:hidden; min-height:56px; position:relative; cursor:pointer; transition:background 0.2s; }
      #v-provider-week .kw-slot-main{ display:flex; gap:12px; align-items:center; padding:10px; background:#f8fafc; border-radius:14px; border:1px solid #f1f3f5; min-height:80px; }
      #v-provider-week .kw-slot-main .kw-slot-thumb{ width:64px; height:64px; border-radius:14px; background:#e2e8f0; flex-shrink:0; background-size:cover; background-position:center; position:relative; }
      #v-provider-week .kw-slot-main .kw-slot-body{ flex:1; min-width:0; }
      #v-provider-week .kw-slot-main .kw-slot-name{ font-size:14px; font-weight:800; color:#1a1a1a; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
      #v-provider-week .kw-slot-main .kw-slot-price{ font-size:15px; font-weight:900; color:#1a1a1a; margin-top:2px; }
      #v-provider-week .kw-slot-override-badges{ position:absolute; top:4px; right:4px; display:flex; gap:2px; font-size:12px; }
      #v-provider-week .kw-slot-empty{ min-height:52px; border:2px dashed #e2e8f0; border-radius:14px; background:rgba(248,250,252,0.6); display:flex; align-items:center; justify-content:center; color:#cbd5e1; font-size:24px; font-weight:200; letter-spacing:0.08em; transition:color 0.2s, border-color 0.2s, background 0.2s; cursor:pointer; font-family:inherit; padding:0; margin:0; width:100%; box-sizing:border-box; -webkit-appearance:none; appearance:none; }
      #v-provider-week .kw-slot-empty:active{ color:#94a3b8; border-color:#cbd5e1; background:rgba(241,245,249,0.9); }
      #v-provider-week .kw-slot-small{ display:flex; align-items:center; gap:8px; padding:8px 10px; background:#f8fafc; border-radius:12px; border:1px solid #f1f3f5; }
      #v-provider-week .kw-slot-small .kw-slot-thumb{ width:40px; height:40px; border-radius:10px; background:#e2e8f0; flex-shrink:0; background-size:cover; background-position:center; position:relative; }
      #v-provider-week .kw-slot-small .kw-slot-name{ font-size:13px; font-weight:700; color:#1a1a1a; }
      #v-provider-week .kw-slot-small .kw-slot-price{ font-size:13px; font-weight:800; color:#1a1a1a; margin-left:auto; }
      #v-provider-week .kw-slot{ transition:transform 0.2s ease; }
      #v-provider-week .kw-slot.kw-slot-swipe-delete{ background:rgba(239,68,68,0.08); }
      /* Verschieben-Sheet (Long-Press) */
      .kw-move-overlay{ position:fixed; inset:0; background:rgba(0,0,0,0.4); z-index:1100; display:flex; align-items:flex-end; justify-content:center; padding:0 20px  calc(80px + env(safe-area-inset-bottom)); animation:fadeIn 0.2s ease; }
      .kw-move-sheet{ background:#fff; border-radius:24px 24px 0 0; padding:24px 20px calc(20px + env(safe-area-inset-bottom)); width:100%; max-width:400px; max-height:70vh; overflow:auto; box-shadow:0 -8px 32px rgba(0,0,0,0.12); }
      .kw-move-title{ font-size:15px; font-weight:800; color:#1a1a1a; margin-bottom:16px; }
      .kw-move-days{ display:flex; flex-direction:column; gap:8px; margin-bottom:16px; }
      .kw-move-day-btn{ width:100%; min-height:52px; padding:14px 16px; border-radius:16px; border:2px solid #e2e8f0; background:#f8fafc; font-size:15px; font-weight:700; color:#1a1a1a; cursor:pointer; text-align:left; }
      .kw-move-day-btn:active{ transform:scale(0.98); }
      .kw-move-cancel{ width:100%; min-height:52px; border-radius:16px; border:2px solid #f1f3f5; background:#fff; font-size:15px; font-weight:700; color:#64748b; cursor:pointer; }
      /* Action-Bar (Drucken & Teilen) – schlank, Silicon-Valley-Style */
      #v-provider-week .kw-action-bar-fixed{ position:fixed; bottom:calc(64px + env(safe-area-inset-bottom, 20px)); left:20px; right:20px; margin:0 auto; max-width:400px; background:rgba(255,255,255,0.88); backdrop-filter:blur(16px); -webkit-backdrop-filter:blur(16px); border-radius:16px; padding:10px 12px; display:flex; align-items:center; gap:12px; z-index:998; box-shadow:0 4px 24px rgba(0,0,0,0.06), 0 0 0 1px rgba(0,0,0,0.03); }
      #v-provider-week .kw-action-bar-fixed .btn{ min-height:44px; flex:1; min-width:0; border-radius:12px; font-size:14px; font-weight:600; letter-spacing:0.01em; display:inline-flex; align-items:center; justify-content:center; gap:8px; border:none; background:rgba(0,0,0,0.04); color:#1a1a1a; cursor:pointer; transition:background 0.2s, transform 0.15s; }
      #v-provider-week .kw-action-bar-fixed .btn:hover{ background:rgba(0,0,0,0.07); }
      #v-provider-week .kw-action-bar-fixed .btn:active{ transform:scale(0.97); }
      #v-provider-week .kw-action-bar-fixed .btn i{ opacity:0.9; }
      /* Nur .kw-board-scroll scrollt – View und Body ohne Scroll, kein horizontales Ziehen */
      #v-provider-week.view.active{ overflow:hidden !important; height:100vh; height:100dvh; max-height:100dvh; overflow-x:hidden !important; }
      body.provider-week-active{ overflow:hidden !important; overflow-x:hidden !important; }
      /* Wochenplan fullscreen: Topbar ausblenden, main ohne horizontales Scroll – applike */
      body.provider-week-active .topbar{ display:none !important; }
      body.provider-week-active main{ padding-top:0 !important; padding-left:0 !important; padding-right:0 !important; max-width:none !important; overflow-x:hidden !important; }
      /* Tab-Nav bleibt fix sichtbar (z-index über Action-Bar) */
      body.provider-week-active #providerNavWrap{ position:fixed !important; bottom:0 !important; left:0 !important; right:0 !important; z-index:999 !important; }
      /* Dashboard: Dein Wochenplan – klare Trennung von KPIs, App-Kasten, S25-Safe */
      #providerWeekSection .prov-card{ padding:24px; border-radius:24px; box-shadow:0 4px 20px rgba(0,0,0,0.06); border:none; background:#fff; }
      #providerWeekSection{ margin-top:28px; padding:24px 16px 24px; padding-left:max(16px, env(safe-area-inset-left)); padding-right:max(16px, env(safe-area-inset-right)); background:#fff; border-radius:28px; box-shadow:0 4px 24px rgba(0,0,0,0.06); border:1px solid rgba(0,0,0,0.04); }
      #providerWeekSection .provider-week-title{ margin:0 0 24px; font-size:22px; font-weight:900; color:#1a1a1a; letter-spacing:-0.02em; }
      .provider-week-footer #btnProviderWeekFooter:active{ transform:scale(0.98); box-shadow:0 1px 6px rgba(0,0,0,0.08); }
      #providerWeekDays{ display:flex; gap:10px; overflow-x:auto; -webkit-overflow-scrolling:touch; padding:4px 0 24px; margin-bottom:24px; scroll-snap-type:x mandatory; }
      /* Dashboard + Wochenplan: Tag-Pills (Mo–So) alle gleich groß */
      #providerWeekDays .week-preview-pill{ flex:0 0 auto; width:52px; min-width:52px; height:52px; min-height:52px; padding:0 6px; border-radius:32px; border:2px solid #f1f3f5; background:#fff; font-size:10px; font-weight:900; color:#64748b; cursor:pointer; transition:all 0.2s; line-height:1.2; text-align:center; white-space:pre-line; scroll-snap-align:center; scroll-snap-stop:always; display:flex; flex-direction:column; align-items:center; justify-content:center; box-sizing:border-box; }
      #providerWeekDays .week-preview-pill::after{ content:''; width:8px; height:8px; border-radius:50%; margin-top:4px; background:#e2e8f0; border:none; transition:background 0.2s; }
      #providerWeekDays .week-preview-pill.has-online::after{ background:var(--prov-brand); box-shadow:0 0 0 2px rgba(255,222,0,0.35); }
      #providerWeekDays .week-preview-pill.has-listings:not(.has-online)::after{ background:#3b82f6; border:none; }
      #providerWeekDays .week-preview-pill.active{ background:#ffde00; border-color:#ffde00; color:#1a1a1a; box-shadow:0 2px 12px rgba(255,222,0,0.4); transform:scale(1.05); }
      #providerWeekDays .week-preview-pill.active::after{ background:#3b82f6; }
      #providerWeekDays .week-preview-pill.active.has-online::after{ background:var(--prov-brand); box-shadow:0 0 0 2px rgba(255,222,0,0.35); }
      /* Wochenplan 2.2: Dashboard-Pills minimalistisch – ohne Status-Punkt, Fokus auf Karten */
      #v-provider-home #providerWeekDays .week-preview-pill::after{ display:none !important; }
      #v-provider-home #providerWeekDays .week-preview-pill{ width:52px; min-width:52px; height:52px; min-height:52px; }
      .prov-stat-hint{ display:block; font-size:11px; font-weight:600; color:#94a3b8; margin-top:2px; line-height:1.2; }
      #v-provider-home .prov-stat-item:focus-visible,
      #v-provider-home button:focus-visible{ outline:2px solid var(--prov-brand,#0ea5e9); outline-offset:2px; }
      /* Design-System: tiefes Anthrazit für Texte in Provider-Bereich */
      #v-provider-home h1, #v-provider-home h2, #v-provider-home h3,
      #v-provider-home .prov-stat-value, #v-provider-home .prov-stat-label{ color: var(--premium-anthracite, #1a1a1a); }
      .provider-cookbook-tiles{ display:grid; grid-template-columns:repeat(3, 1fr); gap:10px; }
      @media (min-width:420px){ .provider-cookbook-tiles{ grid-template-columns:repeat(4, 1fr); } }
      @media (min-width:520px){ .provider-cookbook-tiles{ display:flex; flex-wrap:nowrap; overflow-x:auto; -webkit-overflow-scrolling:touch; gap:10px; padding-bottom:4px; } .provider-cookbook-tiles .cookbook-tile{ flex:0 0 auto; min-width:110px; width:110px; } }
      #providerWeekDayContent{ min-height:100px; text-align:left; padding:0; }
      #providerWeekDayContent .week-preview-dishes{ display:flex; flex-direction:column; gap:14px; }
      #providerWeekDayContent .week-preview-section-label{ font-size:10px; font-weight:900; color:#9ca3af; text-transform:uppercase; letter-spacing:0.12em; margin-bottom:12px; padding:0 4px; }
      #providerWeekDayContent .week-preview-section-label-center{ text-align:center; margin-top:20px; margin-bottom:12px; }
      #providerWeekDayContent .week-preview-dish{ background:#fff; padding:20px 20px; min-height:56px; border-radius:40px; box-shadow:0 2px 12px rgba(0,0,0,0.04); display:flex; justify-content:space-between; align-items:center; border-left:12px solid transparent; cursor:pointer; transition:transform 0.15s, box-shadow 0.15s; gap:16px; }
      #providerWeekDayContent .week-preview-dish:active{ transform:scale(0.97); }
      #providerWeekDayContent .week-preview-dish.week-preview-dish-online{ border-left-color:var(--prov-brand); }
      #providerWeekDayContent .week-preview-dish-thumb{ width:56px; height:56px; min-width:56px; min-height:56px; border-radius:50%; overflow:hidden; border:2px solid #f3f4f6; background:#f1f3f5; flex-shrink:0; }
      #providerWeekDayContent .week-preview-dish-thumb img{ width:100%; height:100%; object-fit:cover; }
      #providerWeekDayContent .week-preview-dish-sold{ background:#f8fafc; border:1px dashed #e2e8f0; border-radius:20px; padding:12px 16px; min-width:60px; text-align:center; flex-shrink:0; }
      #providerWeekDayContent .week-preview-dish-sold span:first-child{ display:block; font-size:8px; font-weight:800; color:#9ca3af; text-transform:uppercase; letter-spacing:0.05em; }
      #providerWeekDayContent .week-preview-dish-sold .week-preview-dish-sold-num{ font-size:16px; font-weight:900; color:#1a1a1a; }
      #providerWeekDayContent .week-preview-dish-online .week-preview-dish-inner{ flex:1; min-width:0; display:flex; flex-direction:column; align-items:flex-start; gap:2px; }
      #providerWeekDayContent .week-preview-dish-time{ display:none; }
      #providerWeekDayContent .week-preview-dish-online .week-preview-dish-time{ display:none; }
      #providerWeekDayContent .week-preview-dish.week-preview-dish-geplant{ opacity:0.9; background:rgba(255,255,255,0.95); border:2px dashed #e2e8f0; border-left-width:8px; border-left-color:#e2e8f0; padding:24px 20px; min-height:60px; }
      #providerWeekDayContent .week-preview-dish.week-preview-dish-geplant .week-preview-dish-name{ color:#64748b; }
      #providerWeekDayContent .week-preview-dish-name{ font-size:20px; font-weight:900; color:#1a1a1a; line-height:1.2; }
      #providerWeekDayContent .week-preview-dish-meta{ display:flex; flex-direction:column; align-items:flex-end; gap:2px; }
      #providerWeekDayContent .week-preview-dish-status{ font-size:10px; font-weight:900; text-transform:uppercase; letter-spacing:0.05em; }
      #providerWeekDayContent .week-preview-dish-status.online{ display:none; }
      #providerWeekDayContent .week-preview-dish-status.geplant{ color:#94a3b8; }
      #providerWeekDayContent .week-preview-cta{ margin-top:24px; }
      #providerWeekDayContent .week-preview-cta .btn{ width:100%; min-height:48px; border-radius:14px; font-weight:700; border:2px solid #e5e7eb; background:#fff; color:#1a1a1a; }
      #providerWeekDayContent .week-preview-link{ display:inline-flex; align-items:center; gap:6px; font-size:14px; font-weight:700; color:#1a1a1a; margin-top:20px; margin-bottom:24px; cursor:pointer; color:var(--prov-brand,#0ea5e9); padding-bottom:env(safe-area-inset-bottom, 0); }
      #providerWeekDayContent .week-preview-gap-tip{ display:flex; align-items:center; justify-content:space-between; gap:12px; background:#eff6ff; border:1px solid #bfdbfe; padding:20px; border-radius:24px; margin-top:16px; box-shadow:0 0 0 1px rgba(59,130,246,0.08), 0 4px 20px rgba(59,130,246,0.12); }
      #providerWeekDayContent .week-preview-gap-tip-inner{ display:flex; align-items:center; gap:12px; }
      #providerWeekDayContent .week-preview-gap-tip-label{ font-size:9px; font-weight:900; text-transform:uppercase; letter-spacing:0.08em; color:#3b82f6; }
      #providerWeekDayContent .week-preview-gap-tip-title{ font-size:13px; font-weight:800; color:#1a1a1a; margin-top:2px; }
      #providerWeekDayContent .week-preview-gap-tip-stats{ font-size:11px; font-weight:700; color:#1a1a1a; margin-top:4px; }
      #providerWeekDayContent .week-preview-gap-tip .week-preview-gap-tip-btn{ background:#fff; padding:8px 14px; border-radius:12px; font-size:9px; font-weight:900; text-transform:uppercase; border:none; box-shadow:0 1px 4px rgba(0,0,0,0.06); cursor:pointer; color:#1a1a1a; }
      /* Leerer Tag – Direkt-Inserieren-Trigger (Wochenplan 3.0 „Keine Ausreden“) */
      #providerWeekDayContent .week-preview-empty-trigger{ background:rgba(255,255,255,0.5); border:2px dashed #e2e8f0; border-radius:40px; padding:32px 24px; display:flex; flex-direction:column; align-items:center; text-align:center; gap:16px; cursor:pointer; transition:background 0.2s, transform 0.1s; box-shadow:0 2px 12px rgba(0,0,0,0.04); }
      #providerWeekDayContent .week-preview-empty-trigger:active{ transform:scale(0.98); background:#fff; }
      #providerWeekDayContent .week-preview-empty-trigger .week-preview-empty-label{ font-size:10px; font-weight:900; color:#9ca3af; text-transform:uppercase; letter-spacing:0.12em; margin-bottom:4px; }
      #providerWeekDayContent .week-preview-empty-trigger .week-preview-empty-cta{ font-size:16px; font-weight:900; color:#1a1a1a; }
      #v-provider-profile .panel{ padding:18px !important; border-radius:16px !important; margin-bottom:16px !important; }
      #v-provider-profile .provider-profile-section-title{ margin-top:24px; margin-bottom:12px; }
      #v-provider-profile .provider-profile-section-title:first-of-type{ margin-top:0; }
      /* Meins: einheitliche Abstände der Menüzeilen (Daten, Präferenzen, Zahlung, FAQ) */
      #v-provider-profile .provider-profile-row{
        width:100%; display:flex; align-items:center; justify-content:space-between; padding:16px 18px; background:none; border:none;
        border-bottom:1px solid #f1f3f5; font-size:15px; font-weight:700; color:#1a1a1a; text-align:left; cursor:pointer;
      }
      #v-provider-profile .provider-profile-row-last{ border-bottom:none; }
      /* App-like: Menüzeilen mit klarem Abstand, Touch-freundlich */
      #v-provider-profile .provider-profile-row{
        min-height:56px !important; padding:18px 20px !important; font-size:16px !important;
      }
      #v-provider-profile .provider-profile-row-app{
        border-bottom:1px solid #f1f3f5; transition:background 0.15s ease;
      }
      #v-provider-profile .provider-profile-row-app:active{ background:#f8f9fa !important; }
      #v-provider-profile .provider-profile-row-app.provider-profile-row-last{ border-bottom:none; }
      #v-provider-profile .provider-profile-row i[data-lucide]{ width:20px !important; height:20px !important; }
      #v-provider-profile .provider-profile-logout-btn:active{ transform:scale(0.98); opacity:0.9; }
      #v-provider-profile .provider-profile-sub{ flex:1; min-height:0; overflow:hidden; }
      #v-provider-profile .provider-profile-sub > div[style*="overflow-y:auto"]{ flex:1; min-height:0; padding-bottom:calc(24px + env(safe-area-inset-bottom, 0)); }
      #v-provider-profile .provider-profile-sub{ background:#F2F2F7 !important; }
      #v-provider-profile #providerProfileMenuCard{ background:#fff; border-radius:16px; overflow:hidden; box-shadow:0 1px 3px rgba(0,0,0,0.06); }
      /* Einstellungen (Zahnrad): wie Kundenseite – Clean Card & Spacing */
      #v-provider-profile .provider-profile-sub .provider-settings-scroll{ padding:40px 16px calc(100px + env(safe-area-inset-bottom, 0)); display:flex; flex-direction:column; gap:20px; max-width:500px; margin:0 auto; width:100%; box-sizing:border-box; }
      #v-provider-profile .provider-settings-card{ background:#fff; border-radius:24px; overflow:hidden; border:1px solid rgba(0,0,0,0.04); box-shadow:0 8px 24px rgba(0,0,0,0.03); margin-bottom:0; }
      #v-provider-profile .provider-settings-identity .plogo{ width:56px !important; height:56px !important; border-radius:18px !important; }
      #v-provider-profile .provider-settings-card .provider-time-trigger{ width:100%; padding:24px; border-radius:16px; background:#f8fafc; border:1px solid rgba(0,0,0,0.06); cursor:pointer; text-align:center; transition:background 0.2s; }
      #v-provider-profile .provider-settings-card .provider-time-trigger:active{ background:#f1f3f5; }
      #v-provider-profile .provider-settings-card .provider-time-inline{ display:flex; align-items:center; gap:12px; margin-top:16px; }
      #v-provider-profile .provider-settings-card .provider-time-inline select{ width:100%; height:48px; padding:0 12px; border:none; border-bottom:2px solid #e5e7eb; border-radius:0; font-size:16px; font-weight:700; background:transparent; color:#1a1a1a; cursor:pointer; }
      #v-provider-profile .provider-settings-card .provider-time-inline select:focus{ outline:none; border-bottom-color:var(--brand,#FFD700); }
      #v-provider-profile .provider-settings-danger-footer .provider-footer-row{ display:flex; justify-content:space-between; align-items:center; padding:18px 20px; background:#fff; border:1px solid rgba(0,0,0,0.04); border-radius:24px; margin-bottom:12px; box-shadow:0 8px 24px rgba(0,0,0,0.03); cursor:pointer; font-size:16px; font-weight:700; color:#1a1a1a; text-decoration:none; color:inherit; }
      #v-provider-profile .provider-settings-danger-footer .provider-footer-row:active{ background:#f8f9fa; }
      #v-provider-profile .provider-settings-danger-footer .provider-footer-delete{ display:block; width:100%; padding:16px; font-size:14px; font-weight:800; color:#dc2626; background:transparent; border:none; cursor:pointer; text-align:center; }
      /* Floating Labels (Silicon-Valley-Style) – Betriebsdaten */
      #v-provider-profile .input-group{ position:relative; border-bottom:1px solid #E5E7EB; padding:20px 0 10px 0; margin-bottom:15px; }
      #v-provider-profile .input-label{ position:absolute; top:20px; left:0; font-size:16px; color:#9CA3AF; transition:all 0.2s ease; pointer-events:none; text-transform:uppercase; letter-spacing:0.5px; }
      #v-provider-profile .input-field:focus ~ .input-label,
      #v-provider-profile .input-field:not(:placeholder-shown) ~ .input-label,
      #v-provider-profile .input-field.floating-filled ~ .input-label{ top:0; font-size:10px; color:#6B7280; font-weight:bold; }
      #v-provider-profile .input-field{ width:100%; border:none; outline:none; font-size:18px; background:transparent; color:#1a1a1a; box-sizing:border-box; padding:0; }
      #v-provider-profile .input-field::placeholder{ color:transparent; }
      
      /* Provider Bottom Nav: Safe-Area, Touch 48px */
      #providerNav{
        height:calc(64px + env(safe-area-inset-bottom, 20px)) !important;
        padding-bottom:env(safe-area-inset-bottom, 20px) !important;
      }
      #providerNav .navbtn{
        min-height:52px; padding:12px 8px !important; font-size:12px !important;
        flex:1; min-width:0; display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center;
      }
      #providerNav .navbtn.active{ font-weight:700; }
      #providerNav .navbtn .ico svg{ width:24px !important; height:24px !important; }
      
      /* FAB: über Nav + Safe-Area */
      #fabProviderAddOffer{
        bottom:calc(80px + env(safe-area-inset-bottom, 20px)) !important;
        right:calc(20px + env(safe-area-inset-right, 0)) !important;
        width:56px !important; height:56px !important;
        min-width:56px; min-height:56px;
      }
      #fabProviderAddOfferLabel{ right:calc(20px + env(safe-area-inset-right, 0)) !important; }
      
      /* Sheets: max-height mit Safe-Area */
      .sheet{ max-height:calc(92vh - env(safe-area-inset-bottom, 0)) !important; }
      
      /* Buttons: Mindest-Touch 48px */
      .btn, .btn-primary, .btn-secondary{
        min-height:48px !important;
      }
      
      /* S25 / Daumenfreundlich: Inseratsflow & Create-Flow */
      #wizard.sheet--kitchen .w-actions button{
        min-height:52px !important;
        padding:14px 20px !important;
      }
      #wizard.sheet--kitchen .w-actions{
        padding:18px 20px calc(20px + env(safe-area-inset-bottom, 24px)) !important;
      }
      #wizard.sheet--kitchen #wContent .ans{
        min-height:48px !important;
        padding:14px 18px !important;
        min-width:0;
      }
      #wizard.sheet--kitchen #wContent .ans.ans--thumb{
        min-height:72px !important;
        min-width:72px !important;
      }
      #wizard.sheet--kitchen #wContent .answers{
        gap:10px !important;
      }
      #wizard.sheet--kitchen .field{
        min-height:48px !important;
        padding:16px 18px !important;
      }
      #wizard.sheet--kitchen .wizard-scroll{
        padding-bottom:140px !important;
      }
      #wizard.sheet--kitchen .handle{
        padding:12px 0 !important;
        margin:12px auto 8px !important;
        min-height:24px !important;
      }
      #createFlowSheet.sheet--kitchen .sheet-body{
        padding:20px 20px calc(24px + env(safe-area-inset-bottom, 24px)) !important;
      }
      #createFlowSheet.sheet--kitchen .btn-create-primary,
      #createFlowSheet.sheet--kitchen .btn-create-secondary{
        min-height:56px !important;
        padding:16px 20px !important;
      }
      
      /* Kochbuch: Daumenfreundlich (S25) */
      #v-provider-cookbook .cookbook-cta{ min-height:56px !important; }
      #v-provider-cookbook .cookbook-search,
      #v-provider-cookbook #cookbookSortSelect{ min-height:48px !important; }
      #v-provider-cookbook .cookbook-tabs button{ min-height:48px !important; }
      #v-provider-cookbook .cookbook-item-btn{ min-height:52px !important; }
      #v-provider-cookbook .cookbook-item-menu{ width:44px !important; height:44px !important; }
      #v-provider-cookbook .cookbook-action-sheet-btn{ min-height:52px !important; }
      
      .discover-offers{ padding:14px 12px !important; gap:12px !important; }
      .card.polaroid{ border-radius:18px !important; }
    }
    
    /* Extra kleine Phones (<375px, z.B. iPhone SE) */
    @media (max-width:374px){
      #v-provider-home{ padding:0 8px 0 !important; padding-top:0 !important; }
      #v-provider-home h1{ font-size:22px !important; }
      #kpiCardTagesessen, #kpiCardAbholungen, #kpiCardKochbuch{ padding:10px 6px !important; }
      #kpiCardTagesessen div[style*="font-size:20px"],
      #kpiCardAbholungen div[style*="font-size:32px"],
      #kpiCardKochbuch div[style*="font-size:32px"]{ font-size:22px !important; }
    }
    /* Bild-Container (Discover-Karten): Quadratisch, zentriert */
    .card .img{
      width:100%; margin:0 0 12px;
      display:flex; justify-content:center; align-items:center;
      background:transparent;
      position:relative;
    }
    /* Back Navigation – einheitlich: Icon + „Zurück“ */
    .btn-back{
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
    }
    .btn-back i{ width:18px; height:18px; flex-shrink:0; }
    .back-button{
      position:absolute; top:12px; left:12px;
      min-width:40px; height:40px;
      border-radius:50%; border:none;
      background:rgba(255,255,255,.9);
      backdrop-filter:blur(10px);
      display:flex; align-items:center; justify-content:center; gap:8px;
      cursor:pointer; z-index:10;
      box-shadow:0 2px 8px rgba(0,0,0,.1);
    }
    .back-button i{
      width:20px; height:20px;
    }

    /* Chat-Bubbles Feed */
    .feed-container{
      max-width:980px; margin:0 auto; padding:0 16px 20px;
    }
    .chat-bubble{
      background:#fff; border:1px solid var(--border);
      border-radius:var(--radius); padding:16px;
      margin-bottom:16px; box-shadow:0 4px 12px rgba(0,0,0,.06);
      position:relative;
    }
    .chat-bubble-header{
      display:flex; align-items:center; gap:12px; margin-bottom:12px;
    }
    .chat-bubble-avatar{
      width:44px; height:44px; border-radius:50%;
      overflow:hidden; flex:0 0 auto;
      border:2px solid var(--border);
    }
    .chat-bubble-avatar img{
      width:100%; height:100%; object-fit:cover;
    }
    .chat-bubble-meta{
      flex:1; min-width:0;
    }
    .chat-bubble-name{
      font-weight:900; font-size:17px; margin-bottom:4px; line-height:1.3;
    }
    .chat-bubble-time{
      font-size:13px; color:var(--muted);
      display:flex; align-items:center; gap:6px; line-height:1.4;
    }
    .chat-bubble-distance{
      position:absolute; top:16px; right:16px;
      font-size:12px; font-weight:700; color:var(--muted);
      background:#f8f7f3; padding:5px 10px; border-radius:999px;
    }
    .chat-bubble-message{
      font-size:16px; line-height:1.6; color:var(--text);
      margin-bottom:14px;
    }
    .chat-bubble-image{
      width:100%; border-radius:16px; overflow:hidden;
      margin-bottom:12px; max-height:300px; object-fit:cover;
    }
    .chat-bubble-actions{
      display:flex; gap:10px; margin-top:12px;
    }
    .chat-bubble-btn{
      flex:1; padding:12px; border-radius:12px;
      border:none; font-weight:900; font-size:14px;
      cursor:pointer; transition:transform .1s;
    }
    .chat-bubble-btn:active{transform:scale(.98)}
    .chat-bubble-btn-primary{
      background:var(--brand); color:#111;
    }
    .chat-bubble-btn-secondary{
      background:#f8f7f3; border:1px solid var(--border); color:var(--text);
    }
    .feed-empty{
      max-width:980px; margin:0 auto;
    }
    
    /* Pickup Card (Theken-Ansicht 2.0) */
    .pickup-card{
      background:#fff;
      border-radius:16px;
      box-shadow:0 4px 12px rgba(0,0,0,0.08);
      position:relative;
      overflow:hidden;
      transition:all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
      cursor:pointer;
      border-left:6px solid #e5e7eb; /* Default */
      display:flex;
      flex-direction:column;
      min-height:160px;
    }
    .pickup-card:active{ transform:scale(0.96); }
    .pickup-card.status-open{ border-left-color:#FFD700; }
    .pickup-card.status-paid{ border-left-color:#2ecc71; } /* Bezahlt & Bereit */
    .pickup-card.status-done{ opacity:0.6; filter:grayscale(100%); border-left-color:#999; box-shadow:none; background:#f9f9f9; }
    
    .pickup-card-header{
      padding:16px 16px 0;
      display:flex; justify-content:space-between; align-items:flex-start;
    }
    .pickup-card-code{
      font-size:42px; font-weight:900; line-height:1; color:#1a1a1a; letter-spacing:-0.03em;
    }
    .pickup-card-time{
      font-size:13px; font-weight:700; color:#666; background:#f0f2f5; padding:4px 8px; border-radius:8px;
    }
    .pickup-card-body{
      padding:12px 16px 16px;
      flex:1; display:flex; flex-direction:column; justify-content:flex-end;
    }
    .pickup-card-dish{
      font-size:16px; font-weight:700; line-height:1.3; color:#333; margin-bottom:4px;
      display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
    }
    .pickup-card-customer{
      font-size:13px; color:#888; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .pickup-card-badge{
      position:absolute; top:12px; right:12px;
      background:#2ecc71; color:#fff; font-size:11px; font-weight:800; padding:4px 8px; border-radius:6px;
      box-shadow:0 2px 6px rgba(46,204,113,0.3);
    }
    
    /* Animation für Erledigt */
    @keyframes check-pop {
      0% { transform:scale(0); opacity:0; }
      50% { transform:scale(1.2); opacity:1; }
      100% { transform:scale(1); opacity:1; }
    }
    .check-overlay{
      position:absolute; inset:0; background:rgba(46,204,113,0.9);
      display:flex; align-items:center; justify-content:center;
      opacity:0; pointer-events:none; transition:opacity 0.2s;
    }
    .pickup-card.just-done .check-overlay{ opacity:1; }
    .pickup-card.just-done .check-icon{ animation:check-pop 0.3s ease-out forwards; }
    /* Sticky Categories Bar */
    .discover-categories-sticky {
      position: sticky;
      top: 60px; /* Header height approx */
      z-index: 90;
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding: 12px 16px;
      overflow-x: auto;
      white-space: nowrap;
      display: flex;
      gap: 10px;
      border-bottom: 1px solid rgba(0,0,0,0.05);
      margin-bottom: 16px;
      scrollbar-width: none; /* Firefox */
    }
    .discover-categories-sticky::-webkit-scrollbar { display: none; }
    
    .cat-pill {
      padding: 8px 16px;
      border-radius: 20px;
      background: #f2f2f2;
      color: #666;
      font-size: 14px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: all 0.2s cubic-bezier(0.2, 0.8, 0.2, 1);
      flex-shrink: 0;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .cat-pill:active { transform: scale(0.95); }
    .cat-pill.active {
      background: #1a1a1a;
      color: #fff;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    .cat-pill i { width: 16px; height: 16px; }

    /* Kalender/Day-Pills – moderner Look */
    .discover-days-sticky {
      gap: 10px;
      padding: 12px 16px;
      background: linear-gradient(180deg, rgba(255,248,240,0.98) 0%, rgba(247,246,240,0.95) 100%);
      border-bottom: 1px solid rgba(0,0,0,0.06);
      box-shadow: 0 2px 12px rgba(0,0,0,0.04);
    }
    .day-pill {
      flex-shrink: 0;
      min-width: 72px;
      padding: 12px 14px;
      border-radius: 16px;
      border: 2px solid transparent;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.25s cubic-bezier(0.2, 0.8, 0.2, 1);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
      background: #fff;
      color: #64748b;
      box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    }
    .day-pill:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 14px rgba(0,0,0,0.1);
      color: #334155;
    }
    .day-pill:active { transform: scale(0.97); }
    .day-pill.day-pill--today {
      background: linear-gradient(135deg, #FFD700 0%, #f2b705 100%);
      color: #1a1a1a;
      border-color: rgba(0,0,0,0.08);
      box-shadow: 0 4px 16px rgba(255,215,0,0.35);
    }
    .day-pill.day-pill--today:hover {
      box-shadow: 0 6px 20px rgba(255,215,0,0.45);
      transform: translateY(-2px);
    }
    .day-pill .day-pill-label { font-weight: 800; letter-spacing: -0.02em; }
    .day-pill .day-pill-date { font-size: 11px; font-weight: 600; opacity: 0.85; }

    /* Redesigned Offer Card (Modern App Style) */
    .offer-card-modern {
      background: #fff;
      border-radius: 24px;
      width: 95%;
      max-width: 95%;
      margin-left: auto;
      margin-right: auto;
      box-shadow: 0 10px 30px rgba(0,0,0,0.06);
      margin-bottom: 24px;
      overflow: hidden;
      position: relative;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      border: 1px solid rgba(0,0,0,0.02);
    }
    .offer-card-modern:active { transform: scale(0.98); }
    
    .ocm-image-container {
      position: relative;
      width: 100%;
      aspect-ratio: 4/3;
      background: #f0f0f0;
      overflow: hidden;
    }
    .ocm-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }
    
    .ocm-provider-badge {
      position: absolute;
      top: 12px;
      left: 12px;
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(8px);
      padding: 6px 12px 6px 6px;
      border-radius: 20px;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      font-size: 13px;
      font-weight: 700;
      color: #333;
      z-index: 2;
    }
    .ocm-provider-logo {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: #eee;
      object-fit: cover;
    }
    
    .ocm-like-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(8px);
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      color: #333;
      z-index: 2;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .ocm-like-btn:active { transform: scale(0.8); }
    .ocm-like-btn.active { color: #e74c3c; fill: #e74c3c; }
    
    .ocm-price-tag {
      position: absolute;
      bottom: 12px;
      right: 12px;
      background: #1a1a1a;
      color: #fff;
      padding: 8px 14px;
      border-radius: 16px;
      font-weight: 800;
      font-size: 15px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    
    .ocm-content { padding: 16px 20px 20px; }
    .ocm-title {
      font-size: 18px;
      font-weight: 800;
      color: #1a1a1a;
      margin: 0 0 8px;
      line-height: 1.3;
    }
    .ocm-meta {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-top: 16px;
      padding-top: 16px;
      border-top: 1px solid rgba(0,0,0,0.05);
      font-size: 13px;
      color: #666;
      font-weight: 500;
    }
    .ocm-meta-item { display: flex; align-items: center; gap: 6px; }
    .ocm-meta-item i { width: 16px; height: 16px; color: #999; }
    /* Silicon-Valley Pills: dezente Pop-Animation beim Laden */
    .ocm-pills-row {
      animation: ocmPillPop 0.35s ease-out;
    }
    @keyframes ocmPillPop {
      from { opacity: 0; transform: scale(0.96); }
      to { opacity: 1; transform: scale(1); }
    }

    /* App-like Transitions & Feedback */
    .view {
      display: none;
      opacity: 0;
    }
    .view.active {
      display: block;
      opacity: 1;
      animation: viewIn 0.2s ease-out forwards;
    }
    .view.active#v-pickup-code {
      display: flex !important;
    }
    /* Applike: Wochenplan ohne Verschieben – nur Einblendung */
    #v-provider-week.active { animation: viewInFade 0.2s ease-out forwards; }
    @keyframes viewInFade { from { opacity: 0; } to { opacity: 1; } }
    @keyframes viewIn {
      from { transform: translateY(6px); }
      to { transform: translateY(0); }
    }
    
    /* Global Button Feedback */
    button:active, .btn:active, .btn-primary:active, .cat-pill:active, .day-pill:active, .ocm-like-btn:active, .chip:active {
      transform: scale(0.96) !important;
    }
    button, .btn, .btn-primary, .cat-pill, .day-pill, .ocm-like-btn, .chip {
      transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.2s, box-shadow 0.2s;
    }
    /* --- MODERN CUSTOMER UI --- */
    .customer-view {
      background: var(--bg);
      min-height: 100vh;
    }
    /* Meins, Mittagsbox, Favoriten: Inhaltsbereich füllt Viewport – kein Leerraum beim Runterscrollen */
    #v-profile > div:last-child,
    #v-cart > div:last-child,
    #v-fav > div:last-child {
      min-height: calc(100vh - 60px);
      box-sizing: border-box;
    }

    /* Modern Sticky Header */
    .cust-header-sticky {
      position: sticky;
      top: 0;
      z-index: 100;
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      border-bottom: 1px solid rgba(0,0,0,0.05);
      padding-top: env(safe-area-inset-top, 0px);
      padding-left: env(safe-area-inset-left, 0);
      padding-right: env(safe-area-inset-right, 0);
    }
    /* Kunde: Anbieter-Profil (Restaurant-Seite) – app-like, nicht gequetscht, S25-tauglich */
    #v-provider-detail-public {
      display: flex !important;
      flex-direction: column !important;
      min-height: 100vh;
      min-height: 100dvh;
      background: #f8f9fa !important;
    }
    #v-provider-detail-public .pub-prov-scroll {
      flex: 1;
      min-height: 0;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      padding: 20px 16px calc(24px + env(safe-area-inset-bottom, 0));
    }
    #v-provider-detail-public .cust-header-sticky {
      flex-shrink: 0;
      background: #fff;
    }
    #v-provider-detail-public .pub-prov-back-btn,
    #v-provider-detail-public .pub-prov-fav-btn {
      min-width: 48px;
      min-height: 48px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    #v-provider-detail-public .pub-prov-back-btn:active,
    #v-provider-detail-public .pub-prov-fav-btn:active {
      transform: scale(0.96);
    }
    #v-provider-detail-public .pub-prov-hero {
      border: 1px solid rgba(0,0,0,0.04);
    }
    #v-provider-detail-public .pub-prov-section-title {
      font-size: 13px;
      font-weight: 800;
      color: #64748b;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      margin: 0 0 14px;
    }
    #v-provider-detail-public .pub-prov-empty {
      text-align: center;
      padding: 28px 20px;
      font-size: 15px;
      font-weight: 600;
      color: #94a3b8;
      line-height: 1.5;
    }
    #v-provider-detail-public .pub-prov-offer-card {
      min-height: 56px;
      transition: transform 0.2s ease;
    }
    #v-provider-detail-public .pub-prov-offer-card:active {
      transform: scale(0.98);
    }
    #v-provider-detail-public .pub-prov-hero button:active {
      transform: scale(0.98);
    }
    @media (max-width: 430px) and (min-height: 700px) {
      #v-provider-detail-public .pub-prov-header-row { padding: 16px 16px !important; }
      #v-provider-detail-public .pub-prov-back-btn,
      #v-provider-detail-public .pub-prov-fav-btn { min-width: 52px; min-height: 52px; }
      #v-provider-detail-public #pubProvName { font-size: 20px !important; }
      #v-provider-detail-public .pub-prov-hero { padding: 28px 20px !important; }
      #v-provider-detail-public .pub-prov-scroll { padding: 20px 16px calc(28px + env(safe-area-inset-bottom, 0)) !important; }
      #v-provider-detail-public #pubProvTitle { font-size: 22px !important; }
      #v-provider-detail-public #pubProvAddress { font-size: 14px !important; }
    }

    /* Discovery Card - Modernized */
    .cust-card {
      background: #fff;
      border-radius: 24px;
      overflow: hidden;
      border: 1px solid rgba(0,0,0,0.04);
      box-shadow: 0 8px 24px rgba(0,0,0,0.03);
      transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s;
      display: flex;
      flex-direction: column;
      margin-bottom: 16px;
    }
    .cust-card:active {
      transform: scale(0.97);
      box-shadow: 0 4px 12px rgba(0,0,0,0.02);
    }

    .cust-card-img {
      width: 100%;
      aspect-ratio: 16/10;
      object-fit: cover;
      background: #f1f3f5;
    }

    .cust-card-body {
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .cust-card-title {
      font-size: 18px;
      font-weight: 850;
      color: #1a1a1a;
      letter-spacing: -0.02em;
      margin: 0;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .cust-card-meta {
      font-size: 13px;
      font-weight: 600;
      color: #64748b;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .cust-card-price {
      font-size: 16px;
      font-weight: 800;
      color: var(--brand);
      margin-top: 8px;
    }

    /* Favorites Grid (Strict 2x2 per FAVORITEN_LAYOUT_REGEL: gap 12px, border-radius 16px) */
    .fav-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      padding: 0 16px;
    }

    .fav-card {
      background: #fff;
      border-radius: 20px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      border: 1px solid rgba(0,0,0,0.04);
      box-shadow: 0 4px 12px rgba(0,0,0,0.02);
      height: 100%; /* Homogene Höhe */
    }

    .fav-card-img {
      width: 100%;
      aspect-ratio: 1/1; /* Quadratisch laut Spec */
      object-fit: cover;
    }

    /* Segmented Control / Chips */
    .cust-chip-bar {
      display: flex;
      gap: 8px;
      overflow-x: auto;
      padding: 12px 16px;
      scrollbar-width: none;
    }
    .cust-chip-bar::-webkit-scrollbar { display: none; }

    .cust-chip {
      flex: 0 0 auto;
      padding: 8px 16px;
      border-radius: 14px;
      background: #fff;
      border: 1px solid rgba(0,0,0,0.05);
      font-size: 14px;
      font-weight: 700;
      color: #64748b;
      transition: all 0.2s;
    }
    .cust-chip.active {
      background: #1a1a1a;
      color: #fff;
      border-color: #1a1a1a;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    /* Bottom Navigation Modernization */
    .bottom-nav {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      border-top: 1px solid rgba(0,0,0,0.05);
      height: calc(70px + env(safe-area-inset-bottom, 0px));
      padding-bottom: env(safe-area-inset-bottom, 0px);
    }

    .nav-item i {
      transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .nav-item.active i {
      transform: translateY(-2px) scale(1.1);
      color: var(--brand);
    }

    /* 3 Pillars in Card */
    .card-pillars {
      display: flex;
      gap: 8px;
      margin-top: 8px;
    }
    .pillar-mini {
      width: 24px;
      height: 24px;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      background: #f1f3f5;
    }
    .pillar-mini.active.yellow { background: #FFD700; }
    .pillar-mini.active.green { background: rgba(39, 174, 96, 0.15); color: #27AE60; }

    /* Button Refinement – fancy, klar, ein Haupt-CTA */
    .btn-cust-primary {
      height: 56px;
      min-height: 56px;
      border-radius: 18px;
      background: var(--brand);
      color: #1a1a1a;
      border: none;
      font-weight: 850;
      font-size: 16px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      box-shadow: 0 8px 24px rgba(255, 215, 0, 0.28);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      cursor: pointer;
    }
    .btn-cust-primary:hover {
      box-shadow: 0 12px 32px rgba(255, 215, 0, 0.35);
      transform: translateY(-1px);
    }
    .btn-cust-primary:active { transform: scale(0.97); }
    .btn-cust-primary:focus-visible {
      outline: 2px solid #1a1a1a;
      outline-offset: 2px;
    }

    /* --- END MODERN CUSTOMER UI --- */
  </style>
</head>
<body>
<div class="app" id="app">
  <div class="topbar" id="topbar">
      <div class="topbar-inner">
        <!-- View-Toggle wurde in den discover-header verschoben -->
      <div class="spacer"></div>
    </div>
  </div>

  <main>
    <!-- Öffentliche Wochenplan-Ansicht (Magic Link): #/plan/[Anbieter-ID] – Read-Only, 3 Säulen, nur Verkaufspreis -->
    <section class="view" id="v-plan-public" style="display:none; min-height:100vh; background:#f8fafc; padding:0 0 env(safe-area-inset-bottom, 0);">
      <header style="background:#fff; border-bottom:1px solid rgba(0,0,0,0.06); padding:16px 20px; position:sticky; top:0; z-index:50;">
        <div style="display:flex; align-items:center; gap:12px;">
          <div id="planPublicLogo" style="width:48px; height:48px; border-radius:14px; background:#f1f3f5; background-size:cover; background-position:center;"></div>
          <div>
            <h1 id="planPublicName" style="margin:0; font-size:20px; font-weight:900; color:#1a1a1a; letter-spacing:-0.02em;">Wochenplan</h1>
            <p style="margin:2px 0 0; font-size:13px; color:#64748b; font-weight:600;">Unser Wochenplan ist online!</p>
          </div>
        </div>
        <a href="#" id="planPublicBack" style="display:inline-flex; align-items:center; gap:6px; margin-top:16px; font-size:14px; font-weight:700; color:var(--brand,#FFD700); text-decoration:none;">← Zur App</a>
      </header>
      <div id="planPublicList" style="max-width:500px; margin:0 auto; padding:20px 16px 24px;"></div>
    </section>

    <!-- CUSTOMER: Discover - App-like UX (Final Spec) -->
    <section class="view customer-view active" id="v-discover">
      <!-- Modern Sticky Header -->
      <header class="cust-header-sticky">
        <div style="display:flex; align-items:center; justify-content:space-between; padding:12px 16px; gap:12px;">
          <div style="flex:1; min-width:0;"></div>
          <!-- Standort in der Mitte -->
          <div style="display:flex; align-items:center; gap:8px; min-width:0; justify-content:center; flex:0 1 auto;">
            <button type="button" id="btnDiscoverLocationGPS" aria-label="Standort per GPS" style="display:flex; align-items:center; justify-content:center; width:40px; height:40px; border-radius:12px; border:none; background:#f1f3f5; color:#1a1a1a; cursor:pointer; flex-shrink:0;">
              <i data-lucide="map-pin" style="width:20px;height:20px;"></i>
            </button>
            <button type="button" id="btnDiscoverLocationText" style="display:flex; flex-direction:column; background:none; border:none; padding:0; cursor:pointer; min-width:0; text-align:center;">
              <span style="font-size:11px; font-weight:800; color:#64748b; text-transform:uppercase; letter-spacing:0.05em;">Dein Standort</span>
              <span id="discoverCurrentLocation" style="font-size:15px; font-weight:700; color:#1a1a1a; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">Standort wählen...</span>
            </button>
          </div>
          <div style="flex:1; display:flex; align-items:center; justify-content:flex-end;">
            <span style="font-family:'Montserrat',sans-serif; font-weight:900; font-size:18px; color:#1a1a1a; letter-spacing:-0.03em;">mittagio</span>
          </div>
        </div>

        <!-- Standort-Dropdown (Bleibt funktional gleich, nur Design-Update) -->
        <div id="discoverLocationExpanded" style="display:none; position:fixed; z-index:99999; background:#fff; border-radius:24px; box-shadow:0 20px 40px rgba(0,0,0,0.15); border:1px solid rgba(0,0,0,0.05); overflow:hidden; min-width:300px; max-width:calc(100vw - 32px); top:80px; left:16px;">
          <div style="padding:24px;">
            <h3 style="margin:0 0 16px; font-size:18px; font-weight:850; letter-spacing:-0.02em;">Wo suchst du?</h3>
            <button type="button" id="discoverLocationBtnNadel" class="btn-cust-primary" style="width:100%; height:56px; border-radius:16px; margin-bottom:16px;">
              <i data-lucide="navigation" style="width:20px;height:20px;"></i>
              <span>Aktueller Standort</span>
            </button>
            <div style="font-size:12px; font-weight:700; color:#94a3b8; text-align:center; margin-bottom:16px; display:flex; align-items:center; gap:10px;">
              <div style="flex:1; height:1px; background:#f1f3f5;"></div><span>ODER</span><div style="flex:1; height:1px; background:#f1f3f5;"></div>
            </div>
            <input type="text" id="discoverLocationInput" placeholder="PLZ oder Stadt..." style="width:100%; height:52px; padding:0 16px; border-radius:14px; border:2px solid #f1f3f5; font-size:16px; background:#f8f9fa; color:#1a1a1a; outline:none; transition:border-color 0.2s; box-sizing:border-box;" />
            <div id="discoverLocationSuggestions" style="max-height:200px; overflow-y:auto; margin-top:8px;"></div>
            <button type="button" id="discoverLocationClose" style="margin-top:16px; width:100%; height:44px; background:none; border:none; font-size:14px; font-weight:700; color:#64748b; cursor:pointer;">Abbrechen</button>
          </div>
        </div>

        <!-- Sticky Bars: Kategorie-Pills (Eintopf, Vesper, Vegetarisch, Snack) + Hunger-Radius -->
        <div id="discoverCategoriesBar" class="discover-header-pills cust-chip-bar" style="padding-top:0; padding-bottom:8px;">
          <!-- Dynamisch: [ 🍲 Eintopf ] [ 🥩 Vesper ] [ 🥗 Vegetarisch ] [ 🥪 Snack ] -->
        </div>
        <div class="discover-radius-row" style="display:flex; align-items:center; gap:8px; padding:6px 16px 10px; flex-wrap:wrap;">
          <button type="button" id="discoverRadiusBtn" class="discover-radius-pill" aria-label="Hunger-Radius">
            <span id="discoverRadiusIcon">📍</span>
            <span id="discoverRadiusLabel">500m</span>
            <i data-lucide="chevron-down" id="discoverRadiusChevron" style="width:14px;height:14px;margin-left:2px;"></i>
          </button>
          <div id="discoverRadiusDropdown" style="display:none; position:absolute; top:100%; left:16px; margin-top:4px; background:#fff; border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,0.12); border:1px solid rgba(0,0,0,0.06); z-index:100; min-width:120px; padding:6px;">
            <button type="button" data-radius="500" class="discover-radius-opt">500m</button>
            <button type="button" data-radius="1000" class="discover-radius-opt">1 km</button>
            <button type="button" data-radius="3000" class="discover-radius-opt">3 km</button>
          </div>
        </div>
        <div id="discoverDaysBar" class="cust-chip-bar" style="padding-top:4px; padding-bottom:12px; border-bottom:1px solid rgba(0,0,0,0.03);">
          <!-- Dynamisch befüllt -->
        </div>
      </header>

      <!-- Listenansicht ("Speisekarte") + Karten-Container (Overlay) – S25 Safe-Area -->
      <main class="discover-main" style="position:relative; padding:16px; padding-bottom:calc(160px + env(safe-area-inset-bottom, 0));">
        <div id="discoverOffers" class="discover-offers-list" style="display:flex; flex-direction:column; gap:16px;">
          <!-- Dynamisch befüllt -->
        </div>

        <!-- Kartenansicht (Hunger-Radar) – Pins mit Preis + Emoji, Tap = Drawer -->
        <div id="discoverMap" class="discover-map-wrap" style="display:none; position:absolute; inset:0; top:0; bottom:80px; padding:16px; padding-bottom:100px;">
          <div id="discoverMapCanvas" class="discover-map-canvas" style="width:100%; height:100%; background:linear-gradient(180deg, #e8f4f8 0%, #f0f7fa 100%); border-radius:20px; position:relative; overflow:hidden;">
            <!-- Pins werden dynamisch eingefügt -->
          </div>
        </div>

        <!-- Pin-Drawer: Applike Bottom-Sheet (Slide-Up), Bild + 3 Säulen -->
        <div id="discoverPinDrawer" class="discover-pin-drawer" style="position:fixed; left:0; right:0; bottom:0; visibility:hidden; background:#fff; border-radius:24px 24px 0 0; box-shadow:0 -8px 32px rgba(0,0,0,0.18); z-index:200; padding:16px 20px calc(20px + env(safe-area-inset-bottom)); max-height:55vh; overflow-y:auto;">
          <div class="discover-pin-drawer-handle" style="width:44px; height:5px; background:#d1d5db; border-radius:3px; margin:0 auto 16px;"></div>
          <div id="discoverPinDrawerImageWrap" style="width:100%; height:180px; border-radius:16px; background:#f1f3f5; overflow:hidden;"><img id="discoverPinDrawerImage" alt="" style="width:100%; height:100%; object-fit:cover;"></div>
          <div id="discoverPinDrawerTitle" style="font-size:20px; font-weight:800; margin:14px 0 10px;"></div>
          <div id="discoverPinDrawerPillars" class="card-pillars" style="display:flex; gap:14px; margin-bottom:16px;"></div>
          <button type="button" class="btn-cust-primary" id="discoverPinDrawerBtn" style="width:100%; min-height:56px; border-radius:16px; font-size:16px; font-weight:800;">Gericht ansehen</button>
        </div>
        <div id="discoverPinDrawerBackdrop" style="position:fixed; inset:0; background:rgba(0,0,0,0.4); z-index:199; opacity:0; visibility:hidden;" onclick="closeDiscoverPinDrawer()"></div>

        <!-- Leerer Feed (Empty State): kein weißer Schirm – freundliche Ansage + Standort ändern -->
        <div id="discoverEmpty" style="display:none; text-align:center; padding:48px 24px 60px;">
          <div style="width:160px; height:160px; margin:0 auto 24px; border-radius:24px; overflow:hidden; box-shadow:0 8px 32px rgba(0,0,0,0.08); background:#f8f9fa;">
            <img src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?auto=format&amp;fit=crop&amp;w=400&amp;q=80" alt="" style="width:100%; height:100%; object-fit:cover;" loading="lazy" />
          </div>
          <h2 style="font-size:22px; font-weight:850; margin:0 0 12px; color:#1a1a1a; letter-spacing:-0.02em;">Hunger?</h2>
          <p style="font-size:15px; color:#64748b; line-height:1.6; margin-bottom:28px; max-width:320px; margin-left:auto; margin-right:auto;">Momentan gibt es keine aktiven Angebote in deiner Nähe. Schau später nochmal vorbei oder ändere deinen Standort.</p>
          <button class="btn-cust-primary" type="button" onclick="openDiscoverLocationSearch();" style="width:100%; max-width:280px; margin:0 auto;">
            <i data-lucide="map-pin" style="width:20px;height:20px;"></i>
            <span>Standort ändern</span>
          </button>
        </div>

        <!-- Switch-Button: unten Mitte – [ 🗺️ Karte ] in Liste, [ ☰ Liste ] in Karte -->
        <button type="button" id="discoverViewSwitchBtn" class="discover-view-switch" aria-label="Ansicht wechseln">
          <span id="discoverViewSwitchIcon">🗺️</span>
          <span id="discoverViewSwitchLabel">Karte</span>
        </button>
      </main>
    </section>

    <!-- Provider-Billing: einheitlich helles Layout -->
    <section class="view" id="v-provider-billing" style="min-height:100vh; padding:20px; padding-bottom:90px;">
      <div class="provider-header-bar">
        <h1>Finanzen & Abrechnung</h1>
        <button id="btnBillingBack" class="btn-back" type="button">
          <i data-lucide="chevron-left" style="width:24px; height:24px;"></i> Zurück
        </button>
      </div>

      <!-- Karte 1: Meine Kontodaten -->
      <div class="panel" id="billingCardKontodaten" style="border-radius:16px; padding:24px; margin-bottom:20px; box-shadow:0 2px 12px rgba(0,0,0,0.06); border:1px solid rgba(0,0,0,0.04);">
        <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:16px;">
          <span style="font-size:15px; font-weight:700; color:#1a1a1a;">Meine Kontodaten</span>
          <span id="billingKontodatenStatus" style="font-size:12px; font-weight:700; padding:6px 12px; border-radius:20px; background:rgba(34,197,94,0.15); color:#16a34a;">Hinterlegt</span>
        </div>
        <div style="background:#f8f7f2; border-radius:12px; padding:16px 20px; margin-bottom:16px; border:1px solid rgba(0,0,0,0.06);">
          <div style="font-size:14px; color:#64748b; margin-bottom:4px;">Kartenvorschau</div>
          <div id="billingKartenvorschau" style="font-size:18px; font-weight:700; color:#1a1a1a; letter-spacing:2px;">•••• •••• •••• 1234</div>
        </div>
        <button type="button" id="btnBillingZahlungsmittel" style="width:100%; padding:14px; border-radius:12px; border:2px solid rgba(0,0,0,0.1); background:#fff; color:#0A84FF; font-weight:700; font-size:15px; cursor:pointer;">Zahlungsmittel ändern</button>
      </div>

      <!-- Karte 2: Tagesabrechnungen (Live-Umsatz heute) -->
      <div class="panel" id="billingCardTagesabrechnungen" style="border-radius:16px; padding:24px; margin-bottom:20px; box-shadow:0 2px 12px rgba(0,0,0,0.06); border:1px solid rgba(0,0,0,0.04); background:#fff;">
        <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:16px;">
          <span style="font-size:15px; font-weight:700; color:#1a1a1a;">Tagesumsatz (heute)</span>
          <span id="billingTodayRevenue" style="font-size:18px; font-weight:950; color:#16a34a;">0,00 €</span>
        </div>
        <div id="billingTodayList" style="display:flex; flex-direction:column; gap:8px;">
          <!-- Heute verkaufte Abholnummern -->
        </div>
        <div id="billingTodayEmpty" class="hint" style="color:#64748b; text-align:center; padding:16px 0; display:none;">Noch keine Umsätze heute.</div>
      </div>

      <!-- Karte 3: Meine Abrechnungen -->
      <div class="panel" style="border-radius:16px; padding:24px; box-shadow:0 2px 12px rgba(0,0,0,0.06); border:1px solid rgba(0,0,0,0.04);">
        <div style="font-size:15px; font-weight:700; color:#1a1a1a; margin-bottom:16px;">Meine Abrechnungen</div>
        <div id="billingList" style="display:flex; flex-direction:column; gap:0;">
          <!-- Zeilen: Datum, Posten, Betrag, PDF-Icon – wird von renderBilling befüllt -->
        </div>
        <div id="billingListEmpty" class="hint" style="color:#64748b; text-align:center; padding:32px 16px; display:none;">Noch keine Abrechnungen vorhanden.</div>
      </div>
    </section>

    <!-- Admin-Dashboard: /admin – Clean, modern, KPIs, Inserats-Feed, Buchhaltung, CSV-Export -->
    <section class="view" id="v-admin" style="min-height:100vh; padding:20px; padding-bottom:90px; background:#f8f7f2;">
      <div style="max-width:900px; margin:0 auto;">
        <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:24px;">
          <h1 style="margin:0; font-size:24px; font-weight:900; color:#1a1a1a;">Admin</h1>
          <a href="#" onclick="location.hash=''; showDiscover(); return false;" style="display:inline-flex; align-items:center; gap:6px; font-size:14px; font-weight:700; color:#64748b; text-decoration:none;"><i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück</a>
        </div>
        <!-- KPI-Sektion -->
        <div id="adminKpis" style="display:grid; grid-template-columns:repeat(3, 1fr); gap:16px; margin-bottom:24px;">
          <div style="background:#fff; border-radius:16px; padding:20px; box-shadow:0 2px 12px rgba(0,0,0,0.06); border:1px solid rgba(0,0,0,0.04);">
            <div style="font-size:12px; font-weight:700; color:#64748b; text-transform:uppercase; margin-bottom:4px;">Tagesumsatz</div>
            <div id="adminKpiUmsatz" style="font-size:28px; font-weight:900; color:#16a34a;">0,00 €</div>
          </div>
          <div style="background:#fff; border-radius:16px; padding:20px; box-shadow:0 2px 12px rgba(0,0,0,0.06); border:1px solid rgba(0,0,0,0.04);">
            <div style="font-size:12px; font-weight:700; color:#64748b; text-transform:uppercase; margin-bottom:4px;">Aktive Inserate</div>
            <div id="adminKpiInserate" style="font-size:28px; font-weight:900; color:#1a1a1a;">0</div>
          </div>
          <div style="background:#fff; border-radius:16px; padding:20px; box-shadow:0 2px 12px rgba(0,0,0,0.06); border:1px solid rgba(0,0,0,0.04);">
            <div style="font-size:12px; font-weight:700; color:#64748b; text-transform:uppercase; margin-bottom:4px;">Abholnummern gebucht</div>
            <div id="adminKpiAbholnummern" style="font-size:28px; font-weight:900; color:#3b82f6;">0</div>
          </div>
        </div>
        <!-- Inserats-Feed (Live-Angebote, 3 Säulen) -->
        <div style="background:#fff; border-radius:16px; padding:20px; margin-bottom:24px; box-shadow:0 2px 12px rgba(0,0,0,0.06);">
          <div style="font-size:15px; font-weight:800; color:#1a1a1a; margin-bottom:16px;">Inserats-Feed (Live)</div>
          <div id="adminFeedList" style="display:flex; flex-direction:column; gap:12px;"></div>
        </div>
        <!-- Buchhaltungs-Tabelle + Summenzeile + CSV -->
        <div style="background:#fff; border-radius:16px; padding:20px; margin-bottom:24px; box-shadow:0 2px 12px rgba(0,0,0,0.06); overflow-x:auto;">
          <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:16px;">
            <div style="font-size:15px; font-weight:800; color:#1a1a1a;">Buchhaltung</div>
            <button type="button" id="adminBtnCsvExport" style="padding:10px 18px; border-radius:10px; border:none; background:#FFD700; color:#1a1a1a; font-weight:800; font-size:14px; cursor:pointer;">CSV-Export</button>
          </div>
          <table style="width:100%; border-collapse:collapse; font-size:14px;">
            <thead>
              <tr style="border-bottom:2px solid #e5e7eb;">
                <th style="text-align:left; padding:12px 8px; color:#64748b; font-weight:700;">Datum</th>
                <th style="text-align:left; padding:12px 8px; color:#64748b; font-weight:700;">Anbieter</th>
                <th style="text-align:left; padding:12px 8px; color:#64748b; font-weight:700;">Inserat-ID</th>
                <th style="text-align:right; padding:12px 8px; color:#64748b; font-weight:700;">Basis (4,99 €)</th>
                <th style="text-align:right; padding:12px 8px; color:#64748b; font-weight:700;">Abholnummer (0,89 €)</th>
                <th style="text-align:right; padding:12px 8px; color:#64748b; font-weight:700;">Gesamtbetrag</th>
              </tr>
            </thead>
            <tbody id="adminTableBody"></tbody>
            <tfoot>
              <tr id="adminTableSum" style="border-top:2px solid #1a1a1a; font-weight:800; background:#f8f7f2;"></tr>
            </tfoot>
          </table>
        </div>
      </div>
    </section>

    <!-- CUSTOMER: Favorites – Fokus auf HEUTE, 2x2 Grid, Pull-to-Reveal -->
    <section class="view customer-view" id="v-fav">
      <header class="cust-header-sticky">
        <div style="display:flex; align-items:center; justify-content:space-between; padding:12px 16px;">
          <h1 style="font-size:20px; font-weight:950; letter-spacing:-0.03em; color:#1a1a1a; margin:0;">Deine Favoriten ⚡</h1>
          <button type="button" id="btnFavShareHeader" aria-label="Teilen" style="width:40px; height:40px; border-radius:12px; background:#f1f3f5; border:none; display:flex; align-items:center; justify-content:center; cursor:pointer; color:#1a1a1a;">
            <i data-lucide="share-2" style="width:20px;height:20px;"></i>
          </button>
        </div>
      </header>

      <div style="padding-bottom:120px;">
        <!-- Empty State -->
        <div id="favEmptyState" style="display:none; flex-direction:column; align-items:center; text-align:center; padding:80px 20px;">
          <div style="width:120px; height:120px; margin-bottom:24px; background:rgba(255,215,0,0.1); border-radius:40px; display:flex; align-items:center; justify-content:center;">
            <i data-lucide="heart" style="width:48px; height:48px; color:#1a1a1a;"></i>
          </div>
          <h2 style="font-size:22px; font-weight:850; margin:0 0 12px; color:#1a1a1a; letter-spacing:-0.02em;">Deine Favoriten sind leer</h2>
          <p style="font-size:15px; color:#64748b; line-height:1.6; margin-bottom:32px; max-width:280px;">Sichere dir dein Mittagessen! Markiere Gerichte mit ❤️ – sie landen hier bei deinen Favoriten.</p>
          <button class="btn-cust-primary" type="button" onclick="showDiscover();" style="width:100%; max-width:260px; margin:0 auto; background:var(--brand); color:#1a1a1a;">
            <i data-lucide="compass" style="width:20px;height:20px;"></i>
            <span>Jetzt entdecken</span>
          </button>
        </div>
        
        <div id="favContent" style="display:none;">
          <!-- 2x2 Grid für Gerichte -->
          <div id="sectionDishesWrapper" style="padding:20px 0;">
            <h3 style="padding:0 20px; margin:0 0 16px; font-size:15px; font-weight:800; color:#64748b; text-transform:uppercase; letter-spacing:0.05em;">Gerichte in deiner Box</h3>
            <div id="favDishes" class="fav-grid">
              <!-- Dynamisch befüllt (fav-card) -->
            </div>
            
            <div id="emptyFavDishes" style="display:none; text-align:center; padding:40px 20px; margin:0 20px; background:#f8f9fa; border-radius:24px; border:2px dashed #e2e8f0;">
              <p style="font-size:14px; font-weight:700; color:#64748b; margin:0;">Noch keine Gerichte in der Box.</p>
            </div>
          </div>
          
          <!-- Trenner -->
          <div id="favProviderSeparator" style="height:32px; border-bottom:1px solid rgba(0,0,0,0.05); margin-bottom:32px;"></div>
          
          <!-- Lieblings-Anbieter -->
          <div id="sectionProvidersWrapper" style="padding:20px 0; border-top:1px solid rgba(0,0,0,0.03);">
            <h3 style="padding:0 20px; margin:0 0 16px; font-size:15px; font-weight:800; color:#64748b; text-transform:uppercase; letter-spacing:0.05em;">Deine Lieblings-Betriebe</h3>
            <div id="favProviders" style="display:flex; flex-direction:column; gap:12px; padding:0 20px;">
              <!-- Dynamisch befüllt -->
            </div>
          </div>
          
          <!-- Pull-to-Reveal: Nächste Tage erst nach Nach-unten-ziehen sichtbar -->
          <div id="favPullHint" style="display:none; text-align:center; padding:16px; margin-top:24px; font-size:13px; color:#999; font-weight:500;">
            Nach unten ziehen für Morgen &amp; Übermorgen
          </div>
          <div id="favUpcomingPreview" style="margin-top:16px; display:none; opacity:0; transition:opacity 0.3s ease;">
            <div class="section-title" style="margin-bottom:16px; font-size:18px; font-weight:800; color:#1a1a1a; padding:0 20px;">Morgen &amp; Übermorgen</div>
            <div id="favUpcomingDays" style="display:flex; flex-direction:column; gap:16px; padding:0 20px;"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- CUSTOMER: Orders (Applike: Sticky Header + Karten wie v-fav/v-cart) -->
    <section class="view customer-view" id="v-orders">
      <header class="cust-header-sticky">
        <div style="display:flex; align-items:center; justify-content:space-between; padding:12px 16px;">
          <div>
            <h1 style="font-size:20px; font-weight:950; letter-spacing:-0.03em; color:#1a1a1a; margin:0;">Aktive Abholnummern</h1>
            <p style="font-size:13px; font-weight:600; color:#64748b; margin:4px 0 0;">Deine Bestellungen im Überblick</p>
          </div>
        </div>
      </header>

      <div style="padding:16px; padding-bottom:120px;">
        <div class="cust-chip-bar" id="ordersFilters" style="margin-bottom:20px; padding:0 0 12px 0;"></div>
        <!-- Empty State (sichtbar nur wenn keine Bestellungen) -->
        <div id="ordersEmptyState" style="display:flex; flex-direction:column; align-items:center; text-align:center; padding:48px 20px; background:#f8f9fa; border-radius:24px; border:2px dashed #e2e8f0;">
          <div style="width:80px; height:80px; margin-bottom:20px; background:rgba(255,215,0,0.12); border-radius:24px; display:flex; align-items:center; justify-content:center;">
            <i data-lucide="receipt" style="width:36px; height:36px; color:#1a1a1a;"></i>
          </div>
          <p style="font-size:16px; font-weight:700; color:#1a1a1a; margin:0 0 8px;">Noch keine Bestellungen</p>
          <p style="font-size:14px; color:#64748b; line-height:1.5; margin:0 0 24px;">Sichere dir dein Mittagessen in der Mittagsbox.</p>
          <button class="btn-cust-primary" type="button" onclick="showView('v-cart');" style="max-width:260px;">
            <i data-lucide="shopping-bag" style="width:18px;height:18px;"></i>
            <span>Zur Mittagsbox</span>
          </button>
        </div>
        <div id="ordersList" style="display:none;"></div>
      </div>
    </section>

    <!-- CUSTOMER: Cart -->
    <section class="view customer-view" id="v-cart">
      <header class="cust-header-sticky">
        <div style="display:flex; align-items:center; padding:12px 16px;">
          <h1 style="font-size:20px; font-weight:950; letter-spacing:-0.03em; color:#1a1a1a; margin:0;">Mittagsbox heute ⚡</h1>
        </div>
      </header>

      <div style="padding:16px; padding-bottom:120px; display:flex; flex-direction:column; gap:16px;">
        <!-- Aktive Abholnummern -->
        <div class="cust-card" id="cartActiveAbholnummern" style="padding:20px; border:2px dashed var(--brand); background:rgba(255,215,0,0.05); display:none;">
          <h3 style="margin:0 0 16px; font-size:16px; font-weight:850; color:#1a1a1a; display:flex; align-items:center; gap:10px;">
            <span>🧾</span> Aktive Abholnummern
          </h3>
          <div id="cartActiveAbholnummernList" style="display:flex; flex-direction:column; gap:12px;"></div>
        </div>
        
        <!-- Warenkorb Items -->
        <div class="cust-card" style="padding:20px;">
          <div id="cartBox" class="hint" style="text-align:center; padding:40px 0;">Deine Mittagsbox ist noch leer. Such dir was Leckeres aus.</div>
          
          <!-- Verzehrart -->
          <div id="cartVerzehrart" style="margin-top:20px; padding-top:20px; border-top:1px solid #f1f3f5; display:none;">
            <label style="display:block; font-weight:800; font-size:14px; margin-bottom:12px; color:#64748b; text-transform:uppercase;">Wo möchtest du essen?</label>
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
              <button type="button" id="cartBtnVorOrt" class="cust-chip" style="height:48px; border-radius:14px; font-size:14px;">🍴 Vor Ort</button>
              <button type="button" id="cartBtnMitnehmen" class="cust-chip" style="height:48px; border-radius:14px; font-size:14px;">🔄 Mitnehmen</button>
            </div>
          </div>

          <button class="btn-cust-primary" id="btnCheckout" style="display:none; width:100%; margin-top:24px;">
            <span>Abholnummer sichern</span>
            <i data-lucide="arrow-right" style="width:20px;height:20px;"></i>
          </button>
        </div>

        <div id="cartTrustIcons" style="display:none; text-align:center; padding:0 20px;">
          <div style="display:inline-flex; align-items:center; gap:8px; padding:8px 16px; background:#f8f9fa; border-radius:99px; font-size:12px; font-weight:700; color:#64748b;">
            <span>🧾</span> Abholnummer wird sofort generiert
          </div>
        </div>
      </div>
    </section>
    
    <!-- CUSTOMER: One-Page Checkout (Checkout-Turbo) -->
    <section class="view" id="v-checkout" style="min-height:100vh; background:var(--bg);">
      <div style="padding:16px; padding-bottom:calc(90px + env(safe-area-inset-bottom, 0px)); max-width:600px; margin:0 auto;">
        <div class="panel" style="padding:20px; border-radius:24px; box-shadow:0 4px 16px rgba(0,0,0,.08); background:rgba(255,255,255,0.95); backdrop-filter:blur(20px); -webkit-backdrop-filter:blur(20px);">
          <div style="display:flex; align-items:center; gap:12px; margin-bottom:16px;">
            <button class="back-button btn-back" type="button" id="btnCheckoutBack" aria-label="Zurück" style="background:none; border:none; padding:8px; cursor:pointer; font-size:16px; font-weight:700; color:#2D3436;">
              <i data-lucide="chevron-left" style="width:22px;height:22px;"></i> Zurück
            </button>
            <h3 style="margin:0; flex:1; font-weight:900; font-size:24px; color:#2D3436;">Zahlung</h3>
          </div>
          
          <!-- Bestellübersicht -->
          <div id="checkoutSummary" style="margin-bottom:16px; padding:16px; background:#f8f9fa; border-radius:16px;">
            <!-- Wird dynamisch befüllt -->
          </div>
          
          <!-- Verzehrart (Vor Ort / Mitnehmen) -->
          <div id="checkoutVerzehrart" style="margin-bottom:24px;">
            <label style="display:block; font-weight:700; font-size:15px; margin-bottom:12px; color:#2D3436;">Wo möchtest du essen?</label>
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
              <button type="button" id="checkoutBtnVorOrt" class="verzehrmodus-checkout-btn" data-mode="vor_ort" style="padding:14px 16px; border-radius:14px; border:2px solid #e7e1d5; background:#fff; color:#666; font-weight:600; font-size:15px; cursor:pointer; transition:all 0.2s ease;">🍴 Vor Ort</button>
              <button type="button" id="checkoutBtnMitnehmen" class="verzehrmodus-checkout-btn" data-mode="mitnehmen" style="padding:14px 16px; border-radius:14px; border:2px solid #e7e1d5; background:#fff; color:#666; font-weight:600; font-size:15px; cursor:pointer; transition:all 0.2s ease;">🔄 Mitnehmen</button>
            </div>
          </div>
          <!-- Verpackung (nur bei Mitnehmen) – Säule 3 🔄 -->
          <div id="checkoutVerpackung" style="display:none; margin-bottom:24px;">
            <label style="display:block; font-weight:700; font-size:15px; margin-bottom:12px; color:#2D3436;">Verpackung</label>
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
              <button type="button" id="checkoutBtnEigenerBehaeltner" class="verpackung-btn" data-verpackung="eigener_behaeltner" style="padding:12px 14px; border-radius:12px; border:2px solid #e7e1d5; background:#fff; color:#666; font-weight:600; font-size:14px; cursor:pointer; transition:all 0.2s ease; text-align:center;">Eigener Behälter<br><span style="font-size:12px; font-weight:700; color:#27AE60;">0,00 €</span></button>
              <button type="button" id="checkoutBtnMehrweg" class="verpackung-btn" data-verpackung="mehrweg" style="padding:12px 14px; border-radius:12px; border:2px solid #e7e1d5; background:#fff; color:#666; font-weight:600; font-size:14px; cursor:pointer; transition:all 0.2s ease; text-align:center;">Mehrweg-System 🔄<br><span style="font-size:12px; font-weight:700; color:#64748b;">Pfand/Aufpreis</span></button>
            </div>
          </div>
          <!-- Abholzeit-Auswahl (15-Minuten-Takt) -->
          <div style="margin-bottom:24px;">
            <label style="display:block; font-weight:700; font-size:15px; margin-bottom:12px; color:#2D3436;">Wann holst du dein Essen ab?</label>
            <div id="checkoutTimeSlots" style="display:grid; grid-template-columns:repeat(3, 1fr); gap:10px; margin-bottom:12px;">
              <!-- Wird dynamisch befüllt -->
            </div>
            <button type="button" id="btnOtherTime" class="time-chip-alternative" style="width:100%; min-height:44px; margin-top:8px; background:#f0f0f0; border:2px dashed #e7e1d5; border-radius:12px; color:#666; font-size:14px; font-weight:600; cursor:pointer; transition:all 0.2s ease; display:flex; align-items:center; justify-content:center; gap:8px;" onmouseover="this.style.borderColor='#FFD700'; this.style.background='rgba(255,215,0,0.1)'; this.style.color='#334155';" onmouseout="this.style.borderColor='#e7e1d5'; this.style.background='#f0f0f0'; this.style.color='#666';">
              <i data-lucide="clock" style="width:18px;height:18px;"></i>
              <span>🕒 Andere Zeit</span>
            </button>
            <div id="customTimeInputWrapper" style="display:none; margin-top:15px; padding:15px; background:#fff9e6; border-radius:12px; text-align:center;">
              <input type="time" id="checkoutPickupTimeCustom" min="11:30" max="14:00" style="width:100%; padding:14px; border:2px solid #FFD700; border-radius:12px; font-size:18px; font-weight:700; background:#fff; text-align:center; margin-bottom:8px;" />
              <p class="hint" style="font-size:12px; color:#666; margin:0; line-height:1.5;">Bitte zwischen 11:30 und 14:00 Uhr wählen</p>
            </div>
            <input type="hidden" id="checkoutPickupTime" value="" />
          </div>
          
          <!-- Kontaktdaten (minimal) -->
          <div style="margin-bottom:24px;">
            <label style="display:block; font-weight:700; font-size:15px; margin-bottom:12px; color:#2D3436;">Name (für Abholung)</label>
            <input type="text" id="checkoutName" placeholder="Dein Name" style="width:100%; padding:14px; border:2px solid #e7e1d5; border-radius:12px; font-size:16px; background:#fff;" />
          </div>
          
          <div style="margin-bottom:24px;">
            <label style="display:block; font-weight:700; font-size:15px; margin-bottom:12px; color:#2D3436;">E-Mail (optional, für Beleg)</label>
            <input type="email" id="checkoutEmail" placeholder="email@beispiel.de" style="width:100%; padding:14px; border:2px solid #e7e1d5; border-radius:12px; font-size:16px; background:#fff;" />
          </div>
          
          <!-- Zahlungsmethoden -->
          <div style="margin-bottom:24px;">
            <label style="display:block; font-weight:700; font-size:15px; margin-bottom:12px; color:#2D3436;">Zahlungsart</label>
            <div id="checkoutPaymentMethods" style="display:flex; flex-direction:column; gap:12px;">
              <!-- Apple Pay / Google Pay Buttons (wenn verfügbar) -->
              <button class="btn" type="button" id="btnApplePay" style="display:none; width:100%; min-height:56px; background:#000; color:#fff; border:none; border-radius:12px; font-size:16px; font-weight:700; margin-bottom:8px;">
                <span style="font-size:20px;">🍎</span> Apple Pay
              </button>
              <button class="btn" type="button" id="btnGooglePay" style="display:none; width:100%; min-height:56px; background:#4285F4; color:#fff; border:none; border-radius:12px; font-size:16px; font-weight:700; margin-bottom:8px;">
                <span style="font-size:20px;">G</span> Google Pay
              </button>
              <!-- Standard Zahlung -->
              <button class="btn" type="button" id="btnStandardPayment" style="width:100%; min-height:56px; background:#FFD700; color:#334155; border:none; border-radius:12px; font-size:16px; font-weight:800; box-shadow:0 4px 16px rgba(255,215,0,0.25);">
                <i data-lucide="credit-card"></i> <span>Mit Karte bezahlen</span>
              </button>
            </div>
          </div>
          
          <!-- Guest-Checkout Hinweis -->
          <div style="padding:16px; background:rgba(255,184,0,0.08); border-radius:12px; font-size:13px; color:#666; line-height:1.5; text-align:center; margin-top:20px;">
            Kein Account nötig. Nach dem Kauf kannst du optional ein Passwort festlegen, um Belege zu speichern.
          </div>
        </div>
      </div>
    </section>

    <!-- CUSTOMER: Pickup Code (Dynamisch generiert) -->
    <div id="pickupCodeContainer"></div>

    <!-- CUSTOMER: AbholBestätigung (Success-View nach Zahlung) -->
    <section class="view customer-view" id="v-order-success" style="display:none; padding:24px 16px calc(90px + env(safe-area-inset-bottom, 0px)); min-height:100vh; background:var(--bg);">
      <div class="panel" style="padding:28px; border-radius:24px; box-shadow:0 10px 30px rgba(0,0,0,.06); background:#fff; border:1px solid rgba(0,0,0,.02); max-width:420px; margin:0 auto;">
        <div style="text-align:center; margin-bottom:24px;">
          <span style="font-size:48px;">🧾</span>
          <h2 style="font-family:'Nunito',sans-serif; font-weight:800; font-size:20px; margin:16px 0 8px; color:#1a1a1a;">Zahlung erfolgreich</h2>
          <p class="hint" style="font-size:14px; color:#64748b; margin:0;">Zeige diese Nummer beim Abholen vor.</p>
        </div>
        <div style="text-align:center; padding:20px; background:rgba(255,215,0,0.12); border-radius:16px; border:2px solid rgba(255,215,0,0.3); margin-bottom:24px;">
          <div style="font-size:13px; font-weight:700; color:#64748b; margin-bottom:6px;">Deine Nummer</div>
          <div id="orderSuccessAbholnummer" style="font-family:monospace; font-size:32px; font-weight:900; letter-spacing:4px; color:#1a1a1a;">#1A</div>
        </div>
        <div id="orderSuccessSummary" style="display:flex; flex-direction:column; gap:12px; margin-bottom:24px;">
          <div id="orderSuccessZeit" style="display:flex; align-items:center; gap:10px; padding:12px 16px; background:#f8f9fa; border-radius:12px; font-size:15px; font-weight:600; color:#334155;"><span style="font-size:20px;">🕒</span> Abholung um 12:15 Uhr</div>
          <div id="orderSuccessModus" style="display:flex; align-items:center; gap:10px; padding:12px 16px; background:#f8f9fa; border-radius:12px; font-size:15px; font-weight:600; color:#334155;"><span style="font-size:20px;">🍴</span> Vor Ort</div>
          <div id="orderSuccessVerpackung" style="display:none; align-items:center; gap:10px; padding:12px 16px; background:#f8f9fa; border-radius:12px; font-size:15px; font-weight:600; color:#334155;"><span style="font-size:20px;">🔄</span> Mehrweg-System</div>
        </div>
        <p class="hint" style="text-align:center; font-size:13px; color:#94a3b8; margin:0 0 16px;">Der Anbieter wurde informiert und bereitet deine Bestellung vor.</p>
        <button type="button" id="btnOrderSuccessKollegen" style="width:100%; min-height:48px; padding:0 20px; border-radius:14px; border:2px solid #e5e7eb; background:#fff; color:#64748b; font-weight:700; font-size:15px; cursor:pointer; margin-bottom:12px; display:flex; align-items:center; justify-content:center; gap:8px;">
          <i data-lucide="users" style="width:20px;height:20px;"></i> Kollegen bescheid geben
        </button>
        <button type="button" id="btnOrderSuccessDone" style="width:100%; min-height:52px; padding:0 20px; border-radius:16px; border:none; background:#FFD700; color:#1a1a1a; font-weight:800; font-size:16px; cursor:pointer; box-shadow:0 4px 0 0 #d1b600;">Erledigt</button>
      </div>
    </section>

    <!-- CUSTOMER: Profile "Meins" – App-like: Abholnummer groß oben, dann Historie, Rest im Zahnrad-Menü -->
    <section class="view customer-view" id="v-profile">
      <header class="cust-header-sticky">
        <div style="display:flex; align-items:center; justify-content:space-between; padding:12px 16px;">
          <h1 style="font-size:20px; font-weight:950; letter-spacing:-0.03em; color:#1a1a1a; margin:0;">Meins</h1>
          <div style="display:flex; align-items:center; gap:8px;">
            <button type="button" id="btnProfileProviderPortal" aria-label="Zum Anbieter-Portal" onclick="if(window.showProviderLoginModal) window.showProviderLoginModal();" style="width:40px; height:40px; border-radius:12px; background:rgba(255,215,0,0.25); border:none; display:flex; align-items:center; justify-content:center; cursor:pointer;">
              <i data-lucide="building" style="width:20px;height:20px;color:#1a1a1a;pointer-events:none;"></i>
            </button>
            <button type="button" id="btnProfileSettings" aria-label="Einstellungen" onclick="openProfileSettingsSheet()" style="width:40px; height:40px; border-radius:12px; background:#f1f3f5; border:none; display:flex; align-items:center; justify-content:center; cursor:pointer;">
              <i data-lucide="settings" style="width:20px;height:20px;color:#1a1a1a;"></i>
            </button>
            <button type="button" onclick="showView('v-discover')" style="width:40px; height:40px; border-radius:12px; background:#f1f3f5; border:none; display:flex; align-items:center; justify-content:center; cursor:pointer;">
              <i data-lucide="x" style="width:20px;height:20px;color:#1a1a1a;"></i>
            </button>
          </div>
        </div>
      </header>

      <div style="padding:40px 16px 120px; display:flex; flex-direction:column; gap:20px;">
        <!-- Kurz Identität (Avatar + Name), nur wenn eingeloggt -->
        <div class="cust-card" id="profileHeaderCard" style="padding:16px 20px; flex-direction:row; align-items:center; gap:12px; margin-bottom:0; background:none; border:none; box-shadow:none;">
          <!-- Wird dynamisch befüllt -->
        </div>

        <!-- Abholnummer GROSS oben (app-like) -->
        <div id="profileAbholnummerSection" style="display:none;">
          <div id="profileActiveAbholnummernList" style="display:flex; flex-direction:column; gap:16px;"></div>
        </div>

        <!-- Keine aktive Abholnummer: Hinweis -->
        <div id="profileNoAbholnummerHint" style="display:none; padding:24px; text-align:center; background:#f8f9fa; border-radius:20px; border:2px dashed #e2e8f0;">
          <div style="font-size:40px; margin-bottom:12px;">🧾</div>
          <div style="font-size:15px; font-weight:700; color:#64748b;">Heute keine Abholnummer</div>
          <div style="font-size:13px; color:#94a3b8; margin-top:4px;">Bestellungen erscheinen hier</div>
        </div>

        <!-- Meine Bestellungen / Food-Historie (immer sichtbar) -->
        <div class="cust-card" style="padding:20px; margin-bottom:0;">
          <h3 style="margin:0 0 16px; font-size:16px; font-weight:900; color:#1a1a1a;">Meine Bestellungen</h3>
          <div id="profileOrderHistoryList" style="display:flex; flex-direction:column; gap:8px;">
            <!-- Dynamisch befüllt -->
          </div>
          <button class="btn ghost" id="btnProfileShowAllOrders" style="width:100%; margin-top:12px; height:44px; font-size:14px; font-weight:700; color:#64748b; border:1px solid #f1f3f5; border-radius:12px;">Alle Bestellungen anzeigen</button>
        </div>

        <!-- Versteckte Bereiche für Zahnrad-Menü (Inhalt wird in Sheet geduplt / per ID referenziert) -->
        <div id="profileCollapseData" style="display:none;">
          <div style="margin-bottom:12px;">
            <label style="display:block; font-size:11px; font-weight:700; color:#94a3b8; text-transform:uppercase; margin-bottom:4px;">E-Mail</label>
            <div id="profileDisplayEmail" style="font-size:14px; font-weight:600; color:#1a1a1a;">-</div>
          </div>
          <div>
            <label style="display:block; font-size:11px; font-weight:700; color:#94a3b8; text-transform:uppercase; margin-bottom:4px;">Passwort</label>
            <div style="display:flex; align-items:center; justify-content:space-between;">
              <div style="font-size:14px; font-weight:600; color:#1a1a1a;">••••••••</div>
              <button onclick="showToast('Funktion in der Demo nicht verfügbar')" style="font-size:12px; font-weight:700; color:var(--brand2); background:none; border:none; padding:0; cursor:pointer;">Ändern</button>
            </div>
          </div>
        </div>
        <div id="profileDietCheckboxes" style="display:none;"></div>
        <div id="profileFavProvidersList" style="display:none;"></div>
        <div id="profileTopFaq" style="display:none;"></div>
      </div>
    </section>

    <!-- Zahnrad-Menü: Einstellungen, FAQ, Impressum etc. (Bottom Sheet) -->
    <div id="profileSettingsSheetBd" onclick="closeProfileSettingsSheet()" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.4); z-index:9000; opacity:0; transition:opacity 0.2s; cursor:pointer;"></div>
    <div id="profileSettingsSheet" style="display:none; position:fixed; left:0; right:0; bottom:0; max-height:85vh; background:#fff; border-radius:24px 24px 0 0; box-shadow:0 -8px 32px rgba(0,0,0,0.12); z-index:9001; overflow:hidden; padding-bottom:env(safe-area-inset-bottom, 0);">
      <div style="padding:20px 20px 16px; border-bottom:1px solid #f1f3f5;">
        <div style="width:40px; height:4px; background:#e2e8f0; border-radius:2px; margin:0 auto 16px;"></div>
        <h2 style="margin:0; font-size:18px; font-weight:900; color:#1a1a1a;">Einstellungen & mehr</h2>
      </div>
      <div id="profileSettingsSheetScroll" style="overflow-y:auto; max-height:calc(85vh - 80px); padding:8px 16px 24px;">
        <div id="profileSettingsSheetData" style="display:none; padding:12px 0;">
          <div style="margin-bottom:12px;">
            <label style="display:block; font-size:11px; font-weight:700; color:#94a3b8; margin-bottom:4px;">E-Mail</label>
            <div id="profileDisplayEmailSheet" style="font-size:14px; font-weight:600; color:#1a1a1a;">-</div>
          </div>
          <div>
            <label style="display:block; font-size:11px; font-weight:700; color:#94a3b8; margin-bottom:4px;">Passwort</label>
            <div style="display:flex; align-items:center; justify-content:space-between;">
              <div style="font-size:14px; font-weight:600; color:#1a1a1a;">••••••••</div>
              <button onclick="showToast('Funktion in der Demo nicht verfügbar')" style="font-size:12px; font-weight:700; color:var(--brand2); background:none; border:none; padding:0; cursor:pointer;">Ändern</button>
            </div>
          </div>
        </div>
        <div id="profileSettingsSheetDiet" style="display:none; padding:12px 0;">
          <p style="font-size:13px; color:#64748b; margin-bottom:12px;">Bevorzugt anzeigen</p>
          <div id="profileDietCheckboxesSheet" style="display:flex; flex-direction:column; gap:12px;"></div>
        </div>
        <div id="profileSettingsSheetFavs" style="display:none; padding:12px 0;">
          <div id="profileFavProvidersListSheet" style="display:flex; flex-direction:column; gap:8px;"></div>
        </div>
        <div id="profileSettingsSheetFaq" style="display:none; padding:12px 0;">
          <div id="profileTopFaqSheet" style="display:flex; flex-direction:column; gap:12px;"></div>
          <button onclick="closeProfileSettingsSheet(); showLegalPage('support');" style="width:100%; margin-top:12px; height:48px; background:#f1f3f5; border:none; border-radius:12px; color:#64748b; font-size:14px; font-weight:700; cursor:pointer;">Weitere Fragen (Support)</button>
        </div>
        <div style="display:flex; flex-direction:column; gap:4px;">
          <button onclick="toggleProfileSettingsSection('profileSettingsSheetData')" style="width:100%; padding:16px 20px; background:#f8f9fa; border:none; border-radius:14px; display:flex; align-items:center; gap:12px; cursor:pointer; text-align:left; font-size:15px; font-weight:700; color:#1a1a1a;">
            <i data-lucide="user" style="width:20px;height:20px;color:#64748b;"></i><span>Meine Daten</span><i data-lucide="chevron-down" class="profile-sheet-chevron" data-section="profileSettingsSheetData" style="width:18px;height:18px;color:#cbd5e1;margin-left:auto;"></i>
          </button>
          <button onclick="toggleProfileSettingsSection('profileSettingsSheetDiet')" style="width:100%; padding:16px 20px; background:#f8f9fa; border:none; border-radius:14px; display:flex; align-items:center; gap:12px; cursor:pointer; text-align:left; font-size:15px; font-weight:700; color:#1a1a1a;">
            <i data-lucide="utensils" style="width:20px;height:20px;color:#64748b;"></i><span>Mein Food-Profil</span><i data-lucide="chevron-down" class="profile-sheet-chevron" data-section="profileSettingsSheetDiet" style="width:18px;height:18px;color:#cbd5e1;margin-left:auto;"></i>
          </button>
          <button onclick="toggleProfileSettingsSection('profileSettingsSheetFavs')" style="width:100%; padding:16px 20px; background:#f8f9fa; border:none; border-radius:14px; display:flex; align-items:center; gap:12px; cursor:pointer; text-align:left; font-size:15px; font-weight:700; color:#1a1a1a;">
            <i data-lucide="heart" style="width:20px;height:20px;color:#ef4444;"></i><span>Meine Lieblinge</span><i data-lucide="chevron-down" class="profile-sheet-chevron" data-section="profileSettingsSheetFavs" style="width:18px;height:18px;color:#cbd5e1;margin-left:auto;"></i>
          </button>
          <button onclick="toggleProfileSettingsSection('profileSettingsSheetFaq')" style="width:100%; padding:16px 20px; background:#f8f9fa; border:none; border-radius:14px; display:flex; align-items:center; gap:12px; cursor:pointer; text-align:left; font-size:15px; font-weight:700; color:#1a1a1a;">
            <i data-lucide="help-circle" style="width:20px;height:20px;color:#64748b;"></i><span>FAQ & Support</span><i data-lucide="chevron-down" class="profile-sheet-chevron" data-section="profileSettingsSheetFaq" style="width:18px;height:18px;color:#cbd5e1;margin-left:auto;"></i>
          </button>
          <button onclick="closeProfileSettingsSheet(); showLegalPage('impressum');" style="width:100%; padding:16px 20px; background:#f8f9fa; border:none; border-radius:14px; display:flex; align-items:center; gap:12px; cursor:pointer; text-align:left; font-size:15px; font-weight:700; color:#1a1a1a;">
            <i data-lucide="info" style="width:20px;height:20px;color:#64748b;"></i><span>Impressum</span>
          </button>
          <button onclick="closeProfileSettingsSheet(); showLegalPage('agb-kurz');" style="width:100%; padding:16px 20px; background:#f8f9fa; border:none; border-radius:14px; display:flex; align-items:center; gap:12px; cursor:pointer; text-align:left; font-size:15px; font-weight:700; color:#1a1a1a;">
            <i data-lucide="file-text" style="width:20px;height:20px;color:#64748b;"></i><span>AGB</span>
          </button>
          <button onclick="closeProfileSettingsSheet(); showLegalPage('datenschutz');" style="width:100%; padding:16px 20px; background:#f8f9fa; border:none; border-radius:14px; display:flex; align-items:center; gap:12px; cursor:pointer; text-align:left; font-size:15px; font-weight:700; color:#1a1a1a;">
            <i data-lucide="shield" style="width:20px;height:20px;color:#64748b;"></i><span>Datenschutz</span>
          </button>
          <button onclick="closeProfileSettingsSheet(); (window.openProfilePwaTipSheet||function(){})();" style="width:100%; padding:16px 20px; background:#f8f9fa; border:none; border-radius:14px; display:flex; align-items:center; gap:12px; cursor:pointer; text-align:left; font-size:15px; font-weight:700; color:#1a1a1a;">
            <span style="font-size:20px;">📱</span><span>App herunterladen</span>
          </button>
          <button onclick="closeProfileSettingsSheet(); (window.showProviderLoginModal||function(){})();" style="width:100%; padding:16px 20px; background:rgba(255,215,0,0.2); border:none; border-radius:14px; display:flex; align-items:center; gap:12px; cursor:pointer; text-align:left; font-size:15px; font-weight:700; color:#1a1a1a;">
            <span style="font-size:20px;">🏢</span><span>Zum Anbieter-Portal</span>
          </button>
          <button onclick="closeProfileSettingsSheet(); handleSupportAction('logout');" style="width:100%; padding:16px 20px; background:#fef2f2; border:none; border-radius:14px; display:flex; align-items:center; gap:12px; cursor:pointer; text-align:left; font-size:15px; font-weight:700; color:#b91c1c;">
            <i data-lucide="log-out" style="width:20px;height:20px;"></i><span>Abmelden</span>
          </button>
        </div>
        <p style="text-align:center; font-size:11px; color:#cbd5e1; font-weight:700; margin-top:20px;">mittagio • made with ❤️ in Rudersberg</p>
      </div>
    </div>

    <section class="view" id="v-provider-detail-public">
      <header class="cust-header-sticky">
        <div class="pub-prov-header-row" style="display:flex; align-items:center; gap:12px; padding:14px 16px;">
          <button type="button" class="pub-prov-back-btn" onclick="showView('v-discover')" aria-label="Zurück" style="width:48px; height:48px; border-radius:14px; background:#fff; border:none; display:flex; align-items:center; justify-content:center; cursor:pointer; box-shadow:0 2px 8px rgba(0,0,0,0.06);">
            <i data-lucide="chevron-left" style="width:24px;height:24px;color:#1a1a1a;"></i>
          </button>
          <div style="flex:1; min-width:0;">
            <h1 id="pubProvName" style="font-size:20px; font-weight:950; color:#1a1a1a; margin:0; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; letter-spacing:-0.02em;">Anbieter</h1>
          </div>
          <button type="button" class="pub-prov-fav-btn" id="btnToggleFavProvider" aria-label="Favorit" style="width:48px; height:48px; border-radius:14px; background:#fff; border:none; display:flex; align-items:center; justify-content:center; cursor:pointer; box-shadow:0 2px 8px rgba(0,0,0,0.06);">
            <i data-lucide="heart" style="width:22px;height:22px;color:#E34D4D;"></i>
          </button>
        </div>
      </header>

      <div class="pub-prov-scroll">
        <div style="display:flex; flex-direction:column; gap:24px; max-width:500px; margin:0 auto;">
          <!-- Anbieter Info Card (App-like Hero) -->
          <div class="cust-card pub-prov-hero" style="padding:28px 24px; display:flex; flex-direction:column; align-items:center; text-align:center; gap:16px; background:#fff; border:none; box-shadow:0 4px 20px rgba(0,0,0,0.06); border-radius:24px;">
            <div id="pubProvLogoWrap" style="width:88px; height:88px; border-radius:24px; background:#f1f3f5; display:flex; align-items:center; justify-content:center; font-size:40px; box-shadow:0 8px 24px rgba(0,0,0,0.06); overflow:hidden;">
              <span id="pubProvLogoEmoji">🏢</span>
            </div>
            <div>
              <h2 id="pubProvTitle" style="margin:0; font-size:24px; font-weight:950; color:#1a1a1a; letter-spacing:-0.03em;">Anbieter Name</h2>
              <div id="pubProvAddress" style="font-size:15px; color:#64748b; font-weight:600; margin-top:6px; line-height:1.4;">Straße, PLZ Ort</div>
            </div>
            <div style="display:flex; gap:10px; margin-top:4px; flex-wrap:wrap; justify-content:center;">
              <button type="button" onclick="openGoogleMapsRoute(currentPublicProviderId)" style="min-height:48px; padding:0 20px; border-radius:14px; border:none; background:#f1f3f5; font-size:14px; font-weight:700; color:#1a1a1a; display:inline-flex; align-items:center; gap:8px; cursor:pointer;">
                <i data-lucide="map-pin" style="width:18px;height:18px;"></i> Route
              </button>
              <button type="button" id="pubProvShare" style="min-height:48px; padding:0 20px; border-radius:14px; border:none; background:#f1f3f5; font-size:14px; font-weight:700; color:#1a1a1a; display:inline-flex; align-items:center; gap:8px; cursor:pointer;">
                <i data-lucide="share-2" style="width:18px;height:18px;"></i> Teilen
              </button>
            </div>
          </div>

          <!-- Tagesessen Sektion -->
          <div>
            <h3 class="pub-prov-section-title" style="display:flex; align-items:center; gap:8px;">
              <span>Tagesessen heute</span>
              <span style="padding:3px 10px; background:var(--brand); border-radius:8px; font-size:11px; color:#1a1a1a; font-weight:800;">LIVE</span>
            </h3>
            <div id="pubProvTodayOffers" style="display:flex; flex-direction:column; gap:12px;">
              <!-- Heute Angebote -->
            </div>
          </div>

          <!-- Wochenplan Sektion -->
          <div>
            <h3 class="pub-prov-section-title">Wochenplan</h3>
            <div id="pubProvWeekPlan" style="display:flex; flex-direction:column; gap:12px;">
              <!-- Wochenangebote -->
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- PROVIDER: Login-Seite -->
    <section class="view" id="v-provider-login">
      <div class="panel">
        <h3>Anbieter-Login</h3>
        <div class="hint">Melde dich als Gastronom an</div>
        <input class="field" id="provEmail" type="email" placeholder="E-Mail-Adresse" autocomplete="email" style="margin-top:12px;" />
        <div style="height:10px"></div>
        <input class="field" id="provPass" type="password" placeholder="Passwort" autocomplete="current-password" />
        <button class="btn" type="button" id="btnProvLogin" style="margin-top:16px; background:#6b7280; color:#fff; border:none; transition:all 0.2s ease;" onmouseover="this.style.background='#4b5563';" onmouseout="this.style.background='#6b7280';">Einloggen</button>
        <button class="btn secondary btn-back" type="button" id="btnProvBack" style="margin-top:8px;"><i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück</button>
        <details class="hint" style="margin-top:16px; padding:12px; background:rgba(0,0,0,0.04); border-radius:12px; font-size:13px;">
          <summary style="cursor:pointer; font-weight:600; color:#64748b;">Hilfe? Demo-Zugang</summary>
          <p style="margin:8px 0 0; color:#64748b; line-height:1.5;">Zum Testen: Beliebige E-Mail und Passwort eingeben → Einloggen. (Später: Anmeldung per Firebase.)</p>
        </details>
      </div>
    </section>

    <!-- PROVIDER: Onboarding (ALT) -->
    <section class="view" id="v-provider-onboarding">
      <!-- Schritt 1: Betriebsname -->
      <div class="panel onboarding-step" data-step="1">
        <div class="onboarding-header">
          <div class="onboarding-progress">Schritt 1 von 5</div>
          <button class="btn ghost btn-back" type="button" id="btnOnboardingBack" style="width:auto; padding:8px 12px; margin-top:8px;">
            <i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück
          </button>
        </div>
        <h3 style="margin-top:16px;">Wie heißt dein Betrieb?</h3>
        <div class="hint">Gib den Namen deines Restaurants, Cafés oder Betriebs ein.</div>
        <input class="field" id="onboardingBusinessNameOld" type="text" placeholder="z.B. Metzgerei Kurz" style="margin-top:12px;" />
        <button class="btn" type="button" id="btnOnboardingStep1Next" style="margin-top:16px;">Weiter</button>
      </div>

      <!-- Schritt 2: Adresse -->
      <div class="panel onboarding-step" data-step="2" style="display:none;">
        <div class="onboarding-header">
          <div class="onboarding-progress">Schritt 2 von 5</div>
          <button class="btn ghost btn-back" type="button" id="btnOnboardingStep2Back" style="width:auto; padding:8px 12px; margin-top:8px;">
            <i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück
          </button>
        </div>
        <h3 style="margin-top:16px;">Adresse deines Betriebs</h3>
        <div class="hint">Wo können Gäste dein Essen abholen?</div>
        <div class="loc-row" style="margin-top:12px;">
          <input class="field" id="onboardingAddress" type="text" placeholder="Straße und Hausnummer" />
          <button class="pin-btn" type="button" id="btnOnboardingLocationPin" aria-label="Standort setzen"></button>
        </div>
        <input class="field" id="onboardingPostalCode" type="text" placeholder="PLZ" style="margin-top:10px;" />
        <input class="field" id="onboardingCity" type="text" placeholder="Stadt" style="margin-top:10px;" />
        <button class="btn" type="button" id="btnOnboardingStep2Next" style="margin-top:16px;">Weiter</button>
      </div>

      <!-- Schritt 3: Essenszeit -->
      <div class="panel onboarding-step" data-step="3" style="display:none;">
        <div class="onboarding-header">
          <div class="onboarding-progress">Schritt 3 von 5</div>
          <button class="btn ghost btn-back" type="button" id="btnOnboardingStep3Back" style="width:auto; padding:8px 12px; margin-top:8px;">
            <i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück
          </button>
        </div>
        <h3 style="margin-top:16px;">Wann können Gäste dein Essen genießen?</h3>
        <div class="hint">Wähle die Standard-Zeiten für deine Essensausgabe.</div>
        
        <div style="margin-top:16px;">
          <div class="hint" style="margin-bottom:6px;">Startzeit</div>
          <div class="w-actions">
            <button class="btn secondary time-btn" type="button" data-time="11:00">11:00</button>
            <button class="btn secondary time-btn" type="button" data-time="11:30">11:30</button>
            <button class="btn secondary time-btn" type="button" data-time="12:00">12:00</button>
            <button class="btn secondary time-btn" type="button" data-time="12:30">12:30</button>
          </div>
          <input class="field" id="onboardingMealStart" type="time" placeholder="Startzeit" style="margin-top:10px;" />
        </div>

        <div style="margin-top:16px;">
          <div class="hint" style="margin-bottom:6px;">Endzeit</div>
          <div class="w-actions">
            <button class="btn secondary time-btn" type="button" data-time="14:00">14:00</button>
            <button class="btn secondary time-btn" type="button" data-time="14:30">14:30</button>
            <button class="btn secondary time-btn" type="button" data-time="15:00">15:00</button>
            <button class="btn secondary time-btn" type="button" data-time="15:30">15:30</button>
          </div>
          <input class="field" id="onboardingMealEnd" type="time" placeholder="Endzeit" style="margin-top:10px;" />
        </div>

        <button class="btn" type="button" id="btnOnboardingStep3Next" style="margin-top:20px;">Weiter</button>
      </div>

      <!-- Schritt 4: Logo -->
      <div class="panel onboarding-step" data-step="4" style="display:none;">
        <div class="onboarding-header">
          <div class="onboarding-progress">Schritt 4 von 5</div>
          <button class="btn ghost btn-back" type="button" id="btnOnboardingStep4Back" style="width:auto; padding:8px 12px; margin-top:8px;">
            <i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück
          </button>
        </div>
        <h3 style="margin-top:16px;">Logo hochladen</h3>
        <div class="hint">Optional: Lade ein Logo für deinen Betrieb hoch. Du kannst das auch später machen.</div>
        
        <div style="margin-top:20px; text-align:center;">
          <div class="onboarding-logo-preview" id="onboardingLogoPreview" style="width:120px; height:120px; margin:0 auto; border-radius:18px; border:2px dashed var(--border); background:#f8f7f3; display:flex; align-items:center; justify-content:center; cursor:pointer; position:relative; overflow:hidden;">
            <div style="text-align:center; color:var(--muted); font-size:12px;">
              <div style="font-size:32px; margin-bottom:8px;">📷</div>
              <div>Logo hinzufügen</div>
            </div>
            <img id="onboardingLogoImg" style="display:none; width:100%; height:100%; object-fit:cover;" />
          </div>
          <input type="file" id="onboardingLogoInput" accept="image/*" style="display:none;" />
          <button class="btn secondary" type="button" id="btnOnboardingLogoRemove" style="margin-top:12px; display:none;">Logo entfernen</button>
        </div>

        <button class="btn" type="button" id="btnOnboardingStep4Next" style="margin-top:20px;">Weiter</button>
        <button class="btn ghost" type="button" id="btnOnboardingSkipLogo" style="margin-top:8px;">Überspringen</button>
      </div>

      <!-- Schritt 5: Zusammenfassung -->
      <div class="panel onboarding-step" data-step="5" style="display:none;">
        <div class="onboarding-header">
          <div class="onboarding-progress">Schritt 5 von 5</div>
        </div>
        <h3 style="margin-top:16px;">Profil ist bereit! 🎉</h3>
        <div class="hint">Hier ist eine Zusammenfassung deiner Angaben:</div>
        
        <div class="onboarding-summary" style="margin-top:20px; padding:16px; background:#f8f7f3; border-radius:14px; border:1px solid var(--border);">
          <div class="onboarding-summary-item" style="margin-bottom:12px;">
            <div style="font-weight:900; font-size:14px;" id="summaryBusinessName">–</div>
            <div class="hint" id="summaryAddress" style="margin-top:4px;">–</div>
          </div>
          <div class="onboarding-summary-item" style="margin-bottom:12px;">
            <div class="hint" style="margin-bottom:4px;">Essenszeit</div>
            <div style="font-weight:900;" id="summaryMealTime">–</div>
          </div>
          <div class="onboarding-summary-item" id="summaryLogoContainer" style="display:none;">
            <div class="hint" style="margin-bottom:4px;">Logo</div>
            <div id="summaryLogo" style="width:60px; height:60px; border-radius:12px; overflow:hidden; border:1px solid var(--border);">
              <img id="summaryLogoImg" style="width:100%; height:100%; object-fit:cover;" />
            </div>
          </div>
        </div>

        <button class="btn" type="button" id="btnOnboardingComplete" style="margin-top:24px;">Erstes Gericht erstellen</button>
        <button class="btn secondary" type="button" id="btnOnboardingEdit" style="margin-top:8px;">Angaben bearbeiten</button>
      </div>
    </section>

    <!-- PROVIDER: Onboarding Entry – Speed-Einstieg (unter 30 Sekunden zum Live-Inserat) -->
    <section class="view" id="v-provider-onboarding-entry" style="background:var(--provider-bg); min-height:100vh; padding:20px; display:flex; align-items:center; justify-content:center;">
      <div class="panel" id="onboardingEntryPanel" style="padding:32px 24px; max-width:440px; width:100%; background:#fff; border-radius:28px; box-shadow:0 12px 40px rgba(0,0,0,0.08); border:1px solid rgba(0,0,0,0.04);">
        <div style="width:64px; height:64px; background:var(--brand); border-radius:20px; display:flex; align-items:center; justify-content:center; margin:0 auto 24px; box-shadow:0 8px 20px rgba(255,215,0,0.3);">
          <i data-lucide="zap" style="width:32px; height:32px; color:#1a1a1a;"></i>
        </div>
        <h1 style="font-size:26px; font-weight:950; margin-bottom:12px; line-height:1.2; color:#1a1a1a; text-align:center; letter-spacing:-0.03em;">Sofort verkaufen.<br>Ohne Abo & Vertrag.</h1>
        <p style="font-size:15px; color:#64748b; margin-bottom:28px; text-align:center; line-height:1.5;">Einmalig 4,99 € pro Inserat – unabhängig von der Portionsmenge.</p>
        
        <div style="margin-bottom:24px;">
          <label style="display:block; font-size:13px; font-weight:700; color:#9ca3af; text-transform:uppercase; margin-bottom:8px; letter-spacing:0.03em;">Was bietest du heute an?</label>
          <div style="display:flex; gap:10px;">
            <input type="text" id="onboardingEntryDishInput" class="field" placeholder="z.B. Kürbissuppe …" autocomplete="off" style="flex:1; height:56px; padding:0 18px; font-size:17px; border-radius:16px; border:2px solid #eee;" />
            <button type="button" id="btnOnboardingEntryGo" style="flex-shrink:0; width:56px; height:56px; border-radius:16px; background:#1a1a1a; color:#fff; border:none; display:flex; align-items:center; justify-content:center; cursor:pointer; transition:transform 0.15s;">
              <i data-lucide="arrow-right" style="width:24px;height:24px;"></i>
            </button>
          </div>
        </div>
        
        <button class="btn-primary" type="button" id="btnOnboardingEntryStart" style="width:100%; min-height:60px; background:var(--brand); color:#1a1a1a; font-weight:900; font-size:17px; border:none; border-radius:18px; box-shadow:0 8px 24px rgba(255,215,0,0.4); margin-bottom:12px; display:flex; align-items:center; justify-content:center; gap:10px; cursor:pointer; transition:transform 0.2s, box-shadow 0.2s;">
          <span>Inserat starten</span>
          <i data-lucide="zap" style="width:20px;height:20px;"></i>
        </button>
        
        <button class="btn secondary" type="button" id="btnOnboardingEntryLater" style="width:100%; min-height:48px; background:transparent; color:#64748b; border:none; font-weight:700; font-size:14px; cursor:pointer;">
          Bereits Konto? Login
        </button>
        
        <p style="margin-top:24px; font-size:13px; color:#94a3b8; text-align:center; line-height:1.4;">
          <i data-lucide="clock" style="width:14px;height:14px;display:inline-block;vertical-align:middle;margin-right:4px;"></i> In unter 30 Sekunden live.
        </p>
      </div>
    </section>

    <section class="view onboarding-view" id="v-provider-onboarding-first-dish">
      <div class="panel">
        <h2 style="font-size:24px; font-weight:900; margin-bottom:8px; letter-spacing:-0.02em;">Erstes Gericht anlegen</h2>
        <p style="font-size:15px; color:#64748b; margin-bottom:24px;">Was bietest du heute an? Basis-Infos genügen.</p>
        
        <div style="margin-bottom:20px;">
          <label style="display:block; font-size:13px; font-weight:700; color:#9ca3af; text-transform:uppercase; margin-bottom:8px; letter-spacing:0.03em;">Gerichtname *</label>
          <input class="field" type="text" id="onboardingDishName" placeholder="z.B. Kürbissuppe" required style="width:100%; height:52px; border-radius:12px; border:1.5px solid #eee; padding:0 16px; font-size:16px;" />
        </div>

        <div style="margin-bottom:20px;">
          <label style="display:block; font-size:13px; font-weight:700; color:#9ca3af; text-transform:uppercase; margin-bottom:8px; letter-spacing:0.03em;">Preis (€) *</label>
          <input type="hidden" id="onboardingDishPrice" value="8.50" required />
          <div id="onboardingDishPriceControl" style="display:flex; align-items:center; justify-content:center; gap:12px;">
            <button type="button" class="btn secondary" id="btnOnboardingPriceMinus" style="min-width:52px; min-height:52px; font-size:20px; font-weight:800;">−</button>
            <span id="onboardingDishPriceDisplay" style="font-size:22px; font-weight:900; color:#1a1a1a; min-width:80px; text-align:center; font-variant-numeric:tabular-nums;">8,50 €</span>
            <button type="button" class="btn secondary" id="btnOnboardingPricePlus" style="min-width:52px; min-height:52px; font-size:20px; font-weight:800;">+</button>
          </div>
        </div>

        <div style="margin-bottom:20px;">
          <label style="display:block; font-size:13px; font-weight:700; color:#9ca3af; text-transform:uppercase; margin-bottom:8px; letter-spacing:0.03em;">Kategorie *</label>
          <div style="display:flex; gap:10px;">
            <label class="radio-pill">
              <input type="radio" name="dishDiet" value="Fleisch" required>
              <span style="min-width:80px; text-align:center;">Fleisch</span>
            </label>
            <label class="radio-pill">
              <input type="radio" name="dishDiet" value="Vegetarisch">
              <span style="min-width:80px; text-align:center;">Veggie</span>
            </label>
            <label class="radio-pill">
              <input type="radio" name="dishDiet" value="Vegan">
              <span style="min-width:80px; text-align:center;">Vegan</span>
            </label>
          </div>
        </div>

        <div style="margin-bottom:20px;">
          <label style="display:block; font-size:13px; font-weight:700; color:#9ca3af; text-transform:uppercase; margin-bottom:8px; letter-spacing:0.03em;">Beschreibung <span style="font-weight:400; color:#9ca3af; text-transform:none;">(optional)</span></label>
          <textarea class="field" id="onboardingDishDesc" rows="2" placeholder="z.B. mit frischen Kräutern" style="width:100%; border-radius:12px; border:1.5px solid #eee; padding:12px 16px; font-size:15px; resize:none;"></textarea>
        </div>
        
        <div style="display:flex; gap:12px; margin-bottom:20px;">
          <div style="flex:1;">
            <label style="display:block; font-size:13px; font-weight:700; color:#9ca3af; text-transform:uppercase; margin-bottom:8px;">Von</label>
            <input class="field" type="time" id="onboardingPickupTimeStart" required style="width:100%; height:52px; border-radius:12px; border:1.5px solid #eee; padding:0 16px; font-size:16px;" />
          </div>
          <div style="flex:1;">
            <label style="display:block; font-size:13px; font-weight:700; color:#9ca3af; text-transform:uppercase; margin-bottom:8px;">Bis</label>
            <input class="field" type="time" id="onboardingPickupTimeEnd" required style="width:100%; height:52px; border-radius:12px; border:1.5px solid #eee; padding:0 16px; font-size:16px;" />
          </div>
        </div>
        
        <div style="margin-bottom:24px;">
          <div style="display:flex; gap:12px; margin-bottom:12px;">
            <button class="btn secondary" type="button" id="btnOnboardingAddPhoto" style="flex:1; min-height:52px; background:white; color:#1a1a1a; font-weight:700; border:2px solid #eee; border-radius:14px; display:flex; align-items:center; justify-content:center; gap:8px;">
              <i data-lucide="camera" style="width:20px;height:20px;"></i><span>Kamera</span>
            </button>
            <button class="btn secondary" type="button" id="btnOnboardingChooseProPhoto" style="flex:1; min-height:52px; background:#1a1a1a; color:white; font-weight:700; border:none; border-radius:14px; display:flex; align-items:center; justify-content:center; gap:8px;">
              <i data-lucide="image" style="width:20px;height:20px;"></i><span>Galerie</span>
            </button>
          </div>
          <div id="onboardingPhotoPreview" style="display:none; margin-top:12px; position:relative;">
            <img id="onboardingPhotoPreviewImg" style="width:100%; max-height:200px; object-fit:cover; border-radius:16px; border:1px solid #eee;" />
          </div>
        </div>
      </div>

      <div class="onboarding-actions">
        <button class="secondary btn-back" type="button" id="btnOnboardingFirstDishBack"><i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück</button>
        <button class="btn-primary" type="button" id="btnOnboardingFirstDishNext">Weiter</button>
      </div>
    </section>

    <section class="view onboarding-view" id="v-provider-onboarding-signup">
      <div class="panel">
        <h2 style="font-size:24px; font-weight:900; margin-bottom:8px; letter-spacing:-0.02em;">Speichern & weitermachen</h2>
        <p style="font-size:15px; color:#64748b; margin-bottom:24px;">Erstelle ein kostenloses Konto, um dein Inserat zu sichern.</p>
        
        <div style="margin-bottom:20px;">
          <label style="display:block; font-size:13px; font-weight:700; color:#9ca3af; text-transform:uppercase; margin-bottom:8px; letter-spacing:0.03em;">E-Mail *</label>
          <input class="field" type="email" id="onboardingEmail" placeholder="deine@email.de" required autocomplete="email" style="width:100%; height:52px; border-radius:12px; border:1.5px solid #eee; padding:0 16px; font-size:16px;" />
        </div>
        
        <div style="margin-bottom:24px;">
          <label style="display:block; font-size:13px; font-weight:700; color:#9ca3af; text-transform:uppercase; margin-bottom:8px; letter-spacing:0.03em;">Passwort *</label>
          <input class="field" type="password" id="onboardingPassword" placeholder="Mindestens 8 Zeichen" required autocomplete="new-password" style="width:100%; height:52px; border-radius:12px; border:1.5px solid #eee; padding:0 16px; font-size:16px;" />
        </div>
        
        <div style="margin-top:auto; padding:16px; background:#f8f7f2; border-radius:16px; font-size:13px; color:#64748b; line-height:1.5; border:1px solid rgba(0,0,0,0.03);">
          <i data-lucide="shield-check" style="width:16px;height:16px;display:inline-block;vertical-align:middle;margin-right:4px;color:#1a1a1a;"></i>
          Inseratsgebühr fällt erst bei Veröffentlichung an. Keine versteckten Kosten.
        </div>
      </div>

      <div class="onboarding-actions">
        <button class="secondary" type="button" id="btnOnboardingSignupLater">Login</button>
        <button class="btn-primary" type="button" id="btnOnboardingSignupCreate">Konto erstellen</button>
      </div>
    </section>

    <section class="view onboarding-view" id="v-provider-onboarding-business">
      <div class="panel">
        <h2 style="font-size:24px; font-weight:900; margin-bottom:8px; letter-spacing:-0.02em;">Dein Betrieb</h2>
        <p style="font-size:15px; color:#64748b; margin-bottom:24px;">Fast fertig! Nur noch ein paar Details zu deinem Standort.</p>
        
        <div style="margin-bottom:20px;">
          <label style="display:block; font-size:13px; font-weight:700; color:#9ca3af; text-transform:uppercase; margin-bottom:8px; letter-spacing:0.03em;">Betriebsname *</label>
          <input class="field" type="text" id="onboardingBusinessName" placeholder="z.B. Metzgerei Kurz" required style="width:100%; height:52px; border-radius:12px; border:1.5px solid #eee; padding:0 16px; font-size:16px;" />
        </div>
        
        <div style="margin-bottom:24px;">
          <label style="display:block; font-size:13px; font-weight:700; color:#9ca3af; text-transform:uppercase; margin-bottom:8px; letter-spacing:0.03em;">Stadt oder Adresse *</label>
          <input class="field" type="text" id="onboardingCityOrAddress" placeholder="z.B. Stuttgart" required style="width:100%; height:52px; border-radius:12px; border:1.5px solid #eee; padding:0 16px; font-size:16px;" />
        </div>
        
        <div class="hint" style="font-size:14px; margin-bottom:24px; color:#64748b; line-height:1.5; padding:16px; background:white; border-radius:16px; border:1px solid #eee;">
          <i data-lucide="info" style="width:18px;height:18px;display:inline-block;vertical-align:middle;margin-right:8px;color:var(--brand);"></i>
          Diese Angaben kannst du später in deinem Profil jederzeit verfeinern.
        </div>
      </div>

      <div class="onboarding-actions">
        <button class="secondary btn-back" type="button" id="btnOnboardingBusinessBack"><i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück</button>
        <button class="btn-primary" type="button" id="btnOnboardingBusinessNext">Weiter</button>
      </div>
    </section>

    <section class="view onboarding-view" id="v-provider-onboarding-preview">
      <div class="panel">
        <h2 style="font-size:24px; font-weight:900; margin-bottom:8px; letter-spacing:-0.02em;">Vorschau</h2>
        <p style="font-size:15px; color:#64748b; margin-bottom:24px;">So erscheint dein Gericht für Kunden in der App.</p>
        
        <div style="margin-bottom:24px; padding:14px 16px; background:#f0f9ff; border-radius:16px; border:1px solid #bae6fd; display:flex; align-items:center; gap:12px;">
          <i data-lucide="eye" style="width:20px;height:20px;color:#0ea5e9;"></i>
          <div style="font-weight:700; font-size:14px; color:#0369a1;">Vorschau-Modus</div>
        </div>
        
        <div id="onboardingPreviewCard" style="margin-bottom:24px;">
          <!-- Wird dynamisch befüllt -->
        </div>
      </div>

      <div class="onboarding-actions">
        <button class="secondary" type="button" id="btnOnboardingPreviewEdit">Bearbeiten</button>
        <button class="btn-primary" type="button" id="btnOnboardingPreviewDashboard">Fertigstellen</button>
      </div>
    </section>

    <!-- PROVIDER APP - Dashboard 2.1: 4 schwebende Kästen (App-like) -->
    <section class="view prov-dashboard-stolz" id="v-provider-home">
      <div class="dashboard-floating-wrap">
        <!-- KASTEN 1: Meine Küche Header -->
        <header class="dashboard-kasten dashboard-kasten-header prov-header prov-header-stolz">
          <div class="prov-header-inner" style="border:none; padding-top:calc(10px + env(safe-area-inset-top, 0)); padding-bottom:16px; padding-left:max(20px, env(safe-area-inset-left, 0)); padding-right:max(20px, env(safe-area-inset-right, 0));">
            <div style="display:flex; align-items:center; justify-content:space-between;">
              <div style="display:flex; align-items:center; gap:8px;">
                <h1 class="prov-title" style="margin:0; font-size:20px; font-weight:900;">Meine Küche</h1>
              </div>
              <button type="button" id="btnProviderHomeRefresh" title="Aktualisieren" aria-label="Daten neu laden" style="background:rgba(0,0,0,0.04); border:none; min-width:44px; min-height:44px; width:44px; height:44px; border-radius:14px; display:flex; align-items:center; justify-content:center; color:#64748b; cursor:pointer;">
                <i data-lucide="refresh-cw" style="width:20px; height:20px;"></i>
              </button>
            </div>
            <div id="providerHomeGreeting" style="display:none;"></div>
            <div id="providerHomeDate" style="display:none;" aria-hidden="true"></div>
          </div>
        </header>

        <!-- KASTEN 2: KPIs -->
        <div class="dashboard-kasten dashboard-kasten-kpis">
          <div class="prov-stats-stolz" style="display:flex; justify-content:space-between; align-items:flex-end; border:none; padding:0;">
            <div id="kpiTagesessen" role="button" tabindex="0" style="text-align:center; cursor:pointer; min-height:40px; flex:1;" onclick="document.getElementById('providerActiveListingsSection')?.scrollIntoView({behavior:'smooth'})" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault(); document.getElementById('providerActiveListingsSection')?.scrollIntoView({behavior:'smooth'});}" title="Tagesessen">
              <p id="kpiLabelTagesessen" class="kpi-label" style="margin:0 0 2px; font-size:8px; font-weight:800; color:#9ca3af; text-transform:uppercase; letter-spacing:0.05em;">Tagesessen</p>
              <p id="dashboardTagesessenCount" style="margin:0; font-size:16px; font-weight:900; color:#1a1a1a;">0</p>
            </div>
            <div id="kpiBestellungen" role="button" tabindex="0" style="text-align:center; padding:0 16px; border-left:1px solid #f3f4f6; border-right:1px solid #f3f4f6; cursor:pointer; min-height:40px; flex:1;" onclick="showProviderPickups()" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault(); showProviderPickups();}" title="Abholnummer / Abholungen">
              <p id="kpiLabelAbholungen" class="kpi-label" style="margin:0 0 2px; font-size:8px; font-weight:800; color:#9ca3af; text-transform:uppercase; letter-spacing:0.05em;">Abholungen</p>
              <p id="dashboardAbholungenCount" style="margin:0; font-size:16px; font-weight:900; color:#3b82f6;">0</p>
            </div>
            <div id="kpiUmsatz" role="button" tabindex="0" style="text-align:right; cursor:pointer; min-height:40px; flex:1;" onclick="showProviderBilling()" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault(); showProviderBilling();}" title="Tagesumsatz">
              <p id="kpiLabelUmsatz" class="kpi-label" style="margin:0 0 2px; font-size:8px; font-weight:800; color:#9ca3af; text-transform:uppercase; letter-spacing:0.05em;">Umsatz heute</p>
              <p id="dashboardUmsatzToday" style="margin:0; font-size:16px; font-weight:900; color:#16a34a;">0,00 €</p>
            </div>
          </div>
        </div>

        <!-- KASTEN 3: Aktive Angebote heute -->
        <div class="dashboard-kasten dashboard-kasten-angebote" id="providerActiveListingsSectionWrap">
          <div id="providerActiveListingsSection">
            <div style="display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:8px;">
              <h3 class="provider-week-title" style="margin:0; font-size:18px;">Aktive Angebote heute</h3>
              <button type="button" id="btnProviderShareToday" title="Heutige Angebote teilen" aria-label="Angebote teilen" style="background:rgba(0,0,0,0.06); border:none; min-width:44px; min-height:44px; border-radius:14px; display:flex; align-items:center; justify-content:center; color:#1a1a1a; cursor:pointer;">
                <i data-lucide="share-2" style="width:20px; height:20px;"></i>
              </button>
            </div>
            <div id="providerActiveListingsEmptyCard" style="display:none; margin-top:8px;">
              <div class="prov-card" style="padding:32px 24px; text-align:center; border:2px dashed rgba(0,0,0,0.08); background:#fafafa; border-radius:24px;">
                <div style="font-size:15px; font-weight:700; color:#64748b; margin-bottom:8px;">Noch kein Gericht für heute</div>
                <p style="font-size:13px; color:#94a3b8; margin:0 0 20px;">Erstelle dein erstes Tagesangebot – dann siehst du es hier.</p>
                <div class="prov-add-plus-trigger" id="btnProviderFirstDishToday" role="button" tabindex="0" aria-label="Gericht für heute hinzufügen" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault(); document.getElementById('btnProviderFirstDishToday').click();}">
                  <span class="prov-add-plus-icon" aria-hidden="true">＋</span>
                </div>
              </div>
            </div>
            <div id="providerActiveListings" style="display:flex; flex-direction:column; gap:14px; margin-top:12px;">
              <!-- Dynamische Karten -->
            </div>
          </div>
        </div>

        <!-- KASTEN 4: Dein Wochenplan -->
        <div class="dashboard-kasten dashboard-kasten-wochenplan">
          <div style="display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:8px; margin-bottom:16px;">
            <h3 class="provider-week-title" style="margin:0; font-size:18px;">Dein Wochenplan</h3>
            <button type="button" id="btnProviderShareWeekPlanTitle" title="Wochenplan teilen" aria-label="Wochenplan teilen" style="background:rgba(0,0,0,0.06); border:none; min-width:44px; min-height:44px; border-radius:14px; display:flex; align-items:center; justify-content:center; color:#1a1a1a; cursor:pointer;">
              <i data-lucide="share-2" style="width:20px; height:20px;"></i>
            </button>
          </div>
          <div class="provider-week-card" id="providerWeekCard" role="button" tabindex="0">
            <div id="providerWeekDays" class="provider-week-days"></div>
            <div id="providerWeekDayContent" class="provider-week-day-content"></div>
          </div>
          <div class="provider-week-footer" style="display:flex; flex-direction:column; gap:10px;">
            <button type="button" id="btnProviderWeekFooter" style="width:100%; min-height:48px; border-radius:26px; border:2px solid #e5e7eb; background:#fff; color:#1a1a1a; font-size:16px; font-weight:800; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:10px; box-shadow:0 2px 12px rgba(0,0,0,0.06); transition:transform 0.1s, box-shadow 0.15s;" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault(); document.getElementById('btnProviderWeekFooter').click();}">
              <span>Zum Wochenplan</span>
              <i data-lucide="chevron-right" style="width:20px; height:20px;"></i>
            </button>
            <button type="button" id="btnProviderShareWeekPlan" title="Wochenplan teilen" style="display:none; width:100%; min-height:44px; border-radius:22px; border:2px solid #e5e7eb; background:#fff; color:#64748b; font-size:14px; font-weight:700; cursor:pointer; align-items:center; justify-content:center; gap:8px;">
              <i data-lucide="share-2" style="width:18px; height:18px;"></i>
              <span>Teilen</span>
            </button>
          </div>
        </div>

        <!-- Empty State -->
        <div id="providerEmptyDashboard" style="display:none; text-align:center; padding:60px 24px; background:white; border-radius:32px; border:1px solid rgba(0,0,0,0.04); box-shadow: 0 10px 30px rgba(0,0,0,0.05);">
          <div style="width:88px; height:88px; background:var(--prov-brand); border-radius:28px; margin:0 auto 24px; display:flex; align-items:center; justify-content:center; box-shadow:0 8px 24px rgba(255,215,0,0.3);">
            <i data-lucide="sparkles" style="width:44px; height:44px; color:#1a1a1a;"></i>
          </div>
          <h3 style="font-size:24px; font-weight:950; color:#1a1a1a; margin-bottom:12px; letter-spacing:-0.03em;">Bereit für Gäste?</h3>
          <p style="color:#64748b; margin-bottom:32px; line-height:1.6; font-size:15px;">Erstelle dein erstes Inserat und werde sofort für Kunden in deiner Umgebung sichtbar.</p>
          <button class="btn-primary provider-add-plus-btn" id="btnProviderEmptyAddDish" style="width:100%; min-height:60px; border-radius:18px; font-size:16px;">
            <span class="plus-char" style="font-size:22px; line-height:1; color:#fff;">+</span>
            <span>Jetzt Gericht erstellen</span>
          </button>
        </div>

      </div>
    </section>

    <section class="view onboarding-view" id="v-provider-pickups">
      <header class="prov-page-header" id="v-provider-pickups-header">
        <div class="prov-page-header-row">
          <div class="prov-page-header-left">
            <div class="prov-page-header-icon">
              <i data-lucide="receipt" style="width:24px; height:24px;"></i>
            </div>
            <h1 class="prov-page-header-title">Abholungen</h1>
          </div>
          <div class="prov-page-header-actions">
            <button type="button" id="btnKitchenListPDF" aria-label="PDF">
              <i data-lucide="file-text" style="width:20px; height:20px;"></i>
            </button>
            <button type="button" id="btnKitchenListEmail" aria-label="E-Mail">
              <i data-lucide="mail" style="width:20px; height:20px;"></i>
            </button>
          </div>
        </div>
        <div class="answers" id="provPickupFilter" style="background:#f1f3f5; padding:4px; border-radius:14px; display:flex; gap:4px; border:none; box-shadow:none; margin-top:12px;">
          <!-- Wird dynamisch befüllt -->
        </div>
      </header>

      <div style="padding:12px 20px 20px; max-width:500px; margin:0 auto; flex:1;">
        <!-- Subheader Status -->
        <div id="provPickupsSubheader" style="margin-bottom:20px; font-size:13px; font-weight:700; color:#9ca3af; text-transform:uppercase; letter-spacing:0.05em;">
          <!-- Wird dynamisch befüllt -->
        </div>
        
        <!-- Empty States -->
        <div id="provPickupsEmpty" style="text-align:center; padding:80px 24px; display:none;">
          <div style="width:80px; height:80px; background:rgba(0,0,0,0.03); border-radius:50%; margin:0 auto 20px; display:flex; align-items:center; justify-content:center;">
            <i data-lucide="receipt" style="width:40px; height:40px; color:#cbd5e1;"></i>
          </div>
          <h3 style="font-size:18px; font-weight:800; color:#1a1a1a; margin-bottom:8px;">Noch keine Abholungen</h3>
          <p style="color:#64748b; font-size:15px; line-height:1.5;">Sobald Kunden bestellen, erscheinen sie hier in Echtzeit.</p>
        </div>
        
        <!-- Pickup Grid (Theken-Grid) -->
        <div id="provPickupsGrid" style="display:none; grid-template-columns:repeat(2, 1fr); gap:16px;">
          <!-- Wird dynamisch befüllt -->
        </div>
        
        <!-- Pickup List -->
        <div id="provPickupsList" style="display:none; flex-direction:column; gap:12px;">
          <!-- Wird dynamisch befüllt -->
        </div>
      </div>
    </section>

    <section class="view onboarding-view" id="v-provider-week">
      <header class="week-header-compact prov-page-header" id="weekHeaderCompact">
        <div class="prov-page-header-row week-header-row">
          <div class="prov-page-header-left">
            <div class="prov-page-header-icon">
              <i data-lucide="calendar" style="width:24px; height:24px;"></i>
            </div>
            <div>
              <h1 class="prov-page-header-title" id="weekHeaderTitle">Wochenplan</h1>
              <p class="week-header-subtitle" id="weekHeaderSubtitle">Deine Woche · Gerichte planen</p>
            </div>
          </div>
          <div class="week-header-actions" style="display:flex; align-items:center; gap:8px;">
            <button type="button" id="btnKwPdf" title="Drucken" aria-label="Drucken" style="background:rgba(0,0,0,0.06); border:none; min-width:44px; min-height:44px; border-radius:14px; display:flex; align-items:center; justify-content:center; color:#1a1a1a; cursor:pointer;">
              <i data-lucide="printer" style="width:20px; height:20px;"></i>
            </button>
            <button type="button" id="btnKwShare" title="Teilen" aria-label="Teilen" style="background:rgba(0,0,0,0.06); border:none; min-width:44px; min-height:44px; border-radius:14px; display:flex; align-items:center; justify-content:center; color:#1a1a1a; cursor:pointer;">
              <i data-lucide="share-2" style="width:20px; height:20px;"></i>
            </button>
          </div>
          <button type="button" class="week-header-done-btn" id="weekHeaderDoneBtn" style="display:none;" aria-label="Fertig">Fertig</button>
        </div>
      </header>

      <!-- KW-Board: KW-Carousel + 7-Tage-Grid + Action-Bar -->
      <div id="kwBoardWrap" style="display:flex; flex-direction:column; flex:1; min-height:0;">
        <div class="kw-board-header" id="kwBoardHeader">
          <div class="kw-carousel" id="kwCarousel" role="tablist"></div>
          <div class="kw-progress-wrap">
            <div class="kw-progress"><div class="kw-progress-fill" id="kwProgressFill" style="width:0%;"></div></div>
          </div>
        </div>
        <div id="kwBoardScroll" class="kw-board-scroll">
          <div class="kw-grid" id="kwGrid"></div>
        </div>
        <div class="kw-action-bar-fixed" id="kwActionBarFixed" style="display:none;">
          <!-- Drucken & Teilen sind in der Header-Zeile (week-header-actions) -->
        </div>
      </div>
    </section>

    <section class="view onboarding-view" id="v-provider-cookbook">
      <header class="prov-page-header" id="v-provider-cookbook-header">
        <div class="prov-page-header-row">
          <div class="prov-page-header-left">
            <div class="prov-page-header-icon">
              <i data-lucide="book-open" style="width:24px; height:24px;"></i>
            </div>
            <h1 class="prov-page-header-title">Mein Kochbuch</h1>
          </div>
        </div>
        <div style="position:relative; display:flex; gap:10px; margin-top:14px;">
          <div style="position:relative; flex:1;">
            <i data-lucide="search" style="position:absolute; left:16px; top:50%; transform:translateY(-50%); color:#9ca3af; width:20px; height:20px;"></i>
            <input type="text" id="cookbookSearch" placeholder="Gericht suchen …" style="width:100%; height:52px; background:#f1f3f5; border:none; border-radius:16px; padding:0 16px 0 48px; font-size:16px; font-weight:600; outline:none;" />
          </div>
          <select id="cookbookSortSelect" style="width:52px; height:52px; background:#f1f3f5; border:none; border-radius:16px; appearance:none; padding:0; text-align:center; cursor:pointer;">
            <option value="recent">🕒</option>
            <option value="alpha">AZ</option>
            <option value="priceAsc">€↑</option>
            <option value="priceDesc">€↓</option>
          </select>
        </div>
      </header>

      <div id="cookbookScrollWrap" style="flex:1; min-height:0; overflow-y:auto; -webkit-overflow-scrolling:touch; padding:12px 20px calc(140px + env(safe-area-inset-bottom, 0)); max-width:500px; margin:0 auto; width:100%; box-sizing:border-box;">
        <!-- Tabs: Gerichte | Entwürfe -->
        <div class="cookbook-tabs" id="cookbookTabs" role="tablist" style="display:flex; background:#fff; border-radius:14px; padding:4px; margin-bottom:24px; border:1px solid rgba(0,0,0,0.05); box-shadow:0 2px 8px rgba(0,0,0,0.02);"></div>
        
        <div id="cookbookList" style="display:grid; grid-template-columns:1fr; gap:16px;">
          <!-- Wird dynamisch befüllt -->
        </div>

        <div id="cookbookEmpty" style="text-align:center; padding:80px 24px; display:none;">
          <div style="width:80px; height:80px; background:rgba(0,0,0,0.03); border-radius:50%; margin:0 auto 20px; display:flex; align-items:center; justify-content:center;">
            <i data-lucide="book-open" style="width:40px; height:40px; color:#cbd5e1;"></i>
          </div>
          <h3 style="font-size:18px; font-weight:800; color:#1a1a1a; margin-bottom:8px;">Dein Kochbuch ist leer</h3>
          <p style="color:#64748b; font-size:15px; line-height:1.5; margin-bottom:32px;">Speichere deine besten Gerichte, um sie später mit einem Klick zu inserieren.</p>
          <button class="btn-primary provider-add-plus-btn" id="btnCookbookEmptyAdd" type="button" style="width:100%; border-radius:16px;">
            <span class="plus-char" style="font-size:20px; line-height:1; color:#fff;">+</span>
            <span>Gericht hinzufügen</span>
          </button>
        </div>
      </div>

      <!-- Sticky Bottom Bar: Standard (Suche · Neues Gericht · Sortieren) oder 3-Wege bei Selektion -->
      <div id="cookbookActionBar" class="cookbook-action-bar" style="position:fixed; bottom:calc(64px + env(safe-area-inset-bottom, 20px)); left:0; right:0; background:#fff; border-top:1px solid #e2e8f0; padding:12px 20px 12px; display:flex; flex-direction:column; gap:10px; z-index:40; box-shadow:0 -4px 20px rgba(0,0,0,0.06);">
        <div id="cookbookBarDefault" style="display:flex; align-items:center; gap:10px;">
          <button type="button" id="cookbookBarFilter" class="cookbook-bar-btn cookbook-bar-secondary" aria-label="Suche fokussieren">
            <i data-lucide="search" style="width:20px;height:20px;"></i>
            <span>Suche</span>
          </button>
          <button type="button" id="cookbookBarPrimary" class="cookbook-bar-btn cookbook-bar-primary" data-action="cookbook-add-dish" aria-label="Neues Gericht anlegen">
            <span class="plus-char" style="font-size:20px; line-height:1;">+</span>
            <span id="cookbookBarPrimaryText">Neues Gericht</span>
          </button>
          <button type="button" id="cookbookBarSort" class="cookbook-bar-btn cookbook-bar-secondary" aria-label="Sortieren">
            <i data-lucide="arrow-up-down" style="width:20px;height:20px;"></i>
            <span>Sortieren</span>
          </button>
        </div>
        <div id="cookbookBarSelected" style="display:none; flex-direction:row; gap:10px; align-items:stretch;">
          <button type="button" id="cookbookBarEdit" class="cookbook-bar-btn cookbook-bar-secondary" style="flex:1;">Bearbeiten</button>
          <button type="button" id="cookbookBarWeek" class="cookbook-bar-btn cookbook-bar-secondary" style="flex:1;">📅 Wochenplan</button>
          <button type="button" id="cookbookBarLive" class="cookbook-bar-btn cookbook-bar-primary" style="flex:1.2;">Auswählen</button>
        </div>
      </div>
    </section>

    <!-- Kochbuch: Bottom-Sheet "Jetzt live schalten" (Preis, Datum, Zeit, 4,99€-Button) -->
    <div class="backdrop" id="cookbookLiveSheetBd" style="display:none; background:rgba(0,0,0,0.5); z-index:1050;" onclick="closeCookbookLiveSheet()"></div>
    <div class="sheet sheet--kitchen" id="cookbookLiveSheet" style="max-width:480px; border-radius:28px 28px 0 0; overflow:hidden; z-index:1051;">
      <div class="handle"></div>
      <div class="sheet-body" style="padding:20px 20px calc(24px + env(safe-area-inset-bottom));">
        <h3 id="cookbookLiveSheetTitle" style="margin:0 0 8px; font-size:18px; font-weight:900; color:#1a1a1a;">Auswählen</h3>
        <p id="cookbookLiveSheetDish" style="margin:0 0 16px; font-size:15px; color:#64748b;"></p>
        <div style="margin-bottom:16px;">
          <label style="display:block; font-size:11px; font-weight:800; color:#64748b; text-transform:uppercase; margin-bottom:6px;">Preis (aus Kochbuch)</label>
          <div id="cookbookLiveSheetPrice" style="font-size:22px; font-weight:900; color:#1a1a1a;"></div>
        </div>
        <div style="margin-bottom:16px;">
          <label style="display:block; font-size:11px; font-weight:800; color:#64748b; text-transform:uppercase; margin-bottom:6px;">Datum</label>
          <div id="cookbookLiveSheetDateWrap" style="display:flex; gap:8px; flex-wrap:wrap;"></div>
        </div>
        <div style="margin-bottom:20px;">
          <label style="display:block; font-size:11px; font-weight:800; color:#64748b; text-transform:uppercase; margin-bottom:6px;">Zeitfenster (aus Profil)</label>
          <div id="cookbookLiveSheetTime" style="font-size:16px; font-weight:700; color:#1a1a1a;"></div>
        </div>
        <button type="button" id="cookbookLiveSheetBtn" style="width:100%; min-height:56px; border-radius:16px; font-size:16px; font-weight:800; border:none; background:#FFD700; color:#1a1a1a; cursor:pointer; box-shadow:0 4px 16px rgba(255,215,0,0.4);">
          Jetzt für 4,99 € inserieren
        </button>
        <button type="button" class="btn secondary" style="width:100%; min-height:48px; margin-top:12px; border-radius:14px;" onclick="closeCookbookLiveSheet()">Abbrechen</button>
      </div>
    </div>

    <!-- Kochbuch: Bottom-Sheet "Wochenplan" (Mo–So, Backdrop-Blur, Stagger) -->
    <div class="backdrop cookbook-week-bd" id="cookbookWeekSheetBd" style="display:none; background:rgba(0,0,0,0.4); backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px); z-index:1050; transition:opacity 0.4s;" onclick="closeCookbookWeekSheet()"></div>
    <div class="sheet sheet--kitchen cookbook-week-sheet" id="cookbookWeekSheet" style="max-width:480px; border-radius:28px 28px 0 0; overflow:hidden; z-index:1051; transition:transform 0.4s cubic-bezier(0.4,0,0.2,1);">
      <div class="handle"></div>
      <div class="sheet-body" style="padding:20px 20px calc(24px + env(safe-area-inset-bottom));">
        <h3 style="margin:0 0 4px; font-size:18px; font-weight:900; color:#1a1a1a;">Wochenplan</h3>
        <p id="cookbookWeekSheetDish" style="margin:0 0 20px; font-size:14px; color:#64748b;"></p>
        <p style="margin:0 0 16px; font-size:13px; color:#64748b;">Tippe auf einen Tag – das Gericht wird dort eingetragen.</p>
        <div id="cookbookWeekSheetDays" style="display:flex; gap:10px; flex-wrap:wrap;"></div>
        <button type="button" class="btn secondary" style="width:100%; min-height:48px; margin-top:20px; border-radius:14px;" onclick="closeCookbookWeekSheet()">Schließen</button>
      </div>
    </div>

    <!-- FAB: gleicher wie Dashboard (Inseratsflow) – sichtbar auf Meine Küche + Kochbuch -->
    <button class="fab-provider fab-provider-plus" id="fabProviderAddOffer" type="button" aria-label="Gericht erstellen">
      <span class="plus-char" style="font-size:28px; line-height:1; color:#fff;">+</span>
    </button>

    <!-- Wochenplan: Quick-Add Bottom-Sheet (Top 5 + Suche, Tap = zum Plan) -->
    <div class="backdrop" id="weekAddSheetBd" style="display:none; background:rgba(0,0,0,0.5);" onclick="closeWeekAddSheet()"></div>
    <div class="sheet sheet--kitchen" id="weekAddSheet" style="max-width:480px; border-radius:28px 28px 0 0; overflow:hidden; z-index:1100;">
      <div class="handle"></div>
      <div class="sheet-body" style="padding:20px 20px calc(24px + env(safe-area-inset-bottom));">
        <!-- Auswahl bei leerem Tag: zuerst "Aus Kochbuch" oder "Neues Gericht" (Frage 3 B) -->
        <div id="weekAddSheetChooser" style="display:none;">
          <div style="font-size:18px; font-weight:900; color:#1a1a1a; margin-bottom:8px;">Gericht hinzufügen</div>
          <p class="hint" style="margin-bottom:16px; font-size:13px; color:#64748b;">Woher soll das Gericht kommen?</p>
          <button type="button" class="btn primary" id="btnWeekAddFromCookbook" style="width:100%; min-height:52px; margin-bottom:12px; border-radius:14px; font-size:15px; font-weight:700;">Aus Kochbuch wählen</button>
          <button type="button" class="btn secondary" id="btnWeekAddNewDish" style="width:100%; min-height:52px; border-radius:14px; font-size:15px; font-weight:700; border:1px solid #FFDE00; color:#1a1a1a; background:transparent;">Neues Gericht anlegen</button>
        </div>
        <div id="weekAddSheetListWrap">
          <div id="weekAddSheetTitle" style="font-size:18px; font-weight:900; color:#1a1a1a; margin-bottom:8px;">Gericht zum Plan hinzufügen</div>
          <p class="hint" id="weekAddSheetHint" style="margin-bottom:12px; font-size:13px; color:#64748b;">Tap = sofort in den Wochenplan</p>
          <div style="font-size:12px; font-weight:800; color:#64748b; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:8px;">Schnell hinzufügen</div>
          <input type="search" id="weekAddSheetSearch" placeholder="… oder suchen" style="width:100%; padding:14px 16px; border:1px solid #e5e7eb; border-radius:14px; font-size:15px; margin-bottom:16px; box-sizing:border-box;" />
          <div id="weekAddSheetList" style="display:grid; grid-template-columns:repeat(2, 1fr); gap:12px; max-height:50vh; overflow-y:auto; -webkit-overflow-scrolling:touch;"></div>
          <button type="button" class="btn secondary" style="width:100%; min-height:48px; margin-top:12px; border-radius:14px; font-size:14px; font-weight:700; border:1px solid #FFDE00; color:#1a1a1a; background:transparent;" id="btnWeekAddMulti">Gericht auf mehrere Tage setzen</button>
          <button type="button" class="btn secondary" style="width:100%; min-height:48px; margin-top:16px; border-radius:14px;" onclick="closeWeekAddSheet()">Schließen</button>
        </div>
      </div>
    </div>

    <!-- Kochbuch: Action-Sheet (Bearbeiten / In Wochenplan / Löschen) -->
    <div class="backdrop" id="cookbookActionSheetBd" style="display:none; background:rgba(0,0,0,0.5);" onclick="closeCookbookActionSheet()"></div>
    <div class="cookbook-action-sheet" id="cookbookActionSheet" style="display:none;">
      <div class="cookbook-action-sheet-handle"></div>
      <div class="cookbook-action-sheet-title" id="cookbookActionSheetTitle">Gericht</div>
      <button type="button" class="cookbook-action-sheet-btn" id="cookbookActionEdit"><i data-lucide="edit"></i> Bearbeiten</button>
      <button type="button" class="cookbook-action-sheet-btn" id="cookbookActionWeek"><i data-lucide="calendar"></i> In Wochenplan</button>
      <button type="button" class="cookbook-action-sheet-btn cookbook-action-sheet-btn-danger" id="cookbookActionDelete"><i data-lucide="trash-2"></i> Löschen</button>
      <button type="button" class="cookbook-action-sheet-btn" onclick="closeCookbookActionSheet()">Abbrechen</button>
    </div>

    <!-- Provider-Profil "Mein Profil" – Produkt-Schaufenster + Einstellungen hinter Zahnrad -->
    <section class="view onboarding-view" id="v-provider-profile" style="display:flex; flex-direction:column; min-height:0; background:#f8fafc;">
      <header id="providerProfileHeader" style="background:#fff; padding:12px 20px; padding-top:calc(12px + env(safe-area-inset-top, 0)); border-bottom:1px solid #f1f3f5; position:sticky; top:0; z-index:50; flex-shrink:0; display:flex; align-items:center; justify-content:space-between; gap:12px;">
        <div style="width:44px; flex-shrink:0;"></div>
        <div style="flex:1; min-width:0; display:flex; align-items:center; justify-content:center; gap:10px;">
          <div class="plogo" id="providerProfileLogoHeader" style="width:44px; height:44px; border-radius:14px; flex-shrink:0; background-size:cover; background-position:center; background-color:#f1f3f5;"></div>
          <h1 id="providerProfileNameHeader" style="margin:0; font-size:18px; font-weight:950; letter-spacing:-0.03em; color:#1a1a1a; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;">Mein Profil</h1>
        </div>
        <button type="button" id="providerProfileGearBtn" aria-label="Einstellungen" style="width:44px; height:44px; border-radius:14px; background:#f1f3f5; border:none; cursor:pointer; display:flex; align-items:center; justify-content:center; flex-shrink:0;">
          <i data-lucide="settings" style="width:22px; height:22px; color:#64748b;"></i>
        </button>
      </header>

      <div id="providerProfileContent" style="flex:1; overflow-y:auto; padding:12px 20px calc(100px + env(safe-area-inset-bottom, 0)); max-width:500px; margin:0 auto; width:100%; box-sizing:border-box;">
        <div id="providerProfileMainWrap">
          <div id="providerProfileMain">
            <!-- Kachel 1: Mittags-Inserat (Fokus, ganz oben) -->
            <div class="provider-profile-card provider-profile-kachel-inserat" style="background:#fff; border-radius:24px; padding:28px; margin-bottom:16px; border:none; box-shadow:0 4px 24px rgba(0,0,0,0.06);">
              <h2 style="margin:0 0 8px; font-size:18px; font-weight:900; color:#1a1a1a;">Mittags-Inserat schalten</h2>
              <div style="font-size:28px; font-weight:950; color:#1a1a1a; margin-bottom:12px;">4,99 €</div>
              <div style="font-size:11px; font-weight:800; color:#1a1a1a; text-transform:uppercase; letter-spacing:0.06em; margin-bottom:16px;">Kein Abo. Kein Vertrag. Keine Laufzeit.</div>
              <div style="display:flex; align-items:center; gap:12px; margin-bottom:20px;">
                <span style="font-size:20px;" title="Vor Ort möglich">🍴</span>
                <span style="font-size:20px;" title="Mehrweg verfügbar">🔄</span>
                <span style="font-size:20px;" title="Abholnummer aktiv">🧾</span>
              </div>
              <button type="button" id="btnProviderProfileInserieren" style="width:100%; min-height:52px; border-radius:16px; font-size:16px; font-weight:800; background:#FFDE00; color:#1a1a1a; border:none; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:8px; box-shadow:0 4px 16px rgba(255,222,0,0.35);">
                Jetzt für 4,99 € inserieren
              </button>
            </div>
            <!-- Kachel 2: Digitale Abholnummer -->
            <div class="provider-profile-card provider-profile-kachel-abholnummer" style="background:linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius:24px; padding:24px; margin-bottom:20px; border:1px solid rgba(14,165,233,0.15); box-shadow:0 4px 20px rgba(0,0,0,0.04);">
              <div style="display:flex; align-items:flex-start; gap:16px;">
                <div style="flex-shrink:0; width:72px; height:88px; border-radius:12px; background:rgba(255,255,255,0.95); border:1px solid rgba(0,0,0,0.06); display:flex; align-items:center; justify-content:center; font-size:22px; font-weight:900; font-family:ui-monospace, monospace; color:#1a1a1a; letter-spacing:2px;">#B-42</div>
                <div style="flex:1; min-width:0;">
                  <div style="font-size:17px; font-weight:800; color:#1a1a1a; margin-bottom:4px;">Digitale Abholnummer</div>
                  <div style="font-size:22px; font-weight:950; color:#0ea5e9; margin-bottom:8px;">0,89 €</div>
                  <p style="margin:0 0 8px; font-size:13px; color:#64748b; line-height:1.45;">Schluss mit Chaos bei der Ausgabe. Organisiere deinen Abholprozess wie ein Profi. Inklusive aller Gebühren.</p>
                  <span style="display:inline-block; font-size:11px; font-weight:700; color:#64748b; text-transform:uppercase; letter-spacing:0.05em;">Optional zubuchbar</span>
                </div>
              </div>
            </div>

            <!-- Einstellungen (Apple-Settings-Stil): Menü-Karte auf #F2F2F7 -->
            <div id="providerProfileMenuCardWrap" style="background:#F2F2F7; border-radius:20px; padding:12px; margin-bottom:20px;">
            <!-- Menü: eine Karte mit klaren Zeilen (app-like) -->
            <div id="providerProfileMenuCard" style="background:#fff; border-radius:20px; overflow:hidden; margin-bottom:20px; box-shadow:0 2px 12px rgba(0,0,0,0.06);">
            <button type="button" id="providerProfileRowBusiness" class="provider-profile-row provider-profile-row-app">
              <div style="display:flex;align-items:center;gap:14px;"><i data-lucide="building" style="width:22px;height:22px;color:#64748b;"></i><span>Meine Daten</span></div>
              <i data-lucide="chevron-right" style="width:20px;height:20px;color:#cbd5e1;"></i>
            </button>
            <button type="button" id="providerProfileRowService" class="provider-profile-row provider-profile-row-app">
              <div style="display:flex;align-items:center;gap:14px;"><i data-lucide="clock" style="width:22px;height:22px;color:#64748b;"></i><span>Präferenzen & Zeiten</span></div>
              <i data-lucide="chevron-right" style="width:20px;height:20px;color:#cbd5e1;"></i>
            </button>
            <button type="button" id="providerProfileRowPayment" class="provider-profile-row provider-profile-row-app">
              <div style="display:flex;align-items:center;gap:14px;"><i data-lucide="credit-card" style="width:22px;height:22px;color:#64748b;"></i><span>Zahlung & Abrechnung</span></div>
              <i data-lucide="chevron-right" style="width:20px;height:20px;color:#cbd5e1;"></i>
            </button>
            <button type="button" id="providerProfileRowFaq" class="provider-profile-row provider-profile-row-app provider-profile-row-last">
              <div style="display:flex;align-items:center;gap:14px;"><i data-lucide="help-circle" style="width:22px;height:22px;color:#64748b;"></i><span>FAQ & Support</span></div>
              <i data-lucide="chevron-right" style="width:20px;height:20px;color:#cbd5e1;"></i>
            </button>
            </div>
            </div>

            <button id="btnProviderLogout" class="provider-profile-logout-btn" style="width:100%; min-height:52px; background:#fff; color:#dc2626; border:2px solid #fecaca; border-radius:16px; font-weight:800; font-size:15px; display:flex; align-items:center; justify-content:center; gap:10px; cursor:pointer; box-shadow:0 2px 8px rgba(0,0,0,0.04);">
              <i data-lucide="log-out" style="width:20px;height:20px;"></i>
              <span>Abmelden</span>
            </button>

            <!-- Footer: Vertrauens-Check + Branding -->
            <footer class="provider-profile-footer" style="margin-top:32px; padding-top:24px; border-top:1px solid #e2e8f0; text-align:center;">
              <p style="margin:0 0 8px; font-size:14px; font-weight:600; color:#64748b;">Du zahlst nur, was du nutzt. Keine versteckten Kosten.</p>
              <p style="margin:0; font-size:13px; font-weight:800; color:#1a1a1a;">MITTAGIO</p>
              <p style="margin:2px 0 0; font-size:12px; color:#94a3b8;">Einfach. Schnell. Organisiert.</p>
            </footer>
          </div>
        </div>

        <!-- Einstellungsseite (Zahnrad): Identity + Karten + Danger Zone -->
      <div id="providerProfileSubSettings" class="provider-profile-sub" style="display:none; flex-direction:column; min-height:0; background:#f1f3f5;">
        <header class="provider-sub-header" style="background:#fff; padding:10px 20px 12px; padding-top:calc(10px + env(safe-area-inset-top, 0)); border-bottom:1px solid #f1f3f5; position:sticky; top:0; z-index:50; display:flex; align-items:center; gap:14px;">
          <button type="button" id="providerProfileBackSettings" aria-label="Zurück" style="width:44px; height:44px; border-radius:14px; background:#f1f3f5; border:none; cursor:pointer; display:flex; align-items:center; justify-content:center;">
            <i data-lucide="chevron-left" style="width:22px; height:22px; color:#1a1a1a;"></i>
          </button>
          <h1 style="margin:0; font-size:18px; font-weight:950; letter-spacing:-0.03em; color:#1a1a1a;">Einstellungen</h1>
        </header>

        <div class="provider-settings-scroll" style="flex:1; overflow-y:auto; background:#F2F2F7;">
          <!-- Identity Section (wie Kundenseite: zentrales Logo, Name, Ort, Status) -->
          <div class="provider-settings-identity" style="text-align:center; padding:28px 20px 24px; background:#fff; border-radius:24px; box-shadow:0 2px 12px rgba(0,0,0,0.06); border:1px solid rgba(0,0,0,0.04);">
            <div class="plogo" id="providerSettingsLogo" style="margin:0 auto 12px; background-size:cover; background-position:center; background-color:#f1f3f5;"></div>
            <h2 id="providerSettingsName" style="margin:0 0 4px; font-size:20px; font-weight:950; letter-spacing:-0.03em; color:#1a1a1a;">Betriebsname</h2>
            <p id="providerSettingsOrt" style="margin:0 0 12px; font-size:14px; color:#64748b;">Ort</p>
            <span style="display:inline-block; padding:6px 14px; border-radius:999px; font-size:12px; font-weight:800; color:#059669; background:rgba(5,150,105,0.12);">System Online</span>
          </div>

          <!-- Kachel: Betriebsdaten -->
          <div class="provider-profile-card provider-settings-card" style="background:#fff; border-radius:24px; padding:24px; margin-bottom:20px; border:none; box-shadow:0 2px 12px rgba(0,0,0,0.06);">
            <h3 style="margin:0 0 20px; font-size:17px; font-weight:800; color:#1a1a1a;">🏠 Betriebsdaten</h3>
            <div class="input-group">
              <input type="text" id="providerProfileBusinessName" class="input-field" placeholder=" " autocomplete="organization" />
              <label class="input-label" for="providerProfileBusinessName">Betriebsname</label>
            </div>
            <div class="input-group">
              <input type="text" id="providerProfileStreet" class="input-field" placeholder=" " autocomplete="street-address" />
              <label class="input-label" for="providerProfileStreet">Straße & Hausnummer</label>
            </div>
            <div style="display:grid; grid-template-columns:1fr 2fr; gap:12px;">
              <div class="input-group">
                <input type="text" id="providerProfileZip" class="input-field" placeholder=" " maxlength="10" autocomplete="postal-code" />
                <label class="input-label" for="providerProfileZip">PLZ</label>
              </div>
              <div class="input-group">
                <input type="text" id="providerProfileCity" class="input-field" placeholder=" " autocomplete="address-level2" />
                <label class="input-label" for="providerProfileCity">Ort</label>
              </div>
            </div>
            <div class="input-group">
              <input type="tel" id="providerProfilePhone" class="input-field" placeholder=" " autocomplete="tel" />
              <label class="input-label" for="providerProfilePhone">Telefon</label>
            </div>
            <div class="input-group">
              <input type="email" id="providerProfileEmail" class="input-field" placeholder=" " autocomplete="email" />
              <label class="input-label" for="providerProfileEmail">E-Mail</label>
            </div>
            <div class="input-group" style="margin-bottom:24px;">
              <input type="url" id="providerProfileWebsite" class="input-field" placeholder=" " autocomplete="url" />
              <label class="input-label" for="providerProfileWebsite">Webseite</label>
            </div>
            <button type="button" id="btnProviderSaveBusiness" class="btn-primary" style="width:100%; min-height:56px; border-radius:16px; font-size:16px; font-weight:800; background:#FFD700; color:#1a1a1a; border:none; box-shadow:0 4px 12px rgba(255,215,0,0.2);">Daten speichern</button>
            <div style="margin-top:24px; padding-top:20px; border-top:1px solid #f1f3f5;">
              <h4 style="margin:0 0 12px; font-size:15px; font-weight:800; color:#1a1a1a;">Sicherheit</h4>
              <button type="button" id="btnProviderChangePassword" style="width:100%; display:flex; justify-content:space-between; align-items:center; padding:16px; background:#f8f9fa; border:2px solid #f1f3f5; border-radius:14px; text-decoration:none; color:#1a1a1a; font-size:15px; font-weight:700; cursor:pointer;">
                <div style="display:flex;align-items:center;gap:12px;"><i data-lucide="lock" style="width:20px;height:20px;color:#64748b;"></i><span>Passwort ändern</span></div>
                <i data-lucide="chevron-right" style="width:20px; height:20px; color:#cbd5e1;"></i>
              </button>
            </div>
          </div>

          <!-- Kachel: Zeitfenster -->
          <div class="provider-profile-card provider-settings-card" style="background:#fff; border-radius:24px; padding:24px; margin-bottom:20px; border:none; box-shadow:0 2px 12px rgba(0,0,0,0.06);">
            <h3 style="margin:0 0 16px; font-size:17px; font-weight:800; color:#1a1a1a;">⏰ Zeitfenster</h3>
            <p style="margin:0 0 16px; font-size:14px; color:#64748b; line-height:1.5;">Standard-Zeitfenster für neue Inserate.</p>
            <button type="button" id="providerSettingsTimeTrigger" class="provider-time-trigger">
              <span id="providerSettingsTimeDisplay" style="font-size:22px; font-weight:900; color:#1a1a1a;">11:30 – 13:30</span>
            </button>
            <div style="display:flex; align-items:center; gap:12px; margin-top:20px; margin-bottom:20px;">
              <div style="flex:1;">
                <label style="display:block; font-size:11px; font-weight:700; color:#9ca3af; margin-bottom:8px; text-transform:uppercase; letter-spacing:0.05em;">Start</label>
                <select id="providerMealStart" style="width:100%; height:52px; padding:0 12px; border:2px solid #f1f3f5; border-radius:14px; font-size:15px; font-weight:700; background:#f8f9fa; color:#1a1a1a; cursor:pointer;"></select>
              </div>
              <span style="color:#cbd5e1; font-weight:900; margin-top:20px;">–</span>
              <div style="flex:1;">
                <label style="display:block; font-size:11px; font-weight:700; color:#9ca3af; margin-bottom:8px; text-transform:uppercase; letter-spacing:0.05em;">Ende</label>
                <select id="providerMealEnd" style="width:100%; height:52px; padding:0 12px; border:2px solid #f1f3f5; border-radius:14px; font-size:15px; font-weight:700; background:#f8f9fa; color:#1a1a1a; cursor:pointer;"></select>
              </div>
            </div>
            <label style="display:block; font-size:11px; font-weight:700; color:#9ca3af; margin-bottom:12px; text-transform:uppercase; letter-spacing:0.05em;">An welchen Tagen?</label>
            <div id="providerLunchWeekdays" style="display:flex; gap:8px; flex-wrap:wrap;"></div>
          </div>

          <!-- Kachel: Service-Logik (3 Säulen) -->
          <div class="provider-profile-card provider-settings-card" style="background:#fff; border-radius:24px; overflow:hidden; margin-bottom:20px; border:none; box-shadow:0 2px 12px rgba(0,0,0,0.06);">
            <h3 style="margin:0; padding:24px 24px 0; font-size:17px; font-weight:800; color:#1a1a1a;">🏗️ Service-Logik</h3>
            <div style="padding:20px; border-bottom:1px solid #f8f9fa; display:flex; justify-content:space-between; align-items:center;">
              <div style="display:flex; align-items:center; gap:16px;">
                <div style="width:44px; height:44px; border-radius:14px; background:#f1f3f5; display:flex; align-items:center; justify-content:center; font-size:22px;">🍴</div>
                <div>
                  <div style="font-weight:800; color:#1a1a1a; font-size:16px;">Vor Ort essen</div>
                  <div style="font-size:13px; color:#64748b;">Platz im Betrieb anbieten</div>
                </div>
              </div>
              <label class="toggle-switch"><input type="checkbox" id="providerDineInEnabled"><span class="toggle-slider"></span></label>
            </div>
            <div style="padding:20px; border-bottom:1px solid #f8f9fa; display:flex; justify-content:space-between; align-items:center;">
              <div style="display:flex; align-items:center; gap:16px;">
                <div style="width:44px; height:44px; border-radius:14px; background:#f1f3f5; display:flex; align-items:center; justify-content:center; font-size:22px;">🔄</div>
                <div>
                  <div style="font-weight:800; color:#1a1a1a; font-size:16px;">Mehrweg-System</div>
                  <div style="font-size:13px; color:#64748b;">Vytal, Recup oder eigenes</div>
                </div>
              </div>
              <label class="toggle-switch"><input type="checkbox" id="providerReuseEnabled"><span class="toggle-slider"></span></label>
            </div>
            <div style="padding:20px; border-bottom:1px solid #f8f9fa; display:flex; justify-content:space-between; align-items:center;">
              <div style="display:flex; align-items:center; gap:16px;">
                <div style="width:44px; height:44px; border-radius:14px; background:rgba(255,215,0,0.15); display:flex; align-items:center; justify-content:center; font-size:22px;">🧾</div>
                <div>
                  <div style="font-weight:800; color:#1a1a1a; font-size:16px;">Abholnummer</div>
                  <div style="font-size:13px; color:#64748b;">Weniger Chaos & mehr Zeit</div>
                </div>
              </div>
              <label class="toggle-switch"><input type="checkbox" id="providerAbholnummerEnabled"><span class="toggle-slider"></span></label>
            </div>
            <div style="padding:20px; display:flex; justify-content:space-between; align-items:center;">
              <div style="display:flex; align-items:center; gap:16px;">
                <div style="width:44px; height:44px; border-radius:14px; background:#f1f3f5; display:flex; align-items:center; justify-content:center; font-size:22px;">🌾</div>
                <div>
                  <div style="font-weight:800; color:#1a1a1a; font-size:16px;">Allergene angeben?</div>
                  <div style="font-size:13px; color:#64748b;">Standard für neue Inserate</div>
                </div>
              </div>
              <label class="toggle-switch"><input type="checkbox" id="providerWantsAllergensEnabled"><span class="toggle-slider"></span></label>
            </div>
          </div>

          <!-- Danger Zone (Footer wie Kundenseite: Abrechnung, Support, Account löschen) -->
          <div class="provider-settings-danger-footer" style="margin-top:8px;">
            <button type="button" id="btnSettingsBillingArchive" class="provider-footer-row" style="width:100%; text-align:left; border:none; font-family:inherit;">
              <span>Rechnungsarchiv & PDFs (4,99 € Belege)</span>
              <i data-lucide="chevron-right" style="width:20px; height:20px; color:#cbd5e1; flex-shrink:0;"></i>
            </button>
            <button type="button" id="btnSettingsSupport" class="provider-footer-row" style="width:100%; text-align:left; border:none; font-family:inherit;">
              <span>Support & FAQ</span>
              <i data-lucide="chevron-right" style="width:20px; height:20px; color:#cbd5e1; flex-shrink:0;"></i>
            </button>
            <button type="button" id="btnProviderDeleteAccount" class="provider-footer-delete">
              Profil dauerhaft löschen
            </button>
          </div>
        </div>
      </div>

        <!-- Sub-Seiten: App-like gleicher Stil wie Hauptansicht -->
      <div id="providerProfileSubBusiness" class="provider-profile-sub" style="display:none; flex-direction:column; min-height:0; background:#f8fafc;">
        <header class="provider-sub-header" style="background:#fff; padding:10px 20px 12px; padding-top:calc(10px + env(safe-area-inset-top, 0)); border-bottom:1px solid #f1f3f5; position:sticky; top:0; z-index:50; display:flex; align-items:center; gap:14px;">
          <button type="button" id="providerProfileBackBusiness" aria-label="Zurück" style="width:44px; height:44px; border-radius:14px; background:#f1f3f5; border:none; cursor:pointer; display:flex; align-items:center; justify-content:center;">
            <i data-lucide="chevron-left" style="width:22px; height:22px; color:#1a1a1a;"></i>
          </button>
          <h1 style="margin:0; font-size:18px; font-weight:950; letter-spacing:-0.03em; color:#1a1a1a;">Meine Daten</h1>
        </header>
        <div style="padding:20px; flex:1; overflow-y:auto; max-width:500px; margin:0 auto; width:100%; box-sizing:border-box;">
          <p style="margin:0; font-size:15px; color:#64748b;">Betriebsdaten findest du in den <strong>Einstellungen</strong> (Zahnrad).</p>
        </div>
      </div>

      <!-- Sub-Seite: Präferenzen & Zeiten (Weiterleitung zu Einstellungen) -->
      <div id="providerProfileSubService" class="provider-profile-sub" style="display:none; flex-direction:column;">
        <header style="background:#fff; padding:24px 20px 20px; border-bottom:1px solid rgba(0,0,0,0.05); position:sticky; top:0; z-index:50; display:flex; align-items:center; gap:16px;">
          <button type="button" id="providerProfileBackService" aria-label="Zurück" style="width:40px; height:40px; border-radius:12px; background:#f8f9fa; border:none; cursor:pointer; display:flex; align-items:center; justify-content:center;">
            <i data-lucide="chevron-left" style="width:24px; height:24px; color:#1a1a1a;"></i>
          </button>
          <h1 style="margin:0; font-size:20px; font-weight:950; letter-spacing:-0.03em; color:#1a1a1a;">Präferenzen & Zeiten</h1>
        </header>
        <div style="padding:24px 20px; flex:1; overflow-y:auto;">
          <p style="margin:0; font-size:15px; color:#64748b;">Zeiten und Service-Optionen findest du in den <strong>Einstellungen</strong> (Zahnrad).</p>
        </div>
      </div>

      <!-- Sub-Seite: Zahlung & Abrechnung -->
      <div id="providerProfileSubPayment" class="provider-profile-sub" style="display:none; flex-direction:column;">
        <header style="background:#fff; padding:24px 20px 20px; border-bottom:1px solid rgba(0,0,0,0.05); position:sticky; top:0; z-index:50; display:flex; align-items:center; gap:16px;">
          <button type="button" id="providerProfileBackPayment" aria-label="Zurück" style="width:40px; height:40px; border-radius:12px; background:#f8f9fa; border:none; cursor:pointer; display:flex; align-items:center; justify-content:center;">
            <i data-lucide="chevron-left" style="width:24px; height:24px; color:#1a1a1a;"></i>
          </button>
          <h1 style="margin:0; font-size:20px; font-weight:950; letter-spacing:-0.03em; color:#1a1a1a;">Abrechnung</h1>
        </header>
        <div style="padding:24px 20px; flex:1;">
          <div style="background:#fff; border-radius:24px; padding:24px; border:1px solid rgba(0,0,0,0.04); box-shadow:0 4px 12px rgba(0,0,0,0.02); margin-bottom:20px;">
            <h3 style="margin:0 0 4px; font-size:17px; font-weight:800; color:#1a1a1a;">Zahlungsmethode</h3>
            <p style="margin:0 0 20px; font-size:14px; color:#64748b;">Für Inseratsgebühren (4,99 € pro Inserat).</p>
            <div id="providerStripeStatus" style="padding:16px; border-radius:16px; background:#f8f9fa; border:2px solid #f1f3f5; margin-bottom:16px; font-size:14px; font-weight:600; color:#64748b; display:flex; align-items:center; gap:10px;">
              <i data-lucide="credit-card" style="width:20px; height:20px;"></i>
              <span>Keine Methode hinterlegt</span>
            </div>
            <button type="button" id="btnProviderBillingPortal" style="width:100%; height:56px; background:var(--brand); color:#fff; border:none; border-radius:18px; font-weight:800; font-size:16px; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:10px;">
              <span>Stripe Dashboard öffnen</span>
              <i data-lucide="external-link" style="width:20px; height:20px;"></i>
            </button>
          </div>

          <div style="background:#fff; border-radius:24px; padding:24px; border:1px solid rgba(0,0,0,0.04); box-shadow:0 4px 12px rgba(0,0,0,0.02);">
            <h3 style="margin:0 0 8px; font-size:17px; font-weight:800; color:#1a1a1a;">Rechnungsverlauf</h3>
            <p style="margin:0 0 20px; font-size:14px; color:#64748b; line-height:1.5;">Chronologische Liste mit PDF-Download für die Buchhaltung.</p>
            <button type="button" id="btnBillingArchive" style="width:100%; display:flex; justify-content:space-between; align-items:center; padding:16px 20px; background:#f8f9fa; border:2px solid #f1f3f5; border-radius:16px; color:#1a1a1a; font-size:16px; font-weight:700; cursor:pointer;">
              <span>Rechnungsarchiv</span>
              <i data-lucide="chevron-right" style="width:20px; height:20px; color:#cbd5e1;"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Sub-Seite: FAQ & Support -->
      <div id="providerProfileSubFaq" class="provider-profile-sub" style="display:none; flex-direction:column;">
        <header style="background:#fff; padding:24px 20px 20px; border-bottom:1px solid rgba(0,0,0,0.05); position:sticky; top:0; z-index:50; display:flex; align-items:center; gap:16px;">
          <button type="button" id="providerProfileBackFaq" aria-label="Zurück" style="width:40px; height:40px; border-radius:12px; background:#f8f9fa; border:none; cursor:pointer; display:flex; align-items:center; justify-content:center;">
            <i data-lucide="chevron-left" style="width:24px; height:24px; color:#1a1a1a;"></i>
          </button>
          <h1 style="margin:0; font-size:20px; font-weight:950; letter-spacing:-0.03em; color:#1a1a1a;">FAQ & Support</h1>
        </header>
        <div style="padding:24px 20px; flex:1;">
          <div style="background:#fff; border-radius:24px; padding:24px; border:1px solid rgba(0,0,0,0.04); box-shadow:0 4px 12px rgba(0,0,0,0.02); margin-bottom:20px;">
            <h3 style="margin:0 0 16px; font-size:17px; font-weight:800; color:#1a1a1a;">Häufige Themen</h3>
            <div id="providerSupportTiles" style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:24px;">
              <button type="button" class="provider-support-tile" data-topic="inserieren" data-subject="Probleme beim Inserieren" style="display:flex; flex-direction:column; align-items:center; justify-content:center; gap:8px; padding:16px; background:#f8f9fa; border-radius:20px; border:2px solid #f1f3f5; font-size:13px; font-weight:800; color:#1a1a1a; cursor:pointer; text-align:center;">
                <span style="font-size:24px;">✍️</span> Inserieren
              </button>
              <button type="button" class="provider-support-tile" data-topic="zahlung" data-subject="Zahlung & Abrechnung" style="display:flex; flex-direction:column; align-items:center; justify-content:center; gap:8px; padding:16px; background:#f8f9fa; border-radius:20px; border:2px solid #f1f3f5; font-size:13px; font-weight:800; color:#1a1a1a; cursor:pointer; text-align:center;">
                <span style="font-size:24px;">💳</span> Zahlung
              </button>
              <button type="button" class="provider-support-tile" data-topic="abholnummer" data-subject="Abholnummer & Icons" style="display:flex; flex-direction:column; align-items:center; justify-content:center; gap:8px; padding:16px; background:#f8f9fa; border-radius:20px; border:2px solid #f1f3f5; font-size:13px; font-weight:800; color:#1a1a1a; cursor:pointer; text-align:center;">
                <span style="font-size:24px;">🧾</span> Abholnummer
              </button>
              <button type="button" class="provider-support-tile" data-topic="profil" data-subject="Mein Profil / Standort" style="display:flex; flex-direction:column; align-items:center; justify-content:center; gap:8px; padding:16px; background:#f8f9fa; border-radius:20px; border:2px solid #f1f3f5; font-size:13px; font-weight:800; color:#1a1a1a; cursor:pointer; text-align:center;">
                <span style="font-size:24px;">📍</span> Profil
              </button>
            </div>
            
            <div id="providerSupportSolution" style="display:none; padding:20px; background:rgba(0,122,255,0.05); border-radius:20px; border:1px solid rgba(0,122,255,0.1); margin-bottom:20px;">
              <p id="providerSupportSolutionText" style="margin:0 0 16px; font-size:15px; line-height:1.6; color:#1a1a1a; font-weight:600;"></p>
              <button type="button" id="providerSupportContactBtn" style="width:100%; height:44px; font-size:14px; font-weight:800; color:var(--prov-brand); background:#fff; border:none; border-radius:12px; cursor:pointer; box-shadow:0 4px 12px rgba(0,0,0,0.05);">Nicht gelöst? Nachricht an uns</button>
            </div>

            <div id="providerSupportFormWrap" style="display:none; margin-bottom:20px;">
              <label style="display:block; font-size:12px; font-weight:800; color:#64748b; margin-bottom:6px; text-transform:uppercase;">Nachricht</label>
              <textarea id="providerSupportMessage" rows="4" placeholder="Beschreibe uns kurz dein Anliegen..." style="width:100%; padding:16px; border:2px solid #f1f3f5; border-radius:16px; font-size:16px; background:#f8f9fa; font-weight:600; resize:none; box-sizing:border-box;"></textarea>
              <button type="button" id="providerSupportSendBtn" style="width:100%; margin-top:16px; height:56px; font-size:16px; font-weight:800; color:#fff; background:var(--prov-brand); border:none; border-radius:18px; cursor:pointer;">E-Mail senden</button>
            </div>
          </div>

          <div style="background:#fff; border-radius:24px; overflow:hidden; border:1px solid rgba(0,0,0,0.04); box-shadow:0 4px 12px rgba(0,0,0,0.02);">
            <a href="#" onclick="showLegalPage('impressum-provider'); return false;" style="display:flex; justify-content:space-between; align-items:center; padding:20px; text-decoration:none; color:#1a1a1a; font-size:16px; font-weight:700; border-bottom:1px solid #f8f9fa;">
              <div style="display:flex;align-items:center;gap:12px;"><i data-lucide="info" style="width:20px;height:20px;color:#64748b;"></i><span>Impressum</span></div>
              <i data-lucide="chevron-right" style="color:#cbd5e1; width:20px;"></i>
            </a>
            <a href="#" onclick="showLegalPage('agb-provider'); return false;" style="display:flex; justify-content:space-between; align-items:center; padding:20px; text-decoration:none; color:#1a1a1a; font-size:16px; font-weight:700; border-bottom:1px solid #f8f9fa;">
              <div style="display:flex;align-items:center;gap:12px;"><i data-lucide="shield-check" style="width:20px;height:20px;color:#64748b;"></i><span>AGB</span></div>
              <i data-lucide="chevron-right" style="color:#cbd5e1; width:20px;"></i>
            </a>
            <a href="#" onclick="showLegalPage('datenschutz-provider'); return false;" style="display:flex; justify-content:space-between; align-items:center; padding:20px; text-decoration:none; color:#1a1a1a; font-size:16px; font-weight:700;">
              <div style="display:flex;align-items:center;gap:12px;"><i data-lucide="eye" style="width:20px;height:20px;color:#64748b;"></i><span>Datenschutz</span></div>
              <i data-lucide="chevron-right" style="color:#cbd5e1; width:20px;"></i>
            </a>
          </div>
        </div>
      </div>
      </div>
    </section>

    <!-- STATISCHE RECHTSTEXTE-SEITEN: KUNDEN -->
    <section class="view" id="v-legal-impressum">
      <div class="panel">
        <h1 style="font-size:24px; font-weight:900; margin-bottom:20px;">Impressum</h1>
        <div style="line-height:1.8; font-size:15px;">
          <p>
            <strong>Betreiber:</strong> Mike Quach<br>
            <strong>Adresse:</strong> Langäcker 2, 73635 Rudersberg<br>
            <strong>Kontakt:</strong> <a href="mailto:info@mittagio.de" style="color:var(--brand);">info@mittagio.de</a>
          </p>
          <p style="margin-top:20px; padding-top:20px; border-top:1px solid #eee; font-size:13px; color:#666;">
            <strong>Plattformhinweis:</strong><br>
            Mittagio vermittelt Mittagsangebote lokaler Anbieter. Vertragspartner bei Bestellungen ist ausschließlich der jeweilige Anbieter.
          </p>
        </div>
        <div style="margin-top:24px; padding-top:16px; border-top:1px solid #eee; text-align:center; font-size:13px; color:#94a3b8;">
          mittagio • made with ❤️ in Rudersberg
        </div>
        <button class="btn ghost btn-back" type="button" onclick="goBackFromLegalPage()" style="margin-top:20px; width:100%;"><i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück</button>
      </div>
    </section>

    <!-- Impressum für Anbieter: einheitlich helles Layout -->
    <section class="view" id="v-legal-impressum-provider" style="min-height:100vh; padding:20px; padding-bottom:90px;">
      <div class="panel" style="padding:20px; border-radius:16px; box-shadow:0 2px 12px rgba(0,0,0,0.06); border:1px solid rgba(0,0,0,0.06);">
        <h1 style="font-size:24px; font-weight:900; margin-bottom:20px; color:#1a1a1a;">Impressum</h1>
        <div style="line-height:1.8; font-size:15px; color:#334155;">
          <p>
            <strong>Betreiber:</strong> Mike Quach<br>
            <strong>Adresse:</strong> Langäcker 2, 73635 Rudersberg<br>
            <strong>Kontakt:</strong> <a href="mailto:info@mittagio.de" style="color:#0A84FF;">info@mittagio.de</a>
          </p>
          <p style="margin-top:20px; padding-top:20px; border-top:1px solid rgba(0,0,0,0.08); font-size:13px; color:#64748b;">
            <strong>Plattformhinweis:</strong><br>
            Mittagio ist eine Vermittlungsplattform für lokale Gastronomie. Als Anbieter nutzt du unsere digitale Infrastruktur zur Verwaltung deiner Mittagsangebote und zur Abwicklung von Online-Bestellungen.
          </p>
        </div>
        <div style="margin-top:24px; padding-top:16px; border-top:1px solid rgba(0,0,0,0.08); text-align:center; font-size:13px; color:#64748b;">
          made with ❤️ by mittagio.de
        </div>
        <button class="btn ghost btn-back" type="button" onclick="goBackFromLegalPage()" style="margin-top:20px; width:100%;"><i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück</button>
      </div>
    </section>

    <!-- AGB für Kunden -->
    <section class="view" id="v-legal-agb-kurz">
      <div class="panel">
        <h1 style="font-size:24px; font-weight:900; margin-bottom:20px;">AGB (Kunden)</h1>
        <div style="line-height:1.8; font-size:15px;">
          <p><strong>Mittagio ist Plattform, nicht Verkäufer</strong></p>
          <p>Mittagio vermittelt Mittagsangebote lokaler Anbieter. Vertragspartner bei Bestellungen ist ausschließlich der jeweilige Anbieter.</p>
          
          <p style="margin-top:20px;"><strong>Bestellung & Zahlung:</strong></p>
          <p>Du bestellst direkt beim Anbieter über unsere Plattform. Die Zahlung erfolgt sicher online. Nach erfolgreicher Zahlung erhältst du deine Abholnummer.</p>
          
          <p style="margin-top:20px;"><strong>Abholnummer:</strong></p>
          <p>Die Abholnummer dient als Zahlungs- & Abholnachweis. Zeige sie beim Abholen vor, um dein Essen zu erhalten.</p>
          
          <p style="margin-top:20px;"><strong>Stornierung:</strong></p>
          <p>Stornierungen sind bis zu einer bestimmten Frist vor der Abholzeit möglich. Details findest du in der Bestellübersicht.</p>
          
          <p style="margin-top:20px;"><strong>Verantwortung:</strong></p>
          <p>Der Anbieter ist verantwortlich für Speisen, Preise und gesetzliche Vorgaben. Mittagio übernimmt keine Haftung für die Qualität der Speisen.</p>
          
          <p style="margin-top:20px;"><strong>Support:</strong></p>
          <p>Kunden-Hilfe: <a href="mailto:info@mittagio.de" style="color:var(--brand);">info@mittagio.de</a></p>
        </div>
        <div style="margin-top:24px; padding-top:16px; border-top:1px solid #eee; text-align:center; font-size:13px; color:#94a3b8;">
          mittagio • made with ❤️ in Rudersberg
        </div>
        <button class="btn ghost btn-back" type="button" onclick="goBackFromLegalPage()" style="margin-top:20px; width:100%;"><i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück</button>
      </div>
    </section>

    <!-- AGB für Anbieter: einheitlich helles Layout -->
    <section class="view" id="v-legal-agb-provider" style="min-height:100vh; padding:20px; padding-bottom:90px;">
      <div style="margin-bottom:24px; display:flex; align-items:center; gap:12px;">
        <button type="button" onclick="goBackFromLegalPage()" aria-label="Zurück" style="width:40px; height:40px; border-radius:50%; background:#fff; border:none; box-shadow:0 2px 8px rgba(0,0,0,0.08); cursor:pointer; display:flex; align-items:center; justify-content:center;"><i data-lucide="chevron-left" style="width:22px; height:22px; color:#1a1a1a;"></i></button>
        <h1 style="margin:0; font-size:22px; font-weight:800; color:#1a1a1a; letter-spacing:-0.02em;">AGB (Anbieter)</h1>
      </div>
      <p style="margin:0 0 20px; font-size:14px; color:#8e8e93;">Klick auf eine Zeile öffnet den rechtlichen Text.</p>
      <div id="agbProviderAccordion" style="display:flex; flex-direction:column; gap:12px;">
        <details class="agb-provider-item" style="background:#fff; border-radius:16px; overflow:hidden; box-shadow:0 2px 12px rgba(0,0,0,0.06);">
          <summary style="padding:18px 20px; font-size:16px; font-weight:600; color:#1a1a1a; cursor:pointer; list-style:none; display:flex; align-items:center; gap:10px;"><span style="color:#8e8e93;">§ 1</span> Geltungsbereich &amp; Plattform-Modell</summary>
          <div style="padding:0 20px 20px; font-size:15px; line-height:1.7; color:#3a3a3c;">
            <p style="margin:0 0 12px;">Wir bieten eine Plattform zur Vermittlung von Mahlzeiten für Gastronomie und Handwerk an.</p>
            <p style="margin:0;">Ziel ist die Maximierung deines Umsatzes durch effiziente Inserate. Eine Nutzung als reines Informationstool ohne Verkaufsabsicht ist nicht gestattet.</p>
          </div>
        </details>
        <details class="agb-provider-item" style="background:#fff; border-radius:16px; overflow:hidden; box-shadow:0 2px 12px rgba(0,0,0,0.06);">
          <summary style="padding:18px 20px; font-size:16px; font-weight:600; color:#1a1a1a; cursor:pointer; list-style:none; display:flex; align-items:center; gap:10px;"><span style="color:#8e8e93;">§ 2</span> Inserate &amp; Kosten (Das 4,99 € Modell)</summary>
          <div style="padding:0 20px 20px; font-size:15px; line-height:1.7; color:#3a3a3c;">
            <p style="margin:0 0 12px;"><strong>Fixpreis:</strong> Jedes Inserat wird mit einer Pauschale von 4,99 € berechnet.</p>
            <p style="margin:0 0 12px;"><strong>Zusatzleistung:</strong> Die Abholnummer kann für 0,89 € pro Vorgang optional hinzugebucht werden. Dieser Preis deckt alle Transaktionsgebühren ab.</p>
            <p style="margin:0 0 12px;"><strong>Fälligkeit:</strong> Die Gebühr wird mit Veröffentlichung des Inserats fällig.</p>
            <p style="margin:0 0 12px;"><strong>Kein Abo. Kein Vertrag.</strong> Die Nutzung erfolgt ohne vertragliche Mindestlaufzeit. Jede Inseratsgebühr (4,99 €) ist eine Einzeltransaktion.</p>
            <p style="margin:0;"><strong>Jederzeit flexibel:</strong> Du kannst die App jederzeit deinstallieren oder dein Profil löschen, ohne Kündigungsfristen beachten zu müssen.</p>
          </div>
        </details>
        <details class="agb-provider-item" style="background:#fff; border-radius:16px; overflow:hidden; box-shadow:0 2px 12px rgba(0,0,0,0.06);">
          <summary style="padding:18px 20px; font-size:16px; font-weight:600; color:#1a1a1a; cursor:pointer; list-style:none; display:flex; align-items:center; gap:10px;"><span style="color:#8e8e93;">§ 3</span> Zeitfenster-Logik (Keine Bestandsführung)</summary>
          <div style="padding:0 20px 20px; font-size:15px; line-height:1.7; color:#3a3a3c;">
            <p style="margin:0 0 12px;"><strong>Mittags-Fokus:</strong> Inserate sind streng an das gewählte Mittags-Zeitfenster gebunden.</p>
            <p style="margin:0;"><strong>Automatisierung:</strong> Das Angebot endet automatisch mit Ablauf der Endzeit. Eine manuelle Bestandsführung (Stückzahlen) ist systemseitig nicht vorgesehen.</p>
          </div>
        </details>
        <details class="agb-provider-item" style="background:#fff; border-radius:16px; overflow:hidden; box-shadow:0 2px 12px rgba(0,0,0,0.06);">
          <summary style="padding:18px 20px; font-size:16px; font-weight:600; color:#1a1a1a; cursor:pointer; list-style:none; display:flex; align-items:center; gap:10px;"><span style="color:#8e8e93;">§ 4</span> Die 3 Säulen &amp; Emoji-Regeln</summary>
          <div style="padding:0 20px 20px; font-size:15px; line-height:1.7; color:#3a3a3c;">
            <p style="margin:0 0 12px;">Der Anbieter ist für die korrekte Kennzeichnung verantwortlich:</p>
            <ul style="margin:0 0 12px; padding-left:20px;">
              <li><strong>🍴 Vor Ort essen:</strong> Optionaler Toggle.</li>
              <li><strong>🔄 Mehrweg:</strong> Nachhaltigkeits-Toggle.</li>
              <li><strong>🧾 Abholnummer:</strong> Zusatzservice für 0,89 €.</li>
            </ul>
            <p style="margin:0;"><strong>Wording:</strong> Die Verwendung der Begriffe „Ticket“ oder „Abholcode“ ist untersagt. Es gilt ausschließlich die Abholnummer.</p>
          </div>
        </details>
        <details class="agb-provider-item" style="background:#fff; border-radius:16px; overflow:hidden; box-shadow:0 2px 12px rgba(0,0,0,0.06);">
          <summary style="padding:18px 20px; font-size:16px; font-weight:600; color:#1a1a1a; cursor:pointer; list-style:none; display:flex; align-items:center; gap:10px;"><span style="color:#8e8e93;">§ 5</span> Account-Sicherheit &amp; Session-Limit</summary>
          <div style="padding:0 20px 20px; font-size:15px; line-height:1.7; color:#3a3a3c;">
            <p style="margin:0 0 12px;"><strong>Single-Session:</strong> Um die Integrität des Systems zu wahren, ist nur eine aktive Sitzung pro Account erlaubt. Bei Anmeldung auf einem neuen Gerät wird die bestehende Sitzung nach Bestätigung beendet.</p>
            <p style="margin:0;"><strong>Löschung:</strong> Das Konto kann jederzeit im Profil gelöscht werden. Mit der Löschung enden alle aktiven Inserate sofort.</p>
          </div>
        </details>
        <details class="agb-provider-item" style="background:#fff; border-radius:16px; overflow:hidden; box-shadow:0 2px 12px rgba(0,0,0,0.06);">
          <summary style="padding:18px 20px; font-size:16px; font-weight:600; color:#1a1a1a; cursor:pointer; list-style:none; display:flex; align-items:center; gap:10px;"><span style="color:#8e8e93;">§ 6</span> Datenschutz &amp; Standort (Silicon Valley Standard)</summary>
          <div style="padding:0 20px 20px; font-size:15px; line-height:1.7; color:#3a3a3c;">
            <p style="margin:0 0 12px;"><strong>Geodaten:</strong> Wir nutzen deinen Standort nur, um Kunden im Umkreis dein Angebot anzuzeigen.</p>
            <p style="margin:0;"><strong>Transparenz:</strong> Es erfolgt kein Tracking der Nutzer außerhalb der App-Nutzung. Daten werden nicht an Dritte verkauft.</p>
          </div>
        </details>
      </div>
      <!-- Globaler Footer (Big Tech Design) – Ende jeder rechtlichen Seite -->
      <footer style="margin-top:32px; padding:24px; background:#fff; border-radius:16px; box-shadow:0 2px 12px rgba(0,0,0,0.06);">
        <h2 style="margin:0 0 12px; font-size:14px; font-weight:700; color:#8e8e93; text-transform:uppercase; letter-spacing:0.05em;">Impressum</h2>
        <p style="margin:0; font-size:15px; line-height:1.6; color:#3a3a3c;">
          <strong>Betreiber:</strong> Mike Quach<br>
          <strong>Anschrift:</strong> Langäcker 2, 73635 Rudersberg<br>
          <strong>Kontakt:</strong> <a href="mailto:info@mittagio.de" style="color:#007aff; text-decoration:none;">info@mittagio.de</a>
        </p>
      </footer>
    </section>

    <!-- FAQ mit Reitern (Kunden & Anbieter) -->
    <section class="view" id="v-legal-faq" style="background:#F7F6F0; min-height:100vh; padding:20px; padding-bottom:90px;">
      <div class="panel" style="padding:0; overflow:hidden;">
        <h1 style="font-size:24px; font-weight:900; margin:20px 20px 0; padding-bottom:20px;">FAQ</h1>
        
        <!-- Reiter (Tabs) -->
        <div style="display:flex; border-bottom:2px solid #eee; background:#fff;">
          <button class="faq-tab-btn" id="faqTabCustomer" onclick="switchFaqTab('customer')" style="flex:1; padding:16px; background:#fff; border:none; border-bottom:3px solid #FFD700; font-weight:700; font-size:15px; color:#334155; cursor:pointer;">
            Für Kunden
          </button>
          <button class="faq-tab-btn" id="faqTabProvider" onclick="switchFaqTab('provider')" style="flex:1; padding:16px; background:#f9f9f9; border:none; border-bottom:3px solid transparent; font-weight:600; font-size:15px; color:#666; cursor:pointer;">
            Für Anbieter
          </button>
        </div>
        
        <!-- FAQ-Inhalt: Kunden (Accordion – Tippen = Ausklappen) -->
        <div id="faqContentCustomer" style="display:block; padding:20px; line-height:1.8; font-size:15px;">
          <h2 style="font-size:16px; font-weight:800; margin:0 0 12px; color:#1a1a1a; text-transform:uppercase; letter-spacing:0.5px;">Bestellungen &amp; Bezahlung</h2>
          <details style="background:#fff; border-radius:12px; border:1px solid rgba(0,0,0,.06); overflow:hidden; margin-bottom:8px;">
            <summary style="padding:14px 16px; font-size:15px; font-weight:700; color:#2D3436; cursor:pointer; list-style:none;">Muss ich mich registrieren?</summary>
            <p style="margin:0; padding:0 16px 16px; font-size:15px; color:#666;">Ja, damit wir deine Abholnummer sicher zuordnen und dir deine Bestellhistorie anzeigen können.</p>
          </details>
          <details style="background:#fff; border-radius:12px; border:1px solid rgba(0,0,0,.06); overflow:hidden; margin-bottom:8px;">
            <summary style="padding:14px 16px; font-size:15px; font-weight:700; color:#2D3436; cursor:pointer; list-style:none;">Wie bezahle ich mein Essen?</summary>
            <p style="margin:0; padding:0 16px 16px; font-size:15px; color:#666;">Die Bezahlung erfolgt digital direkt über die Plattform, damit du vor Ort keine Wartezeit an der Kasse hast.</p>
          </details>
          <details style="background:#fff; border-radius:12px; border:1px solid rgba(0,0,0,.06); overflow:hidden; margin-bottom:16px;">
            <summary style="padding:14px 16px; font-size:15px; font-weight:700; color:#2D3436; cursor:pointer; list-style:none;">Kann ich eine Bestellung stornieren?</summary>
            <p style="margin:0; padding:0 16px 16px; font-size:15px; color:#666;">Da die Mahlzeiten frisch für dich vorbereitet werden, ist eine Stornierung nach Ablauf des Zeitfensters leider nicht möglich.</p>
          </details>
          <h2 style="font-size:16px; font-weight:800; margin:0 0 12px; color:#1a1a1a; text-transform:uppercase; letter-spacing:0.5px;">Anbieter &amp; Auswahl</h2>
          <details style="background:#fff; border-radius:12px; border:1px solid rgba(0,0,0,.06); overflow:hidden; margin-bottom:8px;">
            <summary style="padding:14px 16px; font-size:15px; font-weight:700; color:#2D3436; cursor:pointer; list-style:none;">Warum sehe ich keine Mehrweg-Option bei meinem Anbieter?</summary>
            <p style="margin:0; padding:0 16px 16px; font-size:15px; color:#666;">Wir arbeiten daran, dass bald alle Partner Mehrweg anbieten. Aktuell liegt die Entscheidung noch beim jeweiligen Anbieter.</p>
          </details>
          <details style="background:#fff; border-radius:12px; border:1px solid rgba(0,0,0,.06); overflow:hidden; margin-bottom:16px;">
            <summary style="padding:14px 16px; font-size:15px; font-weight:700; color:#2D3436; cursor:pointer; list-style:none;">Sind die Allergene (Glutenfrei etc.) verlässlich?</summary>
            <p style="margin:0; padding:0 16px 16px; font-size:15px; color:#666;">Ja, die Angaben stammen direkt vom Anbieter. Du kannst diese Filter in deinem Profil unter „Mein Geschmack“ voreinstellen.</p>
          </details>
          <h2 style="font-size:16px; font-weight:800; margin:0 0 12px; color:#1a1a1a; text-transform:uppercase; letter-spacing:0.5px;">Technik &amp; Account</h2>
          <details style="background:#fff; border-radius:12px; border:1px solid rgba(0,0,0,.06); overflow:hidden; margin-bottom:8px;">
            <summary style="padding:14px 16px; font-size:15px; font-weight:700; color:#2D3436; cursor:pointer; list-style:none;">Wo finde ich meine alten Bestellungen?</summary>
            <p style="margin:0; padding:0 16px 16px; font-size:15px; color:#666;">Alle vergangenen Mahlzeiten sind in deinem Profil in der „Historie“ chronologisch aufgelistet.</p>
          </details>
          <details style="background:#fff; border-radius:12px; border:1px solid rgba(0,0,0,.06); overflow:hidden; margin-bottom:16px;">
            <summary style="padding:14px 16px; font-size:15px; font-weight:700; color:#2D3436; cursor:pointer; list-style:none;">Wie ändere ich meine Mail-Adresse?</summary>
            <p style="margin:0; padding:0 16px 16px; font-size:15px; color:#666;">Gehe in deinem Profil zum Bereich „Profildaten“ – dort kannst du deine E-Mail und deinen Namen jederzeit aktualisieren.</p>
          </details>
        </div>
        
        <!-- FAQ-Inhalt: Anbieter (Accordion – Tippen = Ausklappen) -->
        <div id="faqContentProvider" style="display:none; padding:20px; line-height:1.8; font-size:15px;">
          <h2 style="font-size:16px; font-weight:800; margin:0 0 12px; color:#1a1a1a; text-transform:uppercase; letter-spacing:0.5px;">Kosten &amp; Flexibilität</h2>
          <details style="background:#fff; border-radius:12px; border:1px solid rgba(0,0,0,.06); overflow:hidden; margin-bottom:8px;">
            <summary style="padding:14px 16px; font-size:16px; font-weight:700; color:#2D3436; cursor:pointer; list-style:none;">Gibt es eine monatliche Grundgebühr oder ein Abo?</summary>
            <p style="margin:0; padding:0 16px 16px; font-size:15px; color:#666;">Nein. Bei uns gibt es kein Abo, keine Verträge und keine Laufzeiten. Du zahlst nur, wenn du wirklich ein Inserat schaltest. Wenn du nicht inserierst, entstehen dir keinerlei Kosten.</p>
          </details>
          <h2 style="font-size:16px; font-weight:800; margin:0 0 12px; color:#1a1a1a; text-transform:uppercase; letter-spacing:0.5px;">Küche &amp; Ablauf</h2>
          <details style="background:#fff; border-radius:12px; border:1px solid rgba(0,0,0,.06); overflow:hidden; margin-bottom:8px;">
            <summary style="padding:14px 16px; font-size:16px; font-weight:700; color:#2D3436; cursor:pointer; list-style:none;">Wie funktioniert der Küchenmodus?</summary>
            <p style="margin:0; padding:0 16px 16px; font-size:15px; color:#666;">Der Küchenmodus ist dein digitales Cockpit. Hier siehst du live eingehende Bestellungen, kannst deine Mittagskarte verwalten und die Abholnummer-Liste für deine Küche ausdrucken oder per E-Mail versenden.</p>
          </details>
          <details style="background:#fff; border-radius:12px; border:1px solid rgba(0,0,0,.06); overflow:hidden; margin-bottom:8px;">
            <summary style="padding:14px 16px; font-size:16px; font-weight:700; color:#2D3436; cursor:pointer; list-style:none;">Warum gibt es eine Service-Pauschale von 0,89 €?</summary>
            <p style="margin:0; padding:0 16px 16px; font-size:15px; color:#666;">Diese Pauschale ist dein „Rundum-Sorglos-Paket". Wir übernehmen die komplette Zahlungsabwicklung und die Bankgebühren für dich. Zudem sparst du massiv Personalzeit an der Kasse und hast keinen manuellen Buchungsaufwand mehr.</p>
          </details>
          <details style="background:#fff; border-radius:12px; border:1px solid rgba(0,0,0,.06); overflow:hidden; margin-bottom:8px;">
            <summary style="padding:14px 16px; font-size:16px; font-weight:700; color:#2D3436; cursor:pointer; list-style:none;">Muss ich eine Mindestmenge an Essen angeben?</summary>
            <p style="margin:0; padding:0 16px 16px; font-size:15px; color:#666;">Nein. Du entscheidest flexibel, wann ein Gericht „Ausverkauft" ist. Ein Klick im Küchenmodus genügt, um das Angebot für den Tag zu beenden.</p>
          </details>
          <details style="background:#fff; border-radius:12px; border:1px solid rgba(0,0,0,.06); overflow:hidden; margin-bottom:16px;">
            <summary style="padding:14px 16px; font-size:16px; font-weight:700; color:#2D3436; cursor:pointer; list-style:none;">Wie sicher ist die Auszahlung?</summary>
            <p style="margin:0; padding:0 16px 16px; font-size:15px; color:#666;">Wir arbeiten mit professionellen Zahlungsdienstleistern zusammen. Dein Umsatz wird gesammelt und regelmäßig direkt auf dein Bankkonto überwiesen – sauber aufgeschlüsselt für deine Buchhaltung.</p>
          </details>
        </div>
        
        <div style="margin-top:32px; padding:20px; border-top:1px solid #eee; text-align:center; font-size:14px; color:#666; background:#f9f9f9;">
          Weitere Fragen? Nutze den Button „Weitere Fragen &amp; Hilfe“ in deinem Profil (Meins).
        </div>
        <button class="btn ghost btn-back" type="button" onclick="goBackFromLegalPage()" style="margin:0 20px 20px; width:calc(100% - 40px);"><i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück</button>
      </div>
    </section>

    <!-- Support-Seite (Kunden): erweiterte FAQs + Kontaktformular, keine E-Mail im UI -->
    <section class="view" id="v-support" style="background:#F7F6F0; min-height:100vh; padding:20px; padding-bottom:90px;">
      <div class="panel" style="padding:0; overflow:hidden;">
        <h1 style="font-size:24px; font-weight:900; margin:20px 20px 0; padding-bottom:20px;">Support &amp; Hilfe</h1>

        <!-- Erweiterte Kunden-FAQs (Zahlung, Stornierung, Account) -->
        <div style="padding:0 20px 20px;">
          <h2 style="font-size:16px; font-weight:800; margin:0 0 12px; color:#1a1a1a;">Häufige Fragen</h2>
          <details style="background:#fff; border-radius:12px; border:1px solid rgba(0,0,0,.06); overflow:hidden; margin-bottom:8px;">
            <summary style="padding:12px 14px; font-size:14px; font-weight:600; color:#1a1a1a; cursor:pointer; list-style:none;">Wie bezahle ich mein Essen?</summary>
            <p style="margin:0; padding:0 14px 14px 14px; font-size:14px; line-height:1.5; color:#555;">Die Bezahlung erfolgt digital direkt über die Plattform. Nach erfolgreicher Zahlung erhältst du deine Abholnummer.</p>
          </details>
          <details style="background:#fff; border-radius:12px; border:1px solid rgba(0,0,0,.06); overflow:hidden; margin-bottom:8px;">
            <summary style="padding:12px 14px; font-size:14px; font-weight:600; color:#1a1a1a; cursor:pointer; list-style:none;">Kann ich eine Bestellung stornieren?</summary>
            <p style="margin:0; padding:0 14px 14px 14px; font-size:14px; line-height:1.5; color:#555;">Da die Mahlzeiten frisch für dich vorbereitet werden, ist eine Stornierung nach Ablauf des Zeitfensters leider nicht möglich. Details findest du in der Bestellübersicht.</p>
          </details>
          <details style="background:#fff; border-radius:12px; border:1px solid rgba(0,0,0,.06); overflow:hidden; margin-bottom:8px;">
            <summary style="padding:12px 14px; font-size:14px; font-weight:600; color:#1a1a1a; cursor:pointer; list-style:none;">Wo finde ich meine Bestellungen / Account?</summary>
            <p style="margin:0; padding:0 14px 14px 14px; font-size:14px; line-height:1.5; color:#555;">Alle Bestellungen und deine Profildaten findest du unter „Meins“ in der App.</p>
          </details>
        </div>

        <!-- Kontaktformular -->
        <div style="padding:20px; border-top:1px solid #eee;">
          <h2 style="font-size:16px; font-weight:800; margin:0 0 16px; color:#1a1a1a;">Nachricht senden</h2>
          <form id="supportForm" style="display:flex; flex-direction:column; gap:14px;">
            <label style="font-size:14px; font-weight:600; color:#334155;">Betreff</label>
            <select id="supportSubject" required style="width:100%; padding:14px 16px; border-radius:12px; border:2px solid rgba(0,0,0,.1); font-size:15px; background:#fff;">
              <option value="">Bitte wählen</option>
              <option value="bestellung">Frage zu meiner Bestellung</option>
              <option value="abholnummer">Problem mit Abholnummer</option>
              <option value="lob">Lob &amp; Kritik</option>
              <option value="technisch">Technischer Fehler</option>
              <option value="sonstiges">Sonstiges</option>
            </select>
            <label style="font-size:14px; font-weight:600; color:#334155;">Abholnummer (optional)</label>
            <input type="text" id="supportPickupRef" placeholder="z.B. #1A" style="width:100%; padding:14px 16px; border-radius:12px; border:2px solid rgba(0,0,0,.1); font-size:15px; box-sizing:border-box;">
            <label style="font-size:14px; font-weight:600; color:#334155;">Nachricht</label>
            <textarea id="supportMessage" required rows="4" placeholder="Deine Nachricht…" style="width:100%; padding:14px 16px; border-radius:12px; border:2px solid rgba(0,0,0,.1); font-size:15px; resize:vertical; box-sizing:border-box;"></textarea>
            <button type="submit" class="btn" id="btnSupportSubmit" style="width:100%; min-height:52px; font-weight:800; font-size:16px; border-radius:14px; background:var(--brand); color:#1a1a1a; border:none; cursor:pointer;">Nachricht senden</button>
          </form>
        </div>

        <div style="margin-top:24px; padding:20px; text-align:center; font-size:13px; color:#94a3b8;">made with ❤️ by mittagio.de</div>
<button class="btn ghost btn-back" type="button" onclick="goBackFromLegalPage()" style="margin:0 20px 20px; width:calc(100% - 40px);"><i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück</button>
      </div>
    </section>

    <!-- Anbieter-FAQ: einheitlich helles Layout -->
    <section class="view" id="v-legal-faq-provider" style="min-height:100vh; padding:20px; padding-bottom:90px;">
      <div class="panel" style="padding:20px; border-radius:16px; box-shadow:0 2px 12px rgba(0,0,0,0.06); border:1px solid rgba(0,0,0,0.06);">
        <h1 style="font-size:24px; font-weight:900; margin-bottom:20px; color:#1a1a1a;">FAQ für Anbieter</h1>
        <div style="line-height:1.8; font-size:15px; color:#334155;">
          <div style="margin-bottom:24px; padding-bottom:20px; border-bottom:1px solid rgba(0,0,0,0.08);">
            <h3 style="font-size:18px; font-weight:700; margin-bottom:8px; color:#1a1a1a;">Wie funktioniert der Küchenmodus?</h3>
            <p style="margin:0; color:#334155;">Der Küchenmodus ist dein digitales Cockpit. Hier siehst du live eingehende Bestellungen, kannst deine Mittagskarte verwalten und die Abholnummer-Liste für deine Küche ausdrucken oder per E-Mail versenden.</p>
          </div>
          <div style="margin-bottom:24px; padding-bottom:20px; border-bottom:1px solid rgba(0,0,0,0.08);">
            <h3 style="font-size:18px; font-weight:700; margin-bottom:8px; color:#1a1a1a;">Warum gibt es eine Service-Pauschale von 0,89 €?</h3>
            <p style="margin:0; color:#334155;">Diese Pauschale ist dein „Rundum-Sorglos-Paket". Wir übernehmen die komplette Zahlungsabwicklung und die Bankgebühren für dich. Zudem sparst du massiv Personalzeit an der Kasse und hast keinen manuellen Buchungsaufwand mehr.</p>
          </div>
          <div style="margin-bottom:24px; padding-bottom:20px; border-bottom:1px solid rgba(0,0,0,0.08);">
            <h3 style="font-size:18px; font-weight:700; margin-bottom:8px; color:#1a1a1a;">Muss ich eine Mindestmenge an Essen angeben?</h3>
            <p style="margin:0; color:#334155;">Nein. Du entscheidest flexibel, wann ein Gericht „Ausverkauft" ist. Ein Klick im Küchenmodus genügt, um das Angebot für den Tag zu beenden.</p>
          </div>
          <div style="margin-bottom:24px; padding-bottom:20px; border-bottom:1px solid rgba(0,0,0,0.08);">
            <h3 style="font-size:18px; font-weight:700; margin-bottom:8px; color:#1a1a1a;">Wie sicher ist die Auszahlung?</h3>
            <p style="margin:0; color:#334155;">Wir arbeiten mit professionellen Zahlungsdienstleistern zusammen. Dein Umsatz wird gesammelt und regelmäßig direkt auf dein Bankkonto überwiesen – sauber aufgeschlüsselt für deine Buchhaltung.</p>
          </div>
        </div>
        <div style="margin-top:32px; padding-top:20px; border-top:1px solid rgba(0,0,0,0.08); text-align:center; font-size:14px; color:#64748b;">
          Weitere Fragen? <a href="mailto:support@mittagio.de" style="color:#0A84FF;">support@mittagio.de</a>
        </div>
        <button class="btn ghost btn-back" type="button" onclick="goBackFromLegalPage()" style="margin-top:20px; width:100%;"><i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück</button>
      </div>
    </section>

    <section class="view" id="v-legal-datenschutz">
      <div class="panel">
        <h1 style="font-size:24px; font-weight:900; margin-bottom:20px;">Datenschutzerklärung</h1>
        <div style="line-height:1.8; font-size:15px;">
          <p style="font-weight:700; margin-bottom:12px;">Verantwortlicher:</p>
          <p>
            MQ Mittagio UG (haftungsbeschränkt)<br>
            Langäcker 2, 73635 Rudersberg<br>
            Kunden-Hilfe: <a href="mailto:info@mittagio.de" style="color:var(--brand);">info@mittagio.de</a><br>
            Business-Anfragen: <a href="mailto:support@mittagio.de" style="color:var(--brand);">support@mittagio.de</a>
          </p>
          
          <p style="margin-top:24px; font-weight:700;">Datenminimierung:</p>
          <p>Wir speichern nur, was für die Zuordnung deiner Abholnummer und deiner Ernährungseinstellungen nötig ist.</p>
          
          <p style="margin-top:24px; font-weight:700;">Sitzungssicherheit:</p>
          <p>Um Missbrauch vorzubeugen, erlauben wir nur eine aktive Session pro Account. Eine Neuanmeldung trennt bestehende Verbindungen.</p>
          
          <p style="margin-top:24px; font-weight:700;">Anbieter-Daten:</p>
          <p>Kommunikation für Business-Partner erfolgt strikt über <a href="mailto:support@mittagio.de" style="color:var(--brand);">support@mittagio.de</a>.</p>
          
          <p style="margin-top:24px; font-weight:700;">Abholnummer:</p>
          <p>Die Abholnummer dient als Zahlungs-/Abholnachweis, zur Zuordnung und zum Missbrauchsschutz.</p>
          
          <p style="margin-top:24px; font-weight:700;">Online-Zahlung:</p>
          <p>Online-Zahlung erfolgt über externe Zahlungsdienstleister (z.B. Stripe). Wir speichern keine vollständigen Zahlungsdaten (z.B. Kreditkartennummern).</p>
          
          <p style="margin-top:24px; font-weight:700;">Weitergabe:</p>
          <p>Daten werden nur an Zahlungsdienstleister und wenn gesetzlich erforderlich weitergegeben. Keine Werbeweitergabe.</p>
          
          <p style="margin-top:24px; font-weight:700;">Ihre Rechte:</p>
          <p>Sie haben das Recht auf Auskunft, Berichtigung, Löschung, Einschränkung und Widerspruch. Kontakt: <a href="mailto:info@mittagio.de" style="color:var(--brand);">info@mittagio.de</a></p>
        </div>
        <div style="margin-top:32px; padding-top:20px; border-top:1px solid #eee; text-align:center; font-size:14px; color:#666;">
          Kunden-Hilfe: <a href="mailto:info@mittagio.de" style="color:var(--brand);">info@mittagio.de</a> | Business: <a href="mailto:support@mittagio.de" style="color:var(--brand);">support@mittagio.de</a>
        </div>
        <button class="btn ghost btn-back" type="button" onclick="goBackFromLegalPage()" style="margin-top:20px; width:100%;"><i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück</button>
      </div>
    </section>

    <!-- Datenschutz für Anbieter: einheitlich helles Layout -->
    <section class="view" id="v-legal-datenschutz-provider" style="min-height:100vh; padding:20px; padding-bottom:90px;">
      <div class="panel" style="padding:20px; border-radius:16px; box-shadow:0 2px 12px rgba(0,0,0,0.06); border:1px solid rgba(0,0,0,0.06);">
        <h1 style="font-size:24px; font-weight:900; margin-bottom:20px; color:#1a1a1a;">Datenschutzerklärung (Anbieter)</h1>
        <div style="line-height:1.8; font-size:15px; color:#334155;">
          <p style="font-weight:700; margin-bottom:12px;">Verantwortlicher:</p>
          <p>
            MQ Mittagio UG (haftungsbeschränkt)<br>
            Langäcker 2, 73635 Rudersberg<br>
            <strong>Business-Support:</strong> <a href="mailto:support@mittagio.de" style="color:#0A84FF;">support@mittagio.de</a><br>
            Kunden-Hilfe: <a href="mailto:info@mittagio.de" style="color:#0A84FF;">info@mittagio.de</a>
          </p>
          <p style="margin-top:24px; font-weight:700;">Anbieter-Daten & Zugang:</p>
          <p>Für deinen Anbieter-Zugang speichern wir E-Mail, Passwort (verschlüsselt) und alle von dir angelegten Inhalte (Betrieb, Gerichte, Speisekarte). Diese Daten dienen ausschließlich der Bereitstellung der Plattform und der Abwicklung von Bestellungen.</p>
          <p style="margin-top:24px; font-weight:700;">Sitzung & Sicherheit:</p>
          <p>Pro Anbieter-Account ist nur eine aktive Sitzung erlaubt. Eine neue Anmeldung beendet andere Geräte – das schützt dein Konto vor Missbrauch.</p>
          <p style="margin-top:24px; font-weight:700;">Bestell- & Abholdaten:</p>
          <p>Bestellungen und Abholnummern werden zur Abwicklung und zum Nachweis gespeichert. Kundenbezogene Daten (z. B. Abholnummer, Name bei Bestellung) werden nur im erforderlichen Umfang und nicht für Werbezwecke genutzt.</p>
          <p style="margin-top:24px; font-weight:700;">Zahlungsdienstleister:</p>
          <p>Online-Zahlungen laufen über externe Anbieter (z. B. Stripe). Wir speichern keine vollständigen Zahlungsdaten (z. B. Kreditkartennummern).</p>
          <p style="margin-top:24px; font-weight:700;">Weitergabe:</p>
          <p>Daten werden nur an Zahlungsdienstleister und bei gesetzlicher Verpflichtung weitergegeben. Keine Weitergabe zu Werbezwecken.</p>
          <p style="margin-top:24px; font-weight:700;">Deine Rechte:</p>
          <p>Auskunft, Berichtigung, Löschung, Einschränkung und Widerspruch. Anbieter-Anfragen bitte an <a href="mailto:support@mittagio.de" style="color:#0A84FF;">support@mittagio.de</a>.</p>
        </div>
        <div style="margin-top:32px; padding-top:20px; border-top:1px solid rgba(0,0,0,0.08); text-align:center; font-size:14px; color:#64748b;">
          <a href="mailto:support@mittagio.de" style="color:#0A84FF;">support@mittagio.de</a> · Business-Bereich
        </div>
        <button class="btn ghost btn-back" type="button" onclick="goBackFromLegalPage()" style="margin-top:20px; width:100%;"><i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück</button>
      </div>
    </section>

    <!-- Versionsseite (Link im Footer: v1.0.x) -->
    <section class="view" id="v-version" style="background:#F7F6F0; min-height:100vh; padding:20px; padding-bottom:90px;">
      <div class="panel" style="max-width:480px; margin:0 auto;">
        <h1 style="font-size:24px; font-weight:900; margin-bottom:20px;">Version</h1>
        <p style="font-size:16px; color:#555; margin-bottom:16px;">Aktuelle App-Version: <strong>v1.0.0</strong></p>
        <p style="font-size:14px; color:#666; line-height:1.6;">Changelog und technische Details findest du hier. Bei Fragen: <a href="mailto:info@mittagio.de" style="color:var(--brand);">info@mittagio.de</a></p>
        <button class="btn ghost btn-back" type="button" onclick="history.back();" style="margin-top:24px; width:100%;"><i data-lucide="chevron-left" style="width:18px;height:18px;"></i> Zurück</button>
      </div>
    </section>

    <section class="view" id="v-legal-agb-onboarding">
      <div class="panel">
        <h2 style="font-size:20px; font-weight:900; margin-bottom:16px;">AGB</h2>
        <div style="line-height:1.7; font-size:14px; max-height:60vh; overflow-y:auto;">
          <p><strong>Mittagio ist Plattform, nicht Verkäufer</strong></p>
          <p>Mittagio vermittelt Mittagsangebote lokaler Anbieter. Vertragspartner bei Bestellungen ist ausschließlich der jeweilige Anbieter.</p>
          
          <p style="margin-top:16px;"><strong>Kosten:</strong></p>
          <ul style="padding-left:20px; margin:8px 0;">
            <li>4,99 € zzgl. MwSt. pro Veröffentlichung</li>
            <li>0,89 € zzgl. MwSt. pro Online-Bestellung inkl. aller Bank- & Zahlungsgebühren (pro Bestellung, egal wie viele Gerichte)</li>
          </ul>
          
          <p style="margin-top:16px;"><strong>Abholnummer:</strong></p>
          <p>Abholnummer = Zahlungs- & Abholnachweis. Abwicklungsgebühr fällt auch bei Nicht-Abholung an.</p>
          
          <p style="margin-top:16px;"><strong>Verantwortung:</strong></p>
          <p>Anbieter ist verantwortlich für Inhalte/Speisen/gesetzliche Vorgaben.</p>
          
          <p style="margin-top:16px;"><strong>Support:</strong></p>
          <p>Business-Anfragen: <a href="mailto:support@mittagio.de" style="color:var(--brand);">support@mittagio.de</a></p>
        </div>
      </div>
    </section>
      
      <div id="provFaqBox" style="display:none;">
        <div class="panel">
          <div class="section-title">FAQ (Anbieter)</div>
          <div class="faq">
            <details>
              <summary>Was ist Mittagio?</summary>
              <p>Mittagio ist eine Online-Plattform, auf der du dein Mittagsangebot sichtbar machst – schnell, einfach und flexibel.</p>
            </details>
            <details>
              <summary>Wie verdiene ich damit Zeit?</summary>
              <p>Du legst Gerichte einmal an (Kochbuch) und veröffentlichst sie mit einem Klick. Weniger Telefonate, weniger Chaos.</p>
            </details>
            <details>
              <summary>Muss Online-Zahlung aktiv sein?</summary>
              <p>Nein. Online-Zahlung ist optional. Abholnummern gibt’s nur bei Online-Zahlung.</p>
            </details>
            <details>
              <summary>Wie kann ich mein Angebot teilen?</summary>
              <p>Mit einem Tap: WhatsApp, Instagram oder Homepage – Text ist automatisch vorbereitet.</p>
            </details>
            <details>
              <summary>Inseratsgebühr / Abholnummer?</summary>
              <p>Inseratsgebühr: 4,99 € einmalig heute pro Gericht. Abholnummer: 0,89 € pro Vorgang (inkl. aller Bankgebühren). Keine Mindestlaufzeit.</p>
            </details>
            <details>
              <summary>Wie funktionieren Abholungen?</summary>
              <p>Wenn Abholnummer aktiv ist, werden die Nummern nach Gericht gruppiert angezeigt. Tippe eine Nummer an, sobald ein Gast abgeholt hat.</p>
            </details>
            <details>
              <summary>Warum Abholnummer?</summary>
              <p>Vorab bezahlt, weniger Chaos an der Ausgabe und ein klarer Ablauf pro Bestellung.</p>
            </details>
            <details>
              <summary>Was kostet die Abholnummer?</summary>
              <p>0,89 € pro Vorgang. Auch mit mehreren Gerichten. Inkl. aller Bank- & Verwaltungsgebühren für Kartenzahlung.</p>
            </details>
            <details>
              <summary>Wie spare ich Zeit?</summary>
              <p>Speichere Gerichte im Kochbuch und veröffentliche sie mit 2-3 Taps erneut.</p>
            </details>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- Floating Action Button (FAB) für Modus-Wechsel -->


  <!-- CUSTOMER bottom nav - Mittagio-Bar -->
  <nav class="bottom-nav" id="customerNav" style="position:fixed; bottom:0; left:0; right:0; z-index:999; display:flex; justify-content:space-around; align-items:center; background:rgba(255,255,255,0.85); backdrop-filter:saturate(180%) blur(20px); -webkit-backdrop-filter:saturate(180%) blur(20px); border-top:1px solid rgba(0,0,0,0.05); height:calc(70px + env(safe-area-inset-bottom, 0px)); padding-bottom:env(safe-area-inset-bottom, 0px);">
    <button class="navbtn active" data-go="discover" style="background:none; border:none; padding:8px; cursor:pointer; display:flex; flex-direction:column; align-items:center; gap:4px; transition:all 0.2s;">
      <i data-lucide="search" style="width:22px;height:22px;"></i>
      <span style="font-size:11px; font-weight:700;">Entdecken</span>
    </button>
    <button class="navbtn" data-go="fav" style="background:none; border:none; padding:8px; cursor:pointer; display:flex; flex-direction:column; align-items:center; gap:4px; transition:all 0.2s;">
      <i data-lucide="heart" style="width:22px;height:22px;"></i>
      <span style="font-size:11px; font-weight:700;">Favoriten</span>
    </button>
    <button class="navbtn" data-go="cart" id="bottomNavBasketBtn" style="background:none; border:none; padding:8px; cursor:pointer; display:flex; flex-direction:column; align-items:center; gap:4px; transition:all 0.2s; position:relative;">
      <i data-lucide="shopping-basket" style="width:22px;height:22px;"></i>
      <span style="font-size:11px; font-weight:700;">Mittagsbox</span>
      <span id="bottomNavBasketBadge" style="position:absolute; top:4px; right:4px; background:#FFD700; color:#1a1a1a; font-size:10px; font-weight:900; width:16px; height:16px; border-radius:50%; display:none; align-items:center; justify-content:center; border:2px solid #fff;">0</span>
    </button>
    <button class="navbtn" data-go="profile" style="background:none; border:none; padding:8px; cursor:pointer; display:flex; flex-direction:column; align-items:center; gap:4px; transition:all 0.2s;">
      <i data-lucide="user" style="width:22px;height:22px;"></i>
      <span style="font-size:11px; font-weight:700;">Meins</span>
    </button>
  </nav>

    <!-- PROVIDER bottom nav: fixer Zurück-Button darüber, heller Tab-Bar (App-Style) -->
  <div id="providerNavWrap" class="provider-nav-wrap-pill" style="display:none; position:fixed; bottom:24px; left:16px; right:16px; max-width:500px; margin-left:auto; margin-right:auto; z-index:999; padding:0 env(safe-area-inset-right, 0) env(safe-area-inset-bottom, 0) env(safe-area-inset-left, 0);">
    <div id="providerNavBackRow" style="padding:0 20px 16px; display:none;">
      <button type="button" id="btnProviderNavBack" class="btn-back" aria-label="Zurück" style="background:rgba(255,255,255,0.9); backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px); border:1px solid rgba(0,0,0,0.08); color:#1a1a1a; padding:10px 24px; border-radius:999px; font-size:15px; font-weight:700; cursor:pointer; box-shadow:0 2px 8px rgba(0,0,0,0.06);"><i data-lucide="chevron-left" style="width:20px;height:20px;"></i> Zurück</button>
    </div>
